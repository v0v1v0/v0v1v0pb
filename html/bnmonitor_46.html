<div class="container">

<table style="width: 100%;"><tr>
<td>node_monitor</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Node monitor</h2>

<h3>Description</h3>

<p>Contribution of each vertex of a Bayesian network to the global monitor
</p>


<h3>Usage</h3>

<pre><code class="language-R">node_monitor(dag, df, alpha = "default")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dag</code></td>
<td>
<p>an object of class <code>bn</code> from the <code>bnlearn</code> package</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>a base R style dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>single integer. By default, number of max levels in <code>df</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Consider a Bayesian network over variables <code class="reqn">Y_1,\dots,Y_m</code> and suppose a dataset <code class="reqn">(\boldsymbol{y}_1,\dots,\boldsymbol{y}_n)</code> has been observed, where <code class="reqn">\boldsymbol{y}_i=(y_{i1},\dots,y_{im})</code> and <code class="reqn">y_{ij}</code> is the i-th observation of the j-th variable. The global monitor is defined as the negative log-likelihood of the model, i.e.
</p>
<p style="text-align: center;"><code class="reqn">-\log(p(\boldsymbol{y}_1,\dots,\boldsymbol{y}_n))= - \sum_{j=1}^m\sum_{i=1}^n \log(p(y_{ij} | \pi_{ij})),</code>
</p>

<p>where <code class="reqn">\pi_{ij}</code> is the value of the parents of <code class="reqn">Y_j</code> for the i-th observation. The contribution of the j-th vertex to the global monitor is thus
</p>
<p style="text-align: center;"><code class="reqn">-\sum_{i=1}^n\log(p(y_{ij}|\pi_{ij})).</code>
</p>



<h3>Value</h3>

<p>A dataframe including the name of the vertices and the contribution of the vertices to the global monitor. It also returns a plot where vertices with higher contributions in absolute value are darker.
</p>


<h3>References</h3>

<p>Cowell, R. G., Dawid, P., Lauritzen, S. L., &amp; Spiegelhalter, D. J. (2006). Probabilistic networks and expert systems: Exact computational methods for Bayesian networks. Springer Science &amp; Business Media.
</p>
<p>Cowell, R. G., Verrall, R. J., &amp; Yoon, Y. K. (2007). Modeling operational risk with Bayesian networks. Journal of Risk and Insurance, 74(4), 795-827.
</p>


<h3>See Also</h3>

<p><code>global_monitor</code>, <code>influential_obs</code>, <code>final_node_monitor</code>, <code>seq_node_monitor</code>, <code>seq_pa_ch_monitor</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">node_monitor(chds_bn, chds, 3)

</code></pre>


</div>