<div class="container">

<table style="width: 100%;"><tr>
<td>get_dpar</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Draws of a Distributional Parameter</h2>

<h3>Description</h3>

<p>Get draws of a distributional parameter from a <code>brmsprep</code> or
<code>mvbrmsprep</code> object. This function is primarily useful when developing
custom families or packages depending on <span class="pkg">brms</span>.
This function lets callers easily handle both the case when the
distributional parameter is predicted directly, via a (non-)linear
predictor or fixed to a constant. See the vignette
<code>vignette("brms_customfamilies")</code> for an example use case.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_dpar(prep, dpar, i = NULL, inv_link = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>prep</code></td>
<td>
<p>A 'brmsprep' or 'mvbrmsprep' object created by
<code>prepare_predictions</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dpar</code></td>
<td>
<p>Name of the distributional parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>
<p>The observation numbers for which predictions shall be extracted.
If <code>NULL</code> (the default), all observation will be extracted.
Ignored if <code>dpar</code> is not predicted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inv_link</code></td>
<td>
<p>Should the inverse link function be applied?
If <code>NULL</code> (the default), the value is chosen internally.
In particular, <code>inv_link</code> is <code>TRUE</code> by default for custom
families.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If the parameter is predicted and <code>i</code> is <code>NULL</code> or
<code>length(i) &gt; 1</code>, an <code>S x N</code> matrix. If the parameter it not
predicted or <code>length(i) == 1</code>, a vector of length <code>S</code>. Here
<code>S</code> is the number of draws and <code>N</code> is the number of
observations or length of <code>i</code> if specified.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
posterior_predict_my_dist &lt;- function(i, prep, ...) {
  mu &lt;- brms::get_dpar(prep, "mu", i = i)
  mypar &lt;- brms::get_dpar(prep, "mypar", i = i)
  my_rng(mu, mypar)
}

## End(Not run)

</code></pre>


</div>