<div class="container">

<table style="width: 100%;"><tr>
<td>BIOMOD.formated.data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
<code>BIOMOD_FormatingData()</code> output object class</h2>

<h3>Description</h3>

<p>Class returned by <code>BIOMOD_FormatingData</code>, and used by 
<code>bm_Tuning</code>, <code>bm_CrossValidation</code> and 
<code>BIOMOD_Modeling</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'numeric,data.frame'
BIOMOD.formated.data(
  sp,
  env,
  xy = NULL,
  dir.name = ".",
  sp.name = NULL,
  eval.sp = NULL,
  eval.env = NULL,
  eval.xy = NULL,
  na.rm = TRUE,
  data.mask = NULL,
  shared.eval.env = FALSE,
  filter.raster = FALSE
)

## S4 method for signature 'data.frame,ANY'
BIOMOD.formated.data(
  sp,
  env,
  xy = NULL,
  dir.name = ".",
  sp.name = NULL,
  eval.sp = NULL,
  eval.env = NULL,
  eval.xy = NULL,
  na.rm = TRUE,
  filter.raster = FALSE
)

## S4 method for signature 'numeric,matrix'
BIOMOD.formated.data(
  sp,
  env,
  xy = NULL,
  dir.name = ".",
  sp.name = NULL,
  eval.sp = NULL,
  eval.env = NULL,
  eval.xy = NULL,
  na.rm = TRUE,
  filter.raster = FALSE
)

## S4 method for signature 'numeric,SpatRaster'
BIOMOD.formated.data(
  sp,
  env,
  xy = NULL,
  dir.name = ".",
  sp.name = NULL,
  eval.sp = NULL,
  eval.env = NULL,
  eval.xy = NULL,
  na.rm = TRUE,
  shared.eval.env = FALSE,
  filter.raster = FALSE
)

## S4 method for signature 'BIOMOD.formated.data'
show(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sp</code></td>
<td>
<p>A <code>vector</code>, a <code>SpatVector</code> without associated 
data (<em>if presence-only</em>), or a <code>SpatVector</code>
object containing binary data (<code>0</code> : absence,  <code>1</code> : presence,
<code>NA</code> : indeterminate) for a single species that will be used to 
build the species distribution model(s)
<br><em>Note that old format from <span class="pkg">sp</span> are still supported such as
<code>SpatialPoints</code>  (if presence-only) or <code>SpatialPointsDataFrame</code>
object containing binary data.</em></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>a <code>matrix</code>, <code>data.frame</code>, <code>SpatVector</code>
or <code>SpatRaster</code> object containing the explanatory variables 
(in columns or layers) that will be used to build the species distribution model(s).
<br><em>Note that old format from <span class="pkg">raster</span> and <span class="pkg">sp</span> are still supported such as 
<code>RasterStack</code> and <code>SpatialPointsDataFrame</code> objects. </em></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xy</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br> 
If <code>resp.var</code> is a <code>vector</code>, a 2-columns <code>matrix</code> or <code>data.frame</code> 
containing the corresponding <code>X</code> and <code>Y</code> coordinates that will be used to build the 
species distribution model(s)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir.name</code></td>
<td>
<p>a <code>character</code> corresponding to the modeling folder</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sp.name</code></td>
<td>
<p>a <code>character</code> corresponding to the species name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eval.sp</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br> 
A <code>vector</code>, a <code>SpatVector</code> without associated 
data (<em>if presence-only</em>), or a <code>SpatVector</code>
object containing binary data (<code>0</code> : absence, <code>1</code> : presence, 
<code>NA</code> : indeterminate) for a single species that will be used to
evaluate the species distribution model(s) with independent data
<br><em>Note that old format from <span class="pkg">sp</span> are still supported such as
<code>SpatialPoints</code>  (if presence-only) or <code>SpatialPointsDataFrame</code>
object containing binary data.</em></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eval.env</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br> 
A <code>matrix</code>, <code>data.frame</code>, <code>SpatVector</code> or
<code>SpatRaster</code> object containing the explanatory
variables (in columns or layers) that will be used to evaluate the species
distribution model(s) with independent data
<br><em>Note that old format from <span class="pkg">raster</span> and <span class="pkg">sp</span> are still
supported such as <code>RasterStack</code> and <code>SpatialPointsDataFrame</code>
objects. </em></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eval.xy</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br> 
If <code>resp.var</code> is a <code>vector</code>, a 2-columns <code>matrix</code> or
<code>data.frame</code> containing the corresponding <code>X</code> and <code>Y</code>
coordinates that will be used to evaluate the species distribution model(s)
with independent data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br> 
A <code>logical</code> value defining whether points having one or several missing
values for explanatory variables should be removed from the analysis or not</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.mask</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br> 
A <code>SpatRaster</code> object containing the mask of the studied area</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shared.eval.env</code></td>
<td>
<p>(<em>optional, default</em> <code>FALSE</code>) <br> 
A <code>logical</code> value defining whether the explanatory variables used for the 
evaluation dataset are the same than the ones for calibration (if <code>eval.env</code> not 
provided for example) or not</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter.raster</code></td>
<td>
<p>(<em>optional, default</em> <code>FALSE</code>) <br> 
If <code>env</code> is of raster type, a <code>logical</code> value defining whether <code>sp</code> 
is to be filtered when several points occur in the same raster cell</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a <code>BIOMOD.formated.data</code> object</p>
</td>
</tr>
</table>
<h3>Slots</h3>


<dl>
<dt><code>dir.name</code></dt>
<dd>
<p>a <code>character</code> corresponding to the modeling folder</p>
</dd>
<dt><code>sp.name</code></dt>
<dd>
<p>a <code>character</code> corresponding to the species name</p>
</dd>
<dt><code>coord</code></dt>
<dd>
<p>a 2-columns <code>data.frame</code> containing the corresponding <code>X</code> and <code>Y</code> 
coordinates</p>
</dd>
<dt><code>data.species</code></dt>
<dd>
<p>a <code>vector</code> containing the species observations (<code>0</code>, <code>1</code> or 
<code>NA</code>)</p>
</dd>
<dt><code>data.env.var</code></dt>
<dd>
<p>a <code>data.frame</code> containing explanatory variables</p>
</dd>
<dt><code>data.mask</code></dt>
<dd>
<p>a <code>SpatRaster</code> object containing the mask of the 
studied area</p>
</dd>
<dt><code>has.data.eval</code></dt>
<dd>
<p>a <code>logical</code> value defining whether evaluation data is given</p>
</dd>
<dt><code>eval.coord</code></dt>
<dd>
<p>(<em>optional, default</em> <code>NULL</code>) <br> 
A 2-columns <code>data.frame</code> containing the corresponding <code>X</code> and <code>Y</code> 
coordinates for evaluation data</p>
</dd>
<dt><code>eval.data.species</code></dt>
<dd>
<p>(<em>optional, default</em> <code>NULL</code>) <br> 
A <code>vector</code> containing the species observations (<code>0</code>, <code>1</code> or <code>NA</code>) for 
evaluation data</p>
</dd>
<dt><code>eval.data.env.var</code></dt>
<dd>
<p>(<em>optional, default</em> <code>NULL</code>) <br> 
A <code>data.frame</code> containing explanatory variables for evaluation data</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code>BIOMOD_FormatingData</code>, <code>bm_Tuning</code>, 
<code>bm_CrossValidation</code>, <code>BIOMOD_Modeling</code>, 
<code>bm_RunModelsLoop</code>
</p>
<p>Other Toolbox objects: 
<code>BIOMOD.ensemble.models.out</code>,
<code>BIOMOD.formated.data.PA</code>,
<code>BIOMOD.models.options</code>,
<code>BIOMOD.models.out</code>,
<code>BIOMOD.options.dataset</code>,
<code>BIOMOD.options.default</code>,
<code>BIOMOD.projection.out</code>,
<code>BIOMOD.stored.data</code>,
<code>biomod2_ensemble_model</code>,
<code>biomod2_model</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
showClass("BIOMOD.formated.data")

## ----------------------------------------------------------------------- #
library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



## ----------------------------------------------------------------------- #
# Format Data with true absences
myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                     expl.var = myExpl,
                                     resp.xy = myRespXY,
                                     resp.name = myRespName)
myBiomodData
plot(myBiomodData)
summary(myBiomodData)


</code></pre>


</div>