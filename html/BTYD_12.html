<div class="container">

<table style="width: 100%;"><tr>
<td>bgbb.PlotFrequencyInHoldout</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>BG/BB Plot Frequency in Holdout</h2>

<h3>Description</h3>

<p>Plots the actual and expected number of customers who made a certain number
of transactions in the holdout period, binned according to holdout period
frequencies. Also returns a matrix with this comparison and the number of
customers in each bin.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bgbb.PlotFrequencyInHoldout(
  params,
  n.cal,
  rf.matrix.holdout,
  censor = NULL,
  plotZero = TRUE,
  title = "Frequency of Repeat Transactions",
  xlab = "Holdout period transactions",
  ylab = "Customers"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>BG/BB parameters - a vector with alpha, beta, gamma, and delta,
in that order. Alpha and beta are unobserved parameters for the
beta-Bernoulli transaction process. Gamma and delta are unobserved
parameters for the beta-geometric dropout process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.cal</code></td>
<td>
<p>number of transaction opportunities in the calibration period.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rf.matrix.holdout</code></td>
<td>
<p>holdout period recency-frequency matrix. It must
contain columns for frequency in the holdout period ("x.star"), the number
of transaction opportunities in the holdout period ("n.star"), and the
number of customers with each frequency ("custs").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>censor</code></td>
<td>
<p>optional. Any calibration period frequency at this number, or
above it, will be binned together. If the censor number is greater than the
maximum recency in the recency-frequency matrix, the maximum recency will
be used as the censor number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotZero</code></td>
<td>
<p>If FALSE, the histogram will exclude the zero bin.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>title placed on the top-center of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>descriptive label for the x axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>descriptive label for the y axis.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Holdout period repeat transaction frequency comparison matrix (actual vs. expected).
</p>


<h3>References</h3>

<p>Fader, Peter S., Bruce G.S. Hardie, and Jen Shang.
"Customer-Base Analysis in a Discrete-Time Noncontractual Setting."
<em>Marketing Science</em> 29(6), pp. 1086-1108. 2010. INFORMS.
<a href="http://www.brucehardie.com/papers/020/">Web.</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(donationsSummary)

rf.matrix &lt;- donationsSummary$rf.matrix
rf.matrix.holdout &lt;- donationsSummary$rf.matrix.holdout
# donationsSummary$rf.matrix and donationsSummary$rf.matrix.holdout already
# have appropriate column names

# starting-point parameters
startingparams &lt;- c(1, 1, 0.5, 3)
# estimated parameters
est.params &lt;- bgbb.EstimateParameters(rf.matrix, startingparams)

# number of periods in the calibration period
n.cal = max(rf.matrix[,"n.cal"])

bgbb.PlotFrequencyInHoldout(est.params, n.cal, rf.matrix.holdout)
</code></pre>


</div>