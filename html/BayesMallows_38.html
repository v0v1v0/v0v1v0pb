<div class="container">

<table style="width: 100%;"><tr>
<td>get_mallows_loglik</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Likelihood and log-likelihood evaluation for a Mallows mixture model</h2>

<h3>Description</h3>

<p>Compute either the likelihood or the log-likelihood value of the
Mallows mixture model parameters for a dataset of complete rankings.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_mallows_loglik(
  rho,
  alpha,
  weights,
  metric = c("footrule", "spearman", "cayley", "hamming", "kendall", "ulam"),
  rankings,
  observation_frequency = NULL,
  log = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>A matrix of size <code style="white-space: pre;">⁠n_clusters x n_items⁠</code> whose rows are
permutations of the first n_items integers corresponding to the modal
rankings of the Mallows mixture components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>A vector of <code>n_clusters</code> non-negative scalar specifying the
scale (precision) parameters of the Mallows mixture components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>A vector of <code>n_clusters</code> non-negative scalars specifying
the mixture weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metric</code></td>
<td>
<p>Character string specifying the distance measure to use.
Available options are <code>"kendall"</code>, <code>"cayley"</code>, <code>"hamming"</code>,
<code>"ulam"</code>, <code>"footrule"</code>, and <code>"spearman"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rankings</code></td>
<td>
<p>A matrix with observed rankings in each row.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>observation_frequency</code></td>
<td>
<p>A vector of observation frequencies (weights) to apply to
each row in <code>rankings</code>. This can speed up computation if a large
number of assessors share the same rank pattern. Defaults to <code>NULL</code>,
which means that each row of <code>rankings</code> is multiplied by 1. If
provided, <code>observation_frequency</code> must have the same number of elements as there
are rows in <code>rankings</code>, and <code>rankings</code> cannot be <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p>A logical; if TRUE, the log-likelihood value is returned,
otherwise its exponential. Default is <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The likelihood or the log-likelihood value corresponding to one or
more observed complete rankings under the Mallows mixture rank model with
distance specified by the <code>metric</code> argument.
</p>


<h3>See Also</h3>

<p>Other rank functions: 
<code>compute_expected_distance()</code>,
<code>compute_observation_frequency()</code>,
<code>compute_rank_distance()</code>,
<code>create_ranking()</code>,
<code>sample_mallows()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Simulate a sample from a Mallows model with the Kendall distance

n_items &lt;- 5
mydata &lt;- sample_mallows(
  n_samples = 100,
  rho0 = 1:n_items,
  alpha0 = 10,
  metric = "kendall")

# Compute the likelihood and log-likelihood values under the true model...
get_mallows_loglik(
  rho = rbind(1:n_items, 1:n_items),
  alpha = c(10, 10),
  weights = c(0.5, 0.5),
  metric = "kendall",
  rankings = mydata,
  log = FALSE
  )

get_mallows_loglik(
  rho = rbind(1:n_items, 1:n_items),
  alpha = c(10, 10),
  weights = c(0.5, 0.5),
  metric = "kendall",
  rankings = mydata,
  log = TRUE
  )

# or equivalently, by using the frequency distribution
freq_distr &lt;- compute_observation_frequency(mydata)
get_mallows_loglik(
  rho = rbind(1:n_items, 1:n_items),
  alpha = c(10, 10),
  weights = c(0.5, 0.5),
  metric = "kendall",
  rankings = freq_distr[, 1:n_items],
  observation_frequency = freq_distr[, n_items + 1],
  log = FALSE
  )

get_mallows_loglik(
  rho = rbind(1:n_items, 1:n_items),
  alpha = c(10, 10),
  weights = c(0.5, 0.5),
  metric = "kendall",
  rankings = freq_distr[, 1:n_items],
  observation_frequency = freq_distr[, n_items + 1],
  log = TRUE
  )
</code></pre>


</div>