<div class="container">

<table style="width: 100%;"><tr>
<td>PredictorResponseBivar</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Predict the exposure-response function at a new grid of points</h2>

<h3>Description</h3>

<p>Predict the exposure-response function at a new grid of points
</p>


<h3>Usage</h3>

<pre><code class="language-R">PredictorResponseBivar(
  fit,
  y = NULL,
  Z = NULL,
  X = NULL,
  z.pairs = NULL,
  method = "approx",
  ngrid = 50,
  q.fixed = 0.5,
  sel = NULL,
  min.plot.dist = 0.5,
  center = TRUE,
  z.names = colnames(Z),
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>An object containing the results returned by a the <code>kmbayes</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>a vector of outcome data of length <code>n</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p>an <code>n</code>-by-<code>M</code> matrix of predictor variables to be included in the <code>h</code> function. Each row represents an observation and each column represents an predictor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>an <code>n</code>-by-<code>K</code> matrix of covariate data where each row represents an observation and each column represents a covariate. Should not contain an intercept column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z.pairs</code></td>
<td>
<p>data frame showing which pairs of predictors to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>method for obtaining posterior summaries at a vector of new points. Options are "approx" and "exact"; defaults to "approx", which is faster particularly for large datasets; see details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ngrid</code></td>
<td>
<p>number of grid points in each dimension</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q.fixed</code></td>
<td>
<p>vector of quantiles at which to fix the remaining predictors in <code>Z</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sel</code></td>
<td>
<p>logical expression indicating samples to keep; defaults to keeping the second half of all samples</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.plot.dist</code></td>
<td>
<p>specifies a minimum distance that a new grid point needs to be from an observed data point in order to compute the prediction; points further than this will not be computed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>flag for whether to scale the exposure-response function to have mean zero</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z.names</code></td>
<td>
<p>optional vector of names for the columns of <code>z</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>TRUE or FALSE: flag of whether to print intermediate output to the screen</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments to pass on to the prediction function</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For guided examples, go to <a href="https://jenfb.github.io/bkmr/overview.html">https://jenfb.github.io/bkmr/overview.html</a>
</p>


<h3>Value</h3>

<p>a long data frame with the name of the first predictor, the name of the second predictor, the value of the first predictor, the value of the second predictor, the posterior mean estimate, and the posterior standard deviation of the estimated exposure response function
</p>


<h3>Examples</h3>

<pre><code class="language-R">## First generate dataset
set.seed(111)
dat &lt;- SimData(n = 50, M = 4)
y &lt;- dat$y
Z &lt;- dat$Z
X &lt;- dat$X

## Fit model with component-wise variable selection
## Using only 100 iterations to make example run quickly
## Typically should use a large number of iterations for inference
set.seed(111)
fitkm &lt;- kmbayes(y = y, Z = Z, X = X, iter = 100, verbose = FALSE, varsel = TRUE)

## Obtain predicted value on new grid of points for each pair of predictors
## Using only a 10-by-10 point grid to make example run quickly
pred.resp.bivar &lt;- PredictorResponseBivar(fit = fitkm, min.plot.dist = 1, ngrid = 10)

</code></pre>


</div>