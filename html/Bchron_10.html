<div class="container">

<table style="width: 100%;"><tr>
<td>coreInfluence</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find the influence of dates in a pair of Bchronology runs across the core</h2>

<h3>Description</h3>

<p>This function takes as input two <code>Bchronology</code> runs and compares the uncertainty intervals. It does this by
computing the mean uncertainty across the core (<code>type = 'mean'</code>) at a specified percentile level (e.g. 95%) and
subsequently reporting the reduction/increase in uncertainty between the two runs. Both cores must
have the same set of depths/positions at regular intervals.
</p>


<h3>Usage</h3>

<pre><code class="language-R">coreInfluence(
  bchrRun1,
  bchrRun2,
  percentile = 0.95,
  type = c("plot", "summary", "max"),
  ageTolerance = 500,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>bchrRun1</code></td>
<td>
<p>The output of a run of the <code>Bchronology</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bchrRun2</code></td>
<td>
<p>The output of another run of the <code>Bchronology</code> function, possibly with different dates.
Note this must have the same value of <code>predictPositions</code> as <code>bchrRun1</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percentile</code></td>
<td>
<p>The value of the percentile to compare the uncertainties. Default is 95%</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>if <code>plot</code> will return a plot of the difference in uncertainties at the specified percentile level.
If <code>summary</code> will return text output of the reduction in uncertainty at each position. If <code>max</code> will return the
position of the maximum decrease in uncertainty and a list of all the positions where the reduction in uncertainty exceeds the value of
<code>ageTolerance</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ageTolerance</code></td>
<td>
<p>A value in years for which to report the positions at which the reduction in uncertainty exceeds this value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to plot</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For example, if the <code>ageTolerance</code> value is 500 years, then <code>coreInfluence</code> will return all of the positions at
which the uncertainty reduction is bigger than 500.
</p>


<h3>Value</h3>

<p>Depending on type will outputs some text and plots providing the influence values for the cores in question.
</p>


<h3>See Also</h3>

<p><code>Bchronology</code>,  <code>choosePositions</code>, <code>dateInfluence</code> for finding the influence of removing a single date from a core
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(Glendalough)
# Start with a run that remove two dates
GlenOut1 &lt;- Bchronology(
  ages = Glendalough$ages[-c(3:4)],
  ageSds = Glendalough$ageSds[-c(3:4)],
  calCurves = Glendalough$calCurves[-c(3:4)],
  positions = Glendalough$position[-c(3:4)],
  positionThicknesses = Glendalough$thickness[-c(3:4)],
  ids = Glendalough$id[-c(3:4)],
  predictPositions = seq(0, 1500, by = 10)
)
GlenOut2 &lt;- Bchronology(
  ages = Glendalough$ages,
  ageSds = Glendalough$ageSds,
  calCurves = Glendalough$calCurves,
  positions = Glendalough$position,
  positionThicknesses = Glendalough$thickness,
  ids = Glendalough$id,
  predictPositions = seq(0, 1500, by = 10)
)

# Now compare their influence
coreInfluence(GlenOut1,
  GlenOut2,
  type = c("max", "plot"),
  xlab = "Age (cal years BP)",
  ylab = "Depth (cm)",
  main = "Chronology difference at 95% for
              Glendalough removing two dates",
  las = 1
)

</code></pre>


</div>