<div class="container">

<table style="width: 100%;"><tr>
<td>assert_cores</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Check number of cores</h2>

<h3>Description</h3>

<p>Check that you are not trying to use too many cores.
</p>


<h3>Usage</h3>

<pre><code class="language-R">assert_cores(ncores)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>ncores</code></td>
<td>
<p>Number of cores to check. Make sure is not larger than
<code>getOption("bigstatsr.ncores.max")</code> (number of logical cores by default).
We advise you to use <code>nb_cores()</code>. If you really know what you are doing,
you can change this default value with <code>options(bigstatsr.ncores.max = Inf)</code>.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>It also checks if two levels of parallelism are used, i.e. having <code>ncores</code>
larger than 1, and having a parallel BLAS enabled by default.
You could remove this check by setting
<code>options(bigstatsr.check.parallel.blas = FALSE)</code>.
</p>
<p>We instead recommend that you disable parallel BLAS by default by adding
<code>try(bigparallelr::set_blas_ncores(1), silent = TRUE)</code> to your .Rprofile
(<strong>with an empty line at the end of this file</strong>) so that this is set whenever
you start a new R session. You can use <code>usethis::edit_r_profile()</code> to open
your .Rprofile. For this to be effective, you should restart the R session or
run <code>options(default.nproc.blas = NULL)</code> once in the current session.
</p>
<p>Then, in a specific R session, you can set a different number of cores to use
for matrix computations using <code>bigparallelr::set_blas_ncores()</code>, if you know
there is no other level of parallelism involved in your code.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

assert_cores(2)

## End(Not run)

</code></pre>


</div>