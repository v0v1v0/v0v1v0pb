<div class="container">

<table style="width: 100%;"><tr>
<td>blandr.draw</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bland-Altman drawing function for R</h2>

<h3>Description</h3>

<p>Bland-Altman drawing function. Depends on the blandr.statistics function in the package. Will generate a plot via the standard R plotting functions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">blandr.draw(
  method1,
  method2,
  method1name = "Method 1",
  method2name = "Method 2",
  plotTitle = "Bland-Altman plot for comparison of 2 methods",
  sig.level = 0.95,
  LoA.mode = 1,
  annotate = FALSE,
  ciDisplay = TRUE,
  ciShading = TRUE,
  normalLow = FALSE,
  normalHigh = FALSE,
  lowest_y_axis = FALSE,
  highest_y_axis = FALSE,
  point_size = 0.8,
  overlapping = FALSE,
  plotter = "ggplot",
  x.plot.mode = "means",
  y.plot.mode = "difference",
  plotProportionalBias = FALSE,
  plotProportionalBias.se = TRUE,
  assume.differences.are.normal = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>method1</code></td>
<td>
<p>A vector of numbers corresponding to the results from method 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method2</code></td>
<td>
<p>A vector of numbers corresponding to the results from method 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method1name</code></td>
<td>
<p>(Optional) Plotting name for 1st method, default 'Method 1'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method2name</code></td>
<td>
<p>(Optional) Plotting name for 2nd method, default 'Method 2'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotTitle</code></td>
<td>
<p>(Optional) Title name, default 'Bland-Altman plot for comparison of 2 methods'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig.level</code></td>
<td>
<p>(Optional) Two-tailed significance level. Expressed from 0 to 1. Defaults to 0.95.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LoA.mode</code></td>
<td>
<p>(Optional) Switch to change how accurately the limits of agreement (LoA) are calculated from the bias and its standard deviation. The default is LoA.mode=1 which calculates LoA with the more accurate 1.96x multiplier. LoA.mode=2 uses the 2x multiplier which was used in the original papers. This should really be kept at default, except to double check calculations in older papers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>annotate</code></td>
<td>
<p>(Optional) TRUE/FALSE switch to provides annotations to plot, default=FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ciDisplay</code></td>
<td>
<p>(Optional) TRUE/FALSE switch to plot confidence intervals for bias and limits of agreement, default=TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ciShading</code></td>
<td>
<p>(Optional) TRUE/FALSE switch to plot confidence interval shading to plot, default=TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalLow</code></td>
<td>
<p>(Optional) If there is a normal range, entering a continuous variable will plot a vertical line on the plot to indicate its lower boundary</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalHigh</code></td>
<td>
<p>(Optional) If there is a normal range, entering a continuous variable will plot a vertical line on the plot to indicate its higher boundary</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lowest_y_axis</code></td>
<td>
<p>(Optional) Defaults to NULL If given a continuous variable will use this as the lower boundary of the y axis. Useful if need multiple plots with equivalent y-axes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>highest_y_axis</code></td>
<td>
<p>(Optional) Defaults to NULL If given a continuous variable will use this as the upper boundary of the y axis. Useful if need multiple plots with equivalent y-axes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point_size</code></td>
<td>
<p>(Optional) Size of marker for each dot. Default is cex=0.8</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overlapping</code></td>
<td>
<p>(Optional) TRUE/FALSE switch to increase size of plotted point if multiple values using ggplot's geom_count, default=FALSE. Not currently recommend until I can tweak the graphics to make them better</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotter</code></td>
<td>
<p>(Optional- default='ggplot') Selects which graphics engine to use to plot the Bland-Altman charts. 2 options are 'ggplot' or 'rplot'. If unknown parameter sent, will default to 'ggplot'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.plot.mode</code></td>
<td>
<p>(Optional) Switch to change x-axis from being plotted by means (="means") or by either 1st method (="method1") or 2nd method (="method2"). Default is "means". Anything other than "means" will switch to default mode.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.plot.mode</code></td>
<td>
<p>(Optional) Switch to change y-axis from being plotted by difference (="difference") or by proportion magnitude of measurements (="proportion"). Default is "difference". Anything other than "proportional" will switch to default mode.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotProportionalBias</code></td>
<td>
<p>(Optional) TRUE/FALSE switch. Plots a proportional bias line. Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotProportionalBias.se</code></td>
<td>
<p>(Optional) TRUE/FALSE switch. If proportional bias line is drawn, switch to plot standard errors. See stat_smooth for details. Default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>assume.differences.are.normal</code></td>
<td>
<p>(Optional, not operationally used currently) Assume the difference of means has a normal distribution. Will be used to build further analyses</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>Started 2015-11-14
</p>
<p>Last update 2015-11-19
</p>
<p>Originally designed for LAVAS and CVLA
</p>


<h3>Author(s)</h3>

<p>Deepankar Datta <a href="mailto:deepankar.datta@gmail.com">deepankar.datta@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Generates two random measurements
measurement1 &lt;- rnorm(100)
measurement2 &lt;- rnorm(100)

# Generates a plot, with no optional arguments
blandr.draw( measurement1 , measurement2 )

# Generates a plot, using the in-built R graphics
blandr.draw( measurement1 , measurement2 , plotter = 'rplot' )

# Generates a plot, with title changed
blandr.draw( measurement1 , measurement2 , plotTitle = 'Bland-Altman example plot' )

# Generates a plot, with title changed, and confidence intervals off
blandr.draw( measurement1 , measurement2 , plotTitle = 'Bland-Altman example plot' ,
ciDisplay = FALSE , ciShading = FALSE )

</code></pre>


</div>