<div class="container">

<table style="width: 100%;"><tr>
<td>enrichment_simulation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prognostic Enrichment with Simulated Data</h2>

<h3>Description</h3>

<p>Evaluating biomarkers for prognostic enrichment of clinical trials using simulated data
</p>


<h3>Usage</h3>

<pre><code class="language-R">enrichment_simulation(baseline.event.rate, reduction.under.treatment,
  estimated.auc, roc.type = NULL, cost.screening = NULL,
  cost.keeping = NULL, simulation.sample.size = 5e+05,
  alternative = c("one.sided", "two.sided"), power = 0.9, alpha = 0.025,
  selected.biomarker.quantiles = seq(from = 0, to = 95, by = 5))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>baseline.event.rate</code></td>
<td>
<p>A number between 0 and 1 indicating the prevalence of the event in the study population.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reduction.under.treatment</code></td>
<td>
<p>A number between 0 and 1 indicating the percent reduction in event rate under treatment that the trial should be able to detect with the specified power.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimated.auc</code></td>
<td>
<p>A numeric vector, with each entry between 0.5 and 1, that specifies the AUC for each biomarker to use in simulations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>roc.type</code></td>
<td>
<p>A character vector with the same length as the estimated.auc argument. Each entry must be one of "symmetric", "right.shifted", or "left.shifted", which describes the general shape of the ROC curve to use for simulated data. Defaults to "symmetric" for each biomarker.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cost.screening</code></td>
<td>
<p>A positive number indicating the cost of screening a patient to determine trial eligibility, This argument is optional; if both cost.screening and cost.keeping are specified, then then the total cost of the trial based on each screening threshold is estimated and returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cost.keeping</code></td>
<td>
<p>A positive number indicating the cost of retaining a patient in the trial after enrolling. This argument is optional; if both cost.screening and cost.keeping are specified, then then the total cost of the trial based on each screening threshold is estimated and returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simulation.sample.size</code></td>
<td>
<p>A positive number giving the sample size to use for simulated data. Defaults to 500,000 (to help see trends).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>Character specifying whether the alternative hypothesis is one-sided (“one.sided”) with a higher outcome probability in the treatment group or two-sided (“two.sided”). Defaults to “one.sided”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>Number between 0 and 1 giving the power the trial should have to reject the null hypothesis that there is no treatment effect. Defaults to 0.9.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Number between 0 and 1 giving the type I error rate for testing the null hypothesis that there is no treatment effect.  Defaults to 0.025.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>selected.biomarker.quantiles</code></td>
<td>
<p>Numeric vector specifying the quantiles of the biomarker measured in controls that will be used to screen trial participants. Defaults to 0, 5, ..., 95. All entries must be between at least 0 and less than 001.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with components
</p>

<ul>
<li>
<p> estimates: A data frame with the following summary measures for each biomarker threshold that is used to screen trial participants: ‘selected.biomarker.quantiles’: quantiles of observed biomarker values used for screening. ‘biomarker.screening.thresholds’: the values of the biomarker corresponding to the quantiles, ‘event.rate’: post-screening event rate, ‘NNS’: The estimated number of patients needed to screen to identify one patient eligible for the trial, ‘SS’: The sample size in a clinical trial enrolling only patients whose biomarker-based disease risk is above the level used for screening, ‘N.screen’: The total number of individuals whose biomarker values are screened to determine whether they should be enrolled in the trial, ‘N.screen.increase.percentage’: Percentage in N.screen relative to a trail that does not based on the biomarker. ‘total.cost’: The estimated total cost of running the trial if the biomarker were used for prognostic enrichment (if cost.screening and cost.keeping are specified), ‘cost.reduction.percentage’: The reduction in total cost relative to a trial that does not screen based on the biomarker. ‘Biomarker’: label for the biomarker. 
</p>
</li>
<li>
<p> simulation: Logical indicating whether data were simulated (always TRUE for the <code>plot_enrichment_summaries</code> function).
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>enrichment_analysis</code>, <code>plot_enrichment_summaries</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## three biomarkers with symmetric ROC curves
simulation.three.markers &lt;- enrichment_simulation(baseline.event.rate=0.2,
reduction.under.treatment=0.3,
estimated.auc=c(0.72, 0.82, 0.85),
roc.type=c("symmetric", "symmetric", "symmetric"),
cost.screening=1,
cost.keeping=10,
simulation.sample.size=1e+5)
head(simulation.three.markers$estimates)

</code></pre>


</div>