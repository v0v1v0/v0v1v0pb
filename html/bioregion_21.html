<div class="container">

<table style="width: 100%;"><tr>
<td>netclu_louvain</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Louvain community finding</h2>

<h3>Description</h3>

<p>This function finds communities in a (un)weighted undirected network based
on the Louvain algorithm.
</p>


<h3>Usage</h3>

<pre><code class="language-R">netclu_louvain(
  net,
  weight = TRUE,
  cut_weight = 0,
  index = names(net)[3],
  lang = "igraph",
  resolution = 1,
  seed = NULL,
  q = 0,
  c = 0.5,
  k = 1,
  bipartite = FALSE,
  site_col = 1,
  species_col = 2,
  return_node_type = "both",
  binpath = "tempdir",
  path_temp = "louvain_temp",
  delete_temp = TRUE,
  algorithm_in_output = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>net</code></td>
<td>
<p>the output object from <code>similarity()</code> or
<code>dissimilarity_to_similarity()</code>.
If a <code>data.frame</code> is used, the first two columns represent pairs of sites
(or any pair of nodes), and the next column(s) are the similarity indices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>a <code>boolean</code> indicating if the weights should be considered
if there are more than two columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cut_weight</code></td>
<td>
<p>a minimal weight value. If <code>weight</code> is TRUE, the links
between sites with a weight strictly lower than this value will not be
considered (O by default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>name or number of the column to use as weight. By default,
the third column name of <code>net</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lang</code></td>
<td>
<p>a string indicating what version of Louvain should be used
(<code>igraph</code> or <code>cpp</code>, see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resolution</code></td>
<td>
<p>a resolution parameter to adjust the modularity
(1 is chosen by default, see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>for the random number generator (only when <code>lang = "igraph"</code>,
NULL for random by default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>the quality function used to compute partition of the graph
(modularity is chosen by default, see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c</code></td>
<td>
<p>the parameter for the Owsinski-Zadrozny quality function
(between 0 and 1, 0.5 is chosen by default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>the kappa_min value for the Shi-Malik quality function
(it must be &gt; 0, 1 is chosen by default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bipartite</code></td>
<td>
<p>a boolean indicating if the network is bipartite
(see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>site_col</code></td>
<td>
<p>name or number for the column of site nodes
(i.e. primary nodes).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>species_col</code></td>
<td>
<p>name or number for the column of species nodes
(i.e. feature nodes).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_node_type</code></td>
<td>
<p>a <code>character</code> indicating what types of nodes
(<code>site</code>, <code>species</code> or <code>both</code>) should be returned in the output
(<code>return_node_type = "both"</code> by default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binpath</code></td>
<td>
<p>a <code>character</code> indicating the path to the bin folder
(see install_binaries and Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path_temp</code></td>
<td>
<p>a <code>character</code> indicating the path to the temporary folder
(see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delete_temp</code></td>
<td>
<p>a <code>boolean</code> indicating if the temporary folder should
be removed (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>algorithm_in_output</code></td>
<td>
<p>a <code>boolean</code> indicating if the original output
of cluster_louvain should be returned in the
output (<code>TRUE</code> by default, see Value).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Louvain is a network community detection algorithm proposed in
(Blondel et al. 2008). This function proposed two
implementations of the function (parameter <code>lang</code>): the
<a href="https://cran.r-project.org/package=igraph">igraph</a>
implementation (cluster_louvain) and the C++
implementation (<a href="https://sourceforge.net/projects/louvain/">https://sourceforge.net/projects/louvain/</a>, version 0.3).
</p>
<p>The <a href="https://cran.r-project.org/package=igraph">igraph</a>
implementation offers the possibility to adjust the resolution parameter of
the modularity function (<code>resolution</code> argument) that the algorithm uses
internally. Lower values typically yield fewer, larger clusters. The original
definition of modularity is recovered when the resolution parameter
is set to 1 (by default).
</p>
<p>The C++ implementation offers the possibility to choose among several
quality functions,
<code>q = 0</code> for the classical Newman-Girvan criterion (also called
"Modularity"), 1 for the Zahn-Condorcet criterion, 2 for the
Owsinski-Zadrozny criterion (you should specify the value of the parameter
with the <code>c</code> argument), 3 for the Goldberg Density criterion, 4 for the
A-weighted Condorcet criterion, 5 for the Deviation to Indetermination
criterion, 6 for the Deviation to Uniformity criterion, 7 for the Profile
Difference criterion, 8 for the Shi-Malik criterion (you should specify the
value of kappa_min with <code>k</code> argument) and 9 for the Balanced Modularity
criterion.
</p>
<p>The C++ version of Louvain is based on the version 0.3
(<a href="https://sourceforge.net/projects/louvain/">https://sourceforge.net/projects/louvain/</a>). This function needs
binary files to run. They can be installed with
install_binaries.
</p>
<p><strong>If you changed the default path to the <code>bin</code> folder
while running install_binaries PLEASE MAKE SURE to set <code>binpath</code>
accordingly.</strong>
</p>
<p>The C++ version of Louvain generates temporary folders and/or files that are
stored in the <code>path_temp</code> folder ("louvain_temp" with an unique timestamp
located in the bin folder in <code>binpath</code> by default). This temporary folder
is removed by default (<code>delete_temp = TRUE</code>).
</p>


<h3>Value</h3>

<p>A <code>list</code> of class <code>bioregion.clusters</code> with five slots:
</p>

<ol>
<li>
<p><strong>name</strong>: <code>character</code> containing the name of the algorithm
</p>
</li>
<li>
<p><strong>args</strong>: <code>list</code> of input arguments as provided by the user
</p>
</li>
<li>
<p><strong>inputs</strong>: <code>list</code> of characteristics of the clustering process
</p>
</li>
<li>
<p><strong>algorithm</strong>: <code>list</code> of all objects associated with the
clustering procedure, such as original cluster objects (only if
<code>algorithm_in_output = TRUE</code>)
</p>
</li>
<li>
<p><strong>clusters</strong>: <code>data.frame</code> containing the clustering results</p>
</li>
</ol>
<p>In the <code>algorithm</code> slot, if <code>algorithm_in_output = TRUE</code>, users can find an
the output of cluster_louvain
if <code>lang = "igraph"</code> and the following element if <code>lang = "cpp"</code>:
</p>

<ul>
<li>
<p><code>cmd</code>: the command line use to run Louvain
</p>
</li>
<li>
<p><code>version</code>: the Louvain version
</p>
</li>
<li>
<p><code>web</code>: Louvain's website
</p>
</li>
</ul>
<p>.
</p>


<h3>Note</h3>

<p>Although this algorithm was not primarily designed to deal with bipartite
network, it is possible to consider the bipartite network as unipartite
network (<code>bipartite = TRUE</code>).
</p>
<p>Do not forget to indicate which of the first two columns is dedicated to the
site nodes (i.e. primary nodes) and species nodes (i.e. feature nodes) using
the arguments <code>site_col</code> and <code>species_col</code>. The type of nodes returned in
the output can be chosen with the argument <code>return_node_type</code> equal to
<code>both</code> to keep both types of nodes, <code>sites</code> to preserve only the sites
nodes and <code>species</code> to preserve only the species nodes.
</p>


<h3>Author(s)</h3>

<p>Maxime Lenormand (<a href="mailto:maxime.lenormand@inrae.fr">maxime.lenormand@inrae.fr</a>),
Pierre Denelle (<a href="mailto:pierre.denelle@gmail.com">pierre.denelle@gmail.com</a>) and
Boris Leroy (<a href="mailto:leroy.boris@gmail.com">leroy.boris@gmail.com</a>)
</p>


<h3>References</h3>

<p>Blondel VD, Guillaume JL, Lambiotte R, Mech ELJS (2008).
“Fast unfolding of communities in large networks.”
<em>J. Stat. Mech</em>, P10008.
</p>


<h3>See Also</h3>

<p><code>install_binaries()</code>, <code>netclu_infomap()</code>, <code>netclu_oslom()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">comat &lt;- matrix(sample(1000, 50), 5, 10)
rownames(comat) &lt;- paste0("Site", 1:5)
colnames(comat) &lt;- paste0("Species", 1:10)

net &lt;- similarity(comat, metric = "Simpson")
com &lt;- netclu_louvain(net, lang = "igraph")

</code></pre>


</div>