<div class="container">

<table style="width: 100%;"><tr>
<td>bdc_coordinates_transposed</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Identify transposed geographic coordinates</h2>

<h3>Description</h3>

<p>This function flags and corrects records when latitude and longitude appear
to be transposed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bdc_coordinates_transposed(
  data,
  id = "database_id",
  sci_names = "scientificName",
  lat = "decimalLatitude",
  lon = "decimalLongitude",
  country = "country",
  countryCode = "countryCode",
  border_buffer = 0.2,
  save_outputs = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data.frame. Containing a unique identifier for each record,
geographical coordinates, and country names. Coordinates must be expressed
in decimal degrees and WGS84.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>character string. The column name with a unique record identifier.
Default = "database_id".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sci_names</code></td>
<td>
<p>character string. The column name with species scientific
name. Default = "scientificName".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat</code></td>
<td>
<p>character string. The column name with latitude. Coordinates must
be expressed in decimal degrees and WGS84. Default = "decimalLatitude".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lon</code></td>
<td>
<p>character string. The column with longitude. Coordinates must be
expressed in decimal degrees and WGS84. Default = "decimalLongitude".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>country</code></td>
<td>
<p>character string. The column name with the country
assignment of each record. Default = "country".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>countryCode</code></td>
<td>
<p>character string. The column name with an ISO-2 country
code.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border_buffer</code></td>
<td>
<p>numeric &gt;= 0. A distance in decimal degrees used to
created a buffer around the country. Records within a given country and at
a specified distance from the border will be not be corrected.
Default = 0.2 (~22 km at the equator).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_outputs</code></td>
<td>
<p>logical. Should a table containing transposed coordinates
saved for further inspection? Default = FALSE.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This test identifies transposed coordinates resulted from mismatches
between the country informed for a record and coordinates. Transposed
coordinates often fall outside of the indicated country (i.e., in other
countries or in the sea). Different coordinate transformations are
performed to correct country/coordinates mismatches. Importantly, verbatim
coordinates are replaced by the corrected ones in the returned database. A
database containing verbatim and corrected coordinates is created in
"Output/Check/01_coordinates_transposed.csv" if save_outputs == TRUE. The
columns "country" and "countryCode" can be retrieved by using the function
<code>bdc_country_standardized</code>.
</p>


<h3>Value</h3>

<p>A data.frame containing the column "coordinates_transposed"
indicating if verbatim coordinates were not transposed (TRUE). Otherwise
records are flagged as (FALSE) and, in this case, verbatim coordinates are
replaced by corrected coordinates.
</p>


<h3>See Also</h3>

<p>Other prefilter: 
<code>bdc_basisOfRecords_notStandard()</code>,
<code>bdc_coordinates_country_inconsistent()</code>,
<code>bdc_coordinates_empty()</code>,
<code>bdc_coordinates_from_locality()</code>,
<code>bdc_coordinates_outOfRange()</code>,
<code>bdc_country_standardized()</code>,
<code>bdc_scientificName_empty()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
id &lt;- c(1, 2, 3, 4)
scientificName &lt;- c(
  "Rhinella major", "Scinax ruber",
  "Siparuna guianensis", "Psychotria vellosiana"
)
decimalLatitude &lt;- c(63.43333, -14.43333, -41.90000, -46.69778)
decimalLongitude &lt;- c(-17.90000, -67.91667, -13.25000, -13.82444)
country &lt;- c("BOLIVIA", "bolivia", "Brasil", "Brazil")

x &lt;- data.frame(
  id, scientificName, decimalLatitude,
  decimalLongitude, country
)

# Get country code
x &lt;- bdc_country_standardized(data = x, country = "country")

bdc_coordinates_transposed(
  data = x,
  id = "id",
  sci_names = "scientificName",
  lat = "decimalLatitude",
  lon = "decimalLongitude",
  country = "country_suggested",
  countryCode = "countryCode",
  border_buffer = 0.2,
  save_outputs = FALSE 
) 

## End(Not run)

</code></pre>


</div>