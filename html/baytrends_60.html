<div class="container">

<table style="width: 100%;"><tr>
<td>layerAggregation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Aggregate data layers</h2>

<h3>Description</h3>

<p>This function aggregates data layers. Steps: 1) Perform first level error checking
to make sure that the data set contains 'layer' and valid aggregation option was
selected. 2) Perform second level error checking to make sure the aggregation option
selection makes sense (e.g. cannot aggregate "S" and "AP" if no "AP" data are in the
data set). 3) Average the data by taking the median or mean based on user input.
</p>


<h3>Usage</h3>

<pre><code class="language-R">layerAggregation(df, avgTechnique = "mean", layerAggOption = 3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>avgTechnique</code></td>
<td>
<p>method for aggregating data ("mean" [default], "median")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layerAggOption</code></td>
<td>
<p>(0[default]: no aggregation; 1: combine "S" &amp; "AP"
("SAP"); 2: combine "B" &amp; "BP" ("BBP"); 3: opt 1 &amp; 2 ("SAP", "BBP"); 4:
combine all ("ALL")); 5: combine "S" and "B" ("SB")</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>data frame with aggregated data
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
dfr    &lt;- analysisOrganizeData(dataCensored)

# retrieve all corrected chlorophyll-a concentrations for Station CB5.4,
# missing values are removed and transformation applied. Note, a 
# warning is displayed indicating that data set has layers but user did
# not specify layer in retrieval. layerAggregation then aggregates per 
# specifications
dfr2   &lt;- selectData(dfr[["df"]], 'chla', 'CB5.4', analySpec=dfr[["analySpec"]])
df2    &lt;- dfr2[[1]]   # data frame of selected data
iSpec2 &lt;- dfr2[[2]]   # meta data about selected data
df2a   &lt;- layerAggregation(df2, avgTechnique="mean", layerAggOption=4)

## End(Not run)

</code></pre>


</div>