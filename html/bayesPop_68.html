<div class="container">

<table style="width: 100%;"><tr>
<td>pop.trajectories.plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Output of Probabilistic Population Projection
</h2>

<h3>Description</h3>

<p>The functions plot and tabulate the distribution of population projection for a given country, or for all countries, including the median and given probability intervals.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pop.trajectories.plot(pop.pred, country = NULL, expression = NULL, pi = c(80, 95), 
    sex = c("both", "male", "female"), age = "all", sum.over.ages = TRUE, 
    half.child.variant = FALSE, nr.traj = NULL, typical.trajectory = FALSE,
    main = NULL, dev.ncol = 5, lwd = c(2, 2, 2, 2, 1), 
    col = c("black", "red", "red", "blue", "#00000020"), show.legend = TRUE, 
    ann = par("ann"), xshift = 0, ...)
    
pop.trajectories.plotAll(pop.pred, 
    output.dir=file.path(getwd(), "pop.trajectories"),
    output.type="png", expression = NULL, verbose=FALSE, ...)
    
pop.trajectories.table(pop.pred, country = NULL, expression = NULL, pi = c(80, 95), 
    sex = c("both", "male", "female"), age = "all", half.child.variant = FALSE,  
    xshift = 0, ...)
    
pop.byage.plot(pop.pred, country = NULL, year = NULL, expression = NULL, 
    pi = c(80, 95), sex = c("both", "male", "female"), 
    half.child.variant = FALSE, nr.traj = NULL, typical.trajectory=FALSE,
    xlim = NULL, ylim = NULL, xlab = "", ylab = "Population projection", 
    main = NULL, lwd = c(2,2,2,1), col = c("red", "red", "blue", "#00000020"),
    show.legend = TRUE, add = FALSE, ann = par("ann"), type = "l", pch = NA, 
    pt.cex = 1, ...)
    
pop.byage.plotAll(pop.pred, 
    output.dir=file.path(getwd(), "pop.byage"),
    output.type="png", expression = NULL, verbose=FALSE, ...)

pop.byage.table(pop.pred, country = NULL, year = NULL, expression = NULL, 
    pi = c(80, 95), sex = c("both", "male", "female"), 
    half.child.variant = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pop.pred</code></td>
<td>
<p>Object of class <code>bayesPop.prediction</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>country</code></td>
<td>
<p>Name or numerical code of a country. It can also be given as ISO-2 or ISO-3 characters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expression</code></td>
<td>
<p>Expression defining the population measure to be plotted. For syntax see <code>pop.expressions</code>. For <code>pop.trajectories.plot</code>, <code>pop.trajectories.table</code>, <code>pop.byage.plot</code> and <code>pop.byage.table</code> the basic components of the expression must be country-specific. For <code>pop.trajectories.plotAll</code> and <code>pop.byage.plotAll</code> the country part should be given as “XXX”. In addition, expressions passed into <code>pop.byage.plot</code> and <code>pop.byage.table</code> must contain curly braces (i.e. be age specific).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi</code></td>
<td>
<p>Probability interval. It can be a single number or an array.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sex</code></td>
<td>
<p>One of “both”  (default), “male” or “female”. By default the male and female projections are summed up.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age</code></td>
<td>
<p>Either a character string “all” (default) or an integer vector of age indices. In a five year simulation, value 1 corresponds to age 0-4, value 2 corresponds to age 5-9 etc. Last age goup <code class="reqn">130+</code> corresponds to index 27. In an annual simulation, the age indices 1, 2, 3, ..., 131 corrrespond to ages 0, 1, 2, ..., <code class="reqn">130+</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sum.over.ages</code></td>
<td>
<p>Logical.  If <code>TRUE</code>, the values are summed up over given age groups. Otherwise there is a separate plot for each age group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>half.child.variant</code></td>
<td>
<p>Logical. If TRUE the United Nations “+/-0.5 child” variant computed with fertility <code class="reqn">+/- 0.5*</code> TFR median and the median of life expectancy is shown.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nr.traj</code></td>
<td>
<p>Number of trajectories to be plotted. If <code>NULL</code>, all trajectories are plotted, otherwise they are thinned evenly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>typical.trajectory</code></td>
<td>
<p>Logical. If <code>TRUE</code> one trajectory is shown that has the smallest distance to the median.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim, ylim, xlab, ylab, main, ann, pt.cex</code></td>
<td>
<p>Graphical parameters passed to the <code>plot</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xshift</code></td>
<td>
<p>Constant added to the x-axis (year).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dev.ncol</code></td>
<td>
<p>Number of column for the graphics device if <code>sum.over.ages</code> is <code>FALSE</code>. If the number of age groups is smaller than <code>dev.ncol</code>, the number of columns is automatically decreased.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd, col</code></td>
<td>
<p>For the first three functions it is a vector of five elements giving the line width and color for: 1. observed data, 2. median, 3. quantiles, 4. half-child variant, 5. trajectories. For functions that show results by age it is a vector of four elements - as above without the first item (observed data).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type, pch</code></td>
<td>
<p>Currently works for plotting by age only. It is a vector of four elements giving the plot type and point type for: 1. median, 2. quantiles, 3. half-child variant, 4. trajectories. The last element of the array is recycled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.legend</code></td>
<td>
<p>Logical controlling whether the legend should be drawn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional graphical arguments. Functions <code>pop.trajectories.plotAll</code> and <code>pop.byage.plotAll</code> accept also any arguments of <code>pop.trajectories.plot</code> and <code>pop.byage.plot</code>, respectively, except <code>country</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output.dir</code></td>
<td>
<p>Directory into which resulting graphs are stored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output.type</code></td>
<td>
<p>Type of the resulting files. It can be “png”, “pdf”, “jpeg”, “bmp”, “tiff”, or “postscript”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical switching log messages on and off.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year</code></td>
<td>
<p>Any year within the time period to be outputted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>Logical specifying if the plot should be added to an existing graphics.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>pop.trajectories.plot</code> plots trajectories of population projection by time for a given country. <br><code>pop.trajectories.table</code> gives the same output as a table. <code>pop.trajectories.plotAll</code> creates a set of graphs (one per country) that are stored in <code>output.dir</code>. The projections can be visualized separately for each sex and age groups, or summed up over both sexes and/or given age groups. This is controlled by the arguments <code>sex</code>, <code>age</code> and <code>sum.over.ages</code>.
</p>
<p><code>pop.byage.plot</code> and <code>pop.byage.table</code> plots/tabulate the posterior distribution by age for a given country and time period. <code>pop.byage.plotAll</code> creates such plots for all countries. 
</p>
<p>The median and given probability intervals are computed using all available trajectories. Thus, <code>nr.traj</code> does not influence those values - it is used only to control the number of trajectories plotted.
</p>
<p>If plotting results of an expression and the function fails, to debug obtain values of that expression using the functions <code>get.pop.ex</code> (for <code>pop.trajectories.plot</code>) and <code>get.pop.exba</code> (for <code>pop.byage.plot</code>).
</p>


<h3>Author(s)</h3>

<p>Hana Sevcikova
</p>


<h3>See Also</h3>

<p><code>bayesPop.prediction</code>, <code>summary.bayesPop.prediction</code>, <code>pop.pyramid</code>, <code>pop.expressions</code>, <code>get.pop</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">sim.dir &lt;- file.path(find.package("bayesPop"), "ex-data", "Pop")
pred &lt;- get.pop.prediction(sim.dir)
pop.trajectories.plot(pred, country="Ecuador", pi=c(80, 95))
pop.trajectories.table(pred, country="ECU", pi=c(80, 95))
# female population of Ecuador in child bearing ages (by time)
pop.trajectories.plot(pred, expression="PEC_F[4:10]") 
# Population by age in Netherands for two different years 
pop.byage.plot(pred, country="Netherlands", year=2050)
pop.byage.plot(pred, expression="PNL{}", year=2000)
</code></pre>


</div>