<div class="container">

<table style="width: 100%;"><tr>
<td>BP_JS_Writer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate JavaScript file for a bipartite network</h2>

<h3>Description</h3>

<p>Function called by bipartite_D3() to write JavaScript and CSS file.
In most cases it is better to use bipartite_D3() directly.
</p>


<h3>Usage</h3>

<pre><code class="language-R">BP_JS_Writer(
  df,
  filename = "JSBP",
  colouroption = c("monochrome", "brewer", "manual")[1],
  HighlightLab = "Unlinked",
  HighlightCol = "#3366CC",
  monoChromeCol = "rgb(56,43,61)",
  ColourBy = c(1, 2)[2],
  BrewerPalette = "Accent",
  NamedColourVector,
  MainFigSize = NULL,
  SortPrimary = NULL,
  SortSecondary = NULL,
  mp = c(1, 1),
  MinWidth = 10,
  Pad = 1,
  IndivFigSize = c(200, 400),
  BarSize = 35,
  Orientation = c("vertical", "horizontal")[1],
  EdgeMode = c("straight", "smooth")[2],
  AxisLabels = NULL,
  FigureLabel = NULL,
  BoxLabPos = NULL,
  IncludePerc = TRUE,
  PercentageDecimals = 0,
  PercPos = NULL,
  CSS_Output_Supress = FALSE,
  PRINT = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>data.frame containing the names of the interactors and the link strengths. bipartite package data need to be passed through Matrix2DF or Array2DF first.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>character string to name the .js and .css files. Do not include a file extension</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colouroption</code></td>
<td>
<p>Either 'monochrome', 'brewer' or 'manual'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>HighlightLab</code></td>
<td>
<p>Name of interactor to highlight</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>HighlightCol</code></td>
<td>
<p>Highlight colour</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>monoChromeCol</code></td>
<td>
<p>If using monochrome option, what colour to use</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ColourBy</code></td>
<td>
<p>Which set of interactors to colour by. 1= primary, 2= secondary</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BrewerPalette</code></td>
<td>
<p>RColorBrewer palette</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NamedColourVector</code></td>
<td>
<p>Named vector of colours for manual colour assignment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MainFigSize</code></td>
<td>
<p>Size of figure, used here to calculate facet spacing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SortPrimary</code></td>
<td>
<p>Vector detailing order to arrange primary level. Default is alphabetical</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SortSecondary</code></td>
<td>
<p>Vector detailing order to arrange secondary level. Default is alphabetical</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mp</code></td>
<td>
<p>Numeric vector c(rows, columns)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MinWidth</code></td>
<td>
<p>Numeric. Minimum size to shrink unselected interactors to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Pad</code></td>
<td>
<p>Numeric. Gap between species.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IndivFigSize</code></td>
<td>
<p>Size of each facet, specifically the interactions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BarSize</code></td>
<td>
<p>Thickness of bars representing interactors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Orientation</code></td>
<td>
<p>Either 'horizontal' or 'vertical' orientation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>EdgeMode</code></td>
<td>
<p>Set to 'straight' to avoid curly lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AxisLabels</code></td>
<td>
<p>c('Primary','Secondary') to overide column names of dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FigureLabel</code></td>
<td>
<p>Character vector, to allow overide of use of df column names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BoxLabPos</code></td>
<td>
<p>c(x_p,x_s) To adjust position of species labels. Default is based on maximum length of labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IncludePerc</code></td>
<td>
<p>Boolean. whether or not to show percentage links</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PercentageDecimals</code></td>
<td>
<p>Number of decimal places to display percentages to. Useful if rare species are rounded to 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PercPos</code></td>
<td>
<p>c(x_p,x_s) To adjust position of percentages.  Default is based on maximum length of labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CSS_Output_Supress</code></td>
<td>
<p>Boolean. Set to TRUE if you have changed the CSS file manually and don't want it over written</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PRINT</code></td>
<td>
<p>Boolean. Output generated JavaScript to screen?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>As a side effect, saves visjs.js (vis plotting library), filename.js and filename.css to the working directory.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Simple Data Set
testdata &lt;- data.frame(higher = c("bee1","bee1","bee1","bee2","bee1","bee3"),
lower = c("plant1","plant2","plant1","plant2","plant3","plant4"),
 Meadow=c(5,9,1,2,3,7))

BP_JS_Writer(testdata,PRINT=TRUE)

## tidy up (to keep CRAN happy, not needed in real life use)
file.remove('vizjs.js')
file.remove('JSBP.js')
file.remove('JSBP.css')

</code></pre>


</div>