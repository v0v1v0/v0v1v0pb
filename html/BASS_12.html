<div class="container">

<table style="width: 100%;"><tr>
<td>sobol</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>BASS Sensitivity Analysis</h2>

<h3>Description</h3>

<p>Decomposes the variance of the BASS model into variance due to main effects, two way interactions, and so on, similar to the ANOVA decomposition for linear models.  Uses the Sobol' decomposition, which can be done analytically for MARS models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sobol(
  bassMod,
  prior = NULL,
  prior.func = NULL,
  mcmc.use = NULL,
  func.var = NULL,
  xx.func.var = NULL,
  verbose = TRUE,
  getEffects = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>bassMod</code></td>
<td>
<p>a fitted model output from the <code>bass</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prior</code></td>
<td>
<p>a list of priors; uniform, truncated mixture of Normals or Ts for continuous; vector of category weights for categorical.  Default is uniform over range of data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prior.func</code></td>
<td>
<p>prior for functional variable.  In almost all cases, keep this as the uniform default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mcmc.use</code></td>
<td>
<p>an integer vector indexing which MCMC iterations to use for sensitivity analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>func.var</code></td>
<td>
<p>an integer indicating which functional variable to make sensitivity indices a function of.  Disregard if <code>bassMod</code> is non-functional or if scalar sensitivity indices are desired.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xx.func.var</code></td>
<td>
<p>grid for functional variable specified by <code>func.var</code>.  Disregard if <code>func.var</code> is not specified.  If <code>func.var</code> is specified and <code>xx.func.var</code> not specified, the grid used to fit <code>bass</code> will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical; should progress be displayed?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>getEffects</code></td>
<td>
<p>logical; should Sobols ANOVA decomposition be computed?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Performs analytical Sobol' decomposition for each MCMC iteration in mcmc.use (each corresponds to a MARS model), yeilding a posterior distribution of sensitivity indices.  Can obtain Sobol' indices as a function of one functional variable.
</p>


<h3>Value</h3>

<p>If non-functional (<code>func.var = NULL</code>), a list with two elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>S</code></td>
<td>
<p>a data frame of sensitivity indices with number of rows matching the length of <code>mcmc.use</code>.  The columns are named with a particular main effect or interaction.  The values are the proportion of variance in the model that is due to each main effect or interaction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T</code></td>
<td>
<p>a data frame of total sensitivity indices with number of rows matching the length of <code>mcmc.use</code>.  The columns are named with a particular variable.</p>
</td>
</tr>
</table>
<p>Otherwise, a list with four elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>S</code></td>
<td>
<p>an array with first dimension corresponding to MCMC samples (same length as <code>mcmc.use</code>), second dimension corresponding to different main effects and interactions (labeled in <code>names.ind</code>), and third dimension corresponding to the grid used for the functional variable.  The elements of the array are sensitivity indices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S.var</code></td>
<td>
<p>same as <code>S</code>, but scaled in terms of total variance rather than percent of variance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names.ind</code></td>
<td>
<p>a vector of names of the main effects and interactions used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xx</code></td>
<td>
<p>the grid used for the functional variable.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>bass for model fitting and predict.bass for prediction.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># See examples in bass documentation.

</code></pre>


</div>