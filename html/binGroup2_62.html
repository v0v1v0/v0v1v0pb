<div class="container">

<table style="width: 100%;"><tr>
<td>TOD</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Summary measures for the Thresholded Optimal Dorfman (TOD) algorithm</h2>

<h3>Description</h3>

<p>Summary measures for the Thresholded Optimal Dorfman (TOD)
algorithm.
</p>


<h3>Usage</h3>

<pre><code class="language-R">TOD(p.vec, Se, Sp, max = 15, init.group.sz = NULL, threshold = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>p.vec</code></td>
<td>
<p>a vector of individual risk probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Se</code></td>
<td>
<p>sensitivity of the diagnostic test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Sp</code></td>
<td>
<p>specificity of the diagnostic test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max</code></td>
<td>
<p>the maximum allowable group size. Further details are given under
'Details'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init.group.sz</code></td>
<td>
<p>the initial group size used for TOD, if <kbd>threshold</kbd>
is not specified. Further details are given under 'Details'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>the threshold value for TOD. If a threshold is not
specified, one is found algorithmically. Further details are given under
'Details'.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function finds the characteristics of an informative two-stage
hierarchical (Dorfman) decoding process. Characteristics found include the
expected expenditure of the decoding process, the variance of the expenditure
of the decoding process, and the pooling sensitivity, pooling specificity,
pooling positive predictive value, and pooling negative predictive value for
each individual and for the overall algorithm. Calculations of these
characteristics are done using equations presented in McMahan et al. (2012).
</p>
<p>Thresholded Optimal Dorfman (TOD) is an informative Dorfman algorithm in
which all <code class="reqn">N</code> individuals are partitioned into two classes, low-risk and
high-risk individuals. The threshold can be specified using the optional
<kbd>threshold</kbd> argument. Alternatively, the TOD algorithm can identify
the optimal threshold value. The low-risk individuals are tested using an
optimal common pool size, and the high-risk individuals are tested
individually. If desired, the user can add the constraint of a maximum
allowable group size (<kbd>max</kbd>), so that each group will contain no more
than the maximum allowable number of individuals.
</p>
<p>The displayed overall pooling sensitivity, pooling specificity, pooling
positive predictive value, and pooling negative predictive value are
weighted averages of the corresponding individual accuracy measures for all
individuals within the initial group (or block) for a hierarchical
algorithm, or within the entire array for an array-based algorithm.
Expressions for these averages are provided in the Supplementary
Material for Hitt et al. (2019). These expressions are based on accuracy
definitions given by Altman and Bland (1994a, 1994b).
</p>


<h3>Value</h3>

<p>A list containing:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>the vector of individual risk probabilities, as specified
by the user.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Se</code></td>
<td>
<p>the sensitivity of the diagnostic test, as specified by the user.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Sp</code></td>
<td>
<p>the specificity of the diagnostic test, as specified by the user.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group.sz</code></td>
<td>
<p>the initial group size used for TOD, if applicable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thresh.val</code></td>
<td>
<p>the threshold value used for TOD, if applicable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OTC</code></td>
<td>
<p>a list specifying elements of the optimal testing configuration,
which may include:
</p>

<dl>
<dt>Block.sz</dt>
<dd>
<p>the block size/initial group size for informative Dorfman
testing, which is not tested.</p>
</dd>
<dt>pool.szs</dt>
<dd>
<p>group sizes for the first stage of testing for informative
Dorfman testing.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ET</code></td>
<td>
<p>the expected testing expenditure to decode all individuals in the
algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Var</code></td>
<td>
<p>the variance of the testing expenditure to decode all individuals
in the algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Accuracy</code></td>
<td>
<p>a list containing:
</p>

<dl>
<dt>Individual</dt>
<dd>
<p>a matrix of accuracy measures for each individual.
The rows correspond to each unique set of accuracy
measures in the algorithm. Individuals with the same set of accuracy
measures are displayed together in a single row of the matrix. The columns
correspond to the pool index, the individual risk probability, and the
pooling sensitivity, pooling specificity, pooling positive predictive value,
and pooling negative predictive value for the individuals in each row of the
matrix.</p>
</dd>
<dt>Overall</dt>
<dd>
<p>a matrix of overall accuracy measures for the algorithm.
The columns correspond to the pooling sensitivity, pooling specificity,
pooling positive predictive value, and pooling negative predictive value
for the overall algorithm. Further details are given under 'Details'.</p>
</dd>
</dl>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Brianna D. Hitt
</p>


<h3>References</h3>

<p>Altman, D., Bland, J. (1994).
“Diagnostic tests 1: Sensitivity and specificity.”
<em>BMJ</em>, <b>308</b>, 1552.
</p>
<p>Altman, D., Bland, J. (1994).
“Diagnostic tests 2: Predictive values.”
<em>BMJ</em>, <b>309</b>, 102.
</p>
<p>Hitt, B., Bilder, C., Tebbs, J., McMahan, C. (2019).
“The objective function controversy for group testing: Much ado about nothing?”
<em>Statistics in Medicine</em>, <b>38</b>, 4912–4923.
</p>
<p>McMahan, C., Tebbs, J., Bilder, C. (2012a).
“Informative Dorfman Screening.”
<em>Biometrics</em>, <b>68</b>, 287–296.
</p>


<h3>See Also</h3>

<p><code>expectOrderBeta</code> for generating a vector of individual risk
probabilities.
</p>
<p>Other operating characteristic functions: 
<code>GroupMembershipMatrix()</code>,
<code>Sterrett()</code>,
<code>halving()</code>,
<code>operatingCharacteristics1()</code>,
<code>operatingCharacteristics2()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Example 1: Find the characteristics of an informative
#   Dorfman algorithm, using the TOD procedure.
set.seed(1002)
p.vec &lt;- expectOrderBeta(p = 0.01, alpha = 2, size = 20)
TOD(p = p.vec, Se = 0.95, Sp = 0.95, max = 5,
    threshold = 0.015)

# Example 2: Find the threshold value for the TOD
#   procedure algorithmically. Then, find
#   characteristics of the algorithm.
TOD(p = p.vec, Se = 0.95, Sp = 0.95, max = 5,
    init.group.sz = 10)
</code></pre>


</div>