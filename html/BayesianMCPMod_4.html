<div class="container">

<table style="width: 100%;"><tr>
<td>getContr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>getContr</h2>

<h3>Description</h3>

<p>This function calculates contrast vectors that are optimal for detecting certain alternatives via applying the function optContr() of the DoseFinding package.
Hereby 4 different options can be distinguished that are automatically executed based on the input that is provided
</p>

<ol>
<li>
<p> Bayesian approach: If dose_weights and a prior_list are provided an optimized contrasts for the posterior sample size is calculated.
In detail,  in a first step the dose_weights (typically the number of patients per dose group) and the prior information is combined by calculating for
each dose group a posterior effective sample. Based on this posterior effective sample sizes the allocation ratio is derived, which allows for a calculation on
pseudo-optimal contrasts via regular MCPMod are calculated from the
regular MCPMod for these specific weights
</p>
</li>
<li>
<p> Frequentist approach: If only dose_weights are provided optimal contrast vectors are calculated from the
regular MCPMod for these specific weights
</p>
</li>
<li>
<p> Bayesian approach + re-estimation: If only a sd_posterior (i.e. variability of the posterior distribution) is provided, pseudo-optimal contrasts based on these posterior weights will be calculated
</p>
</li>
<li>
<p> Frequentist approach+re-estimation:If only a se_new_trial (i.e. the estimated variability per dose group of a new trial) is provided, optimal contrast vectors are calculated from the
regular MCPMod for this specific vector of standard errors. For the actual evaluation this vector of standard errors is translated into a (diagonal) matrix of variances
</p>
</li>
</ol>
<h3>Usage</h3>

<pre><code class="language-R">getContr(
  mods,
  dose_levels,
  dose_weights = NULL,
  prior_list = NULL,
  sd_posterior = NULL,
  se_new_trial = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mods</code></td>
<td>
<p>An object of class 'Mods' as created by the function 'DoseFinding::Mods()'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dose_levels</code></td>
<td>
<p>Vector containing the different dosage levels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dose_weights</code></td>
<td>
<p>Vector specifying weights for the different doses. Please note that in case this information is provided together with a prior (i.e. Option 1) is planned these two inputs should be provided on the same scale (e.g. patient numbers).  Default NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prior_list</code></td>
<td>
<p>A list of objects of class 'normMix' as created with 'RBesT::mixnorm()'. Only required as input for Option 1. Default NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd_posterior</code></td>
<td>
<p>A vector of positive values with information about the variability of the posterior distribution, only required for Option 3. Default NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se_new_trial</code></td>
<td>
<p>A vector of positive values with information about the observed variability, only required for Option 4. Default NULL</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class 'optContr' as provided by the function 'DoseFinding::optContr()'.
</p>


<h3>Examples</h3>

<pre><code class="language-R">dose_levels  &lt;- c(0, 0.5, 2, 4, 8)
mods &lt;- DoseFinding::Mods(
  linear      = NULL,
  linlog      = NULL,
  emax        = c(0.5, 1.2),
  exponential = 2,
  doses       = dose_levels,
  maxEff      = 6)
sd_posterior &lt;- c(2.8, 3, 2.5, 3.5, 4)

contr_mat &lt;- getContr(
  mods         = mods,
  dose_levels  = dose_levels,
  sd_posterior = sd_posterior) 

</code></pre>


</div>