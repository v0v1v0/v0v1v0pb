<div class="container">

<table style="width: 100%;"><tr>
<td>constructModel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Construct an object of class BigVAR</h2>

<h3>Description</h3>

<p>Construct an object of class BigVAR
</p>


<h3>Usage</h3>

<pre><code class="language-R">constructModel(
  Y,
  p,
  struct,
  gran,
  h = 1,
  cv = "Rolling",
  verbose = TRUE,
  IC = TRUE,
  VARX = list(),
  T1 = floor(nrow(Y)/3),
  T2 = floor(2 * nrow(Y)/3),
  ONESE = FALSE,
  ownlambdas = FALSE,
  recursive = FALSE,
  dates = as.character(NULL),
  window.size = 0,
  separate_lambdas = FALSE,
  linear = FALSE,
  loss = "L2",
  rolling_oos = FALSE,
  model.controls = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p><code class="reqn">T \times k</code> multivariate time series or Y <code class="reqn">T \times (k+m)</code> endogenous and exogenous series, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>Predetermined maximal lag order (for modeled series).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>struct</code></td>
<td>
<p>The choice of penalty structure (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gran</code></td>
<td>
<p>vector of penalty parameter specifications.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p>Desired forecast horizon.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv</code></td>
<td>
<p>Cross-validation approach, either 'Rolling' for rolling cross-validation or 'LOO' for leave-one-out cross-validation. 'None' for use with BigVAR.fit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Verbose output while estimating.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IC</code></td>
<td>
<p>True or False: whether to include AIC and BIC benchmarks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>VARX</code></td>
<td>
<p>List containing VARX model specifications.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T1</code></td>
<td>
<p>Index of time series in which to start cross validation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T2</code></td>
<td>
<p>Index of times series in which to start forecast evaluation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ONESE</code></td>
<td>
<p>True or False: whether to use the 'One Standard Error Heuristic.'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ownlambdas</code></td>
<td>
<p>True or False: Indicator for user-supplied penalty parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recursive</code></td>
<td>
<p>True or False: Indicator as to whether iterative multi-step predictions are desired in the VAR context if the forecast horizon is greater than 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dates</code></td>
<td>
<p>optional vector of dates corresponding to <code class="reqn">Y</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window.size</code></td>
<td>
<p>size of rolling window.  If set to 0 an expanding window will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>separate_lambdas</code></td>
<td>
<p>indicator for separate penalty parameters for each time series (default <code>FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linear</code></td>
<td>
<p>indicator for linearly decrementing penalty grid (FALSE is log-linear; default <code>FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loss</code></td>
<td>
<p>Loss function to select penalty parameter (one of 'L1','L2','Huber')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rolling_oos</code></td>
<td>
<p>True or False: indicator to update the penalty parameter over the evaluation period (default <code>False</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model.controls</code></td>
<td>
<p>named list of control parameters for BigVAR model estimation (see details).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The choices for 'struct' are as follows
</p>

<ul>
<li>
<p>  'Basic' (Basic VARX-L)
</p>
</li>
<li>
<p>  'BasicEN' (Elastic Net VARX-L)
</p>
</li>
<li>
<p>  'Lag' (Lag Group VARX-L) 
</p>
</li>
<li>
<p>  'SparseLag' (Lag Sparse Group VARX-L) 
</p>
</li>
<li>
<p>  'OwnOther' (Own/Other Group VARX-L) 
</p>
</li>
<li>
<p>  'SparseOO' (Own/Other Sparse Group VARX-L) 
</p>
</li>
<li>
<p>  'EFX' (Endogenous First VARX-L)
</p>
</li>
<li>
<p>  'HLAGC' (Componentwise HLAG) 
</p>
</li>
<li>
<p>  'HLAGOO' (Own/Other HLAG) 
</p>
</li>
<li>
<p>  'HLAGELEM' (Elementwise HLAG)
</p>
</li>
<li>
<p>  'Tapered' (Lag weighted Lasso VAR)
</p>
</li>
<li>
<p>  'BGR' (Bayesian Ridge Regression (cf. Banbura et al))
</p>
</li>
<li>
<p>  'MCP' (Minimax Concave Penalty  (cf. Breheny and Huang))
</p>
</li>
<li>
<p>  'SCAD' (Smoothly Clipped Absolute Deviation Penalty (cf. Breheny and Huang))
</p>
</li>
</ul>
<p>The first number in the vector 'gran' specifies how deep to construct the penalty grid and the second specifies how many penalty parameters to use  If ownlambas is set to TRUE, gran should contain the user-supplied penalty parameters.
</p>
<p>VARX specifications consist of a named list with entry k denoting the series that are to be modeled and entry s to denote the maximal lag order for exogenous series.
</p>
<p>As the capabilities of BigVAR have expanded, we have decided to consolidate parameters in the list model.controls.  These parameters include: 
</p>

<ul>
<li>
<p> 'alpha:' grid of candidate parameters for the alpha in the Basic Elastic Net, Sparse Lag, Sparse Own/Other VARX-L.
</p>
</li>
<li>
<p> 'C:' vector of coefficients to shrink toward a random walk (if <code>MN</code> is <code>TRUE</code>).
</p>
</li>
<li>
<p> 'delta:' parameter for Huber loss (default 2.5) 
</p>
</li>
<li>
<p> 'intercept:' option to fit an intercept, default <code>TRUE</code>
</p>
</li>
<li>
<p> 'loss:' Loss function to select penalty parameter (one of 'L1','L2','Huber')
</p>
</li>
<li>
<p> 'MN:' Minnesota Prior Indicator, default <code>FALSE</code>
</p>
</li>
<li>
<p> 'RVAR:'  option to refit based upon the support selected using the Relaxed-VAR procedure (default FALSE).
</p>
</li>
<li>
<p> 'refit_fraction:'  If RVAR is <code>TRUE</code>, proportional tradeoff between least squares fit and penalized fit (default 1).
</p>
</li>
<li>
<p> 'tol:' optimization tolerance (default 1e-4)
</p>
</li>
</ul>
<p>The argument alpha is ignored unless the structure choice is 'SparseLag' or 'Lag.'  By default 'alpha' is set to <code>NULL</code> and will be initialized as 1/(k+1) in <code>cv.BigVAR</code> and <code>BigVAR.est</code>.  Any user supplied values must be between 0 and 1.
</p>


<h3>Note</h3>

<p>The specifications 'Basic','BasicEN', 'Lag,' 'SparseLag,' 'SparseOO','OwnOther', 'MCP', and 'SCAD.' can accommodate both VAR and VARX models.  EFX only applies to VARX models.  'HLAGC,' 'HLAGOO,' 'HLAGELEM,' and 'Tapered' can only be used with VAR models.  Our implementation of the SCAD and MCP penalties is heavily influenced by the package <code>ncvreg</code>.
</p>


<h3>References</h3>

<p>Banbura, Marta, Domenico Giannone, and Lucrezia Reichlin. 'Large Bayesian vector auto regressions.' Journal of Applied Econometrics 25.1 (2010): 71-92.
Breheny P, Huang J (2011). “Coordinate descent algorithms for nonconvex penalized regression, with applications to biological feature selection.” Annals of Applied Statistics, 5(1), 232–253.
Nicholson, William, I. Wilms, J. Bien, and D. S. Matteson. High dimensional forecasting via interpretable vector autoregression. Journal of Machine Learning Research, 21(166):1–52, 2020.
William B. Nicholson, David S. Matteson, Jacob Bien,VARX-L: Structured regularization for large vector autoregressions with exogenous variables, International Journal of Forecasting, Volume 33, Issue 3, 2017, Pages 627-651,
William B Nicholson, David S. Matteson, and Jacob Bien (2016), 'BigVAR: Tools for Modeling Sparse High-Dimensional Multivariate Time Series' arxiv:1702.07094
</p>


<h3>See Also</h3>

<p><code>cv.BigVAR</code>,<code>BigVAR.est</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># VARX Example
# Create a Basic VARX-L with k=2, m=1, s=2, p=4
VARX=list()
VARX$k=2 # indicates that the first two series are modeled
VARX$s=2 # sets 2 as the maximal lag order for exogenous series
data(Y)
T1=floor(nrow(Y)/3)
T2=floor(2*nrow(Y)/3)
Model1=constructModel(Y,p=4,struct='Basic',gran=c(50,10),verbose=FALSE,VARX=VARX,T1=T1,T2=T2)
</code></pre>


</div>