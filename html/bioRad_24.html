<div class="container">

<table style="width: 100%;"><tr>
<td>calculate_param</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate a new scan parameter</h2>

<h3>Description</h3>

<p>Calculate a new parameter (<code>param</code>) for a scan (<code>scan</code>) or polar volume
(<code>pvol</code>)
</p>


<h3>Usage</h3>

<pre><code class="language-R">calculate_param(x, ...)

## S3 method for class 'pvol'
calculate_param(x, ...)

## S3 method for class 'ppi'
calculate_param(x, ...)

## S3 method for class 'scan'
calculate_param(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>pvol</code> or <code>scan</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>An expression defining the new scan parameter in terms of existing
scan parameters.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Calculates a new scan parameter (<code>param</code>) from a combination of existing scan
parameters. Useful for calculating quantities that are defined in terms of
other basic radar moments, like linear reflectivity eta, depolarization ratio
(Kilambi et al. 2018), or for applying clutter corrections (<code>CCORH</code>) to
uncorrected reflectivity moments (<code>TH</code>) as <code>TH + CCORH</code>.
</p>


<h3>Value</h3>

<p>An object of the same class as <code>x</code>, either a <code>pvol</code> or <code>scan</code>.
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>calculate_param(pvol)</code>: Calculate a new parameter (<code>param</code>) for all scans
in a polar volume (<code>pvol</code>).
</p>
</li>
<li> <p><code>calculate_param(ppi)</code>: Calculate a new parameter (<code>param</code>) for a plan
position indicator (<code>ppi</code>).
</p>
</li>
<li> <p><code>calculate_param(scan)</code>: Calculate a new parameter (<code>param</code>) for a scan
(<code>scan</code>).
</p>
</li>
</ul>
<h3>References</h3>


<ul><li>
<p> Kilambi A, Fabry F, Meunier V (2018) A simple and effective method for
separating meteorological from nonmeteorological targets using
dual-polarization data. Journal of Atmospheric and Oceanic Technology 35, pp.
1415–1424. <a href="https://doi.org/10.1175/JTECH-D-17-0175.1">doi:10.1175/JTECH-D-17-0175.1</a>
</p>
</li></ul>
<ul><li>
<p> Kilambi, A., Fabry, F., and Meunier, V., 2018. A simple and effective
method for separating meteorological from nonmeteorological targets using
dual-polarization data. Journal of Atmospheric and Oceanic Technology, 35,
1415–1424. <a href="https://doi.org/10.1175/JTECH-D-17-0175.1">doi:10.1175/JTECH-D-17-0175.1</a>
</p>
</li></ul>
<h3>See Also</h3>


<ul><li> <p><code>get_param()</code>
</p>
</li></ul>
<h3>Examples</h3>

<pre><code class="language-R"># Locate and read the polar volume example file
pvolfile &lt;- system.file("extdata", "volume.h5", package = "bioRad")
pvol &lt;- read_pvolfile(pvolfile)

# Calculate linear reflectivity ETA from reflectivity factor DBZH
radar_wavelength &lt;- pvol$attributes$how$wavelength
pvol &lt;- calculate_param(pvol, ETA = dbz_to_eta(DBZH, radar_wavelength))

# Add depolarization ratio (DR) as a scan parameter (see Kilambi 2018)
pvol &lt;- calculate_param(pvol, DR = 10 * log10((ZDR + 1 - 2 * ZDR^0.5 * RHOHV) /
  (ZDR + 1 + 2 * ZDR^0.5 * RHOHV)))

# The function also works on scan and ppi objects
calculate_param(example_scan, DR = 10 * log10((ZDR + 1 - 2 * ZDR^0.5 * RHOHV) /
  (ZDR + 1 + 2 * ZDR^0.5 * RHOHV)))

# it also works for ppis
ppi &lt;- project_as_ppi(example_scan)
calculate_param(ppi, exp(DBZH))

</code></pre>


</div>