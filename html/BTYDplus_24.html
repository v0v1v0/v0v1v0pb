<div class="container">

<table style="width: 100%;"><tr>
<td>estimateRegularity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimate Regularity in Intertransaction Timings</h2>

<h3>Description</h3>

<p>The models (M)BG/CNBD-k and Pareto/GGG are capable of leveraging regularity
within transaction timings for improving forecast accuracy. This method
provides a quick check for the degree of regularity in the event timings. A
return value of close to 1 supports the assumption of exponentially
distributed intertransaction times, whereas values significantly larger than
1 reveal the presence of regularity.
</p>


<h3>Usage</h3>

<pre><code class="language-R">estimateRegularity(
  elog,
  method = "wheat",
  plot = FALSE,
  title = "",
  min = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>elog</code></td>
<td>
<p>Event log, a <code>data.frame</code> with columns <code>cust</code> and
transaction time <code>t</code> or <code>date</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Either <code>wheat</code>, <code>mle</code>, <code>mle-minka</code>, <code>mle-thom</code> or
<code>cv</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>If <code>TRUE</code> then an additional diagnostic plot is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>Plot title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min</code></td>
<td>
<p>Minimum number of intertransaction times per customer. Customers
with less than <code>min</code> intertransactions are not considered. Defaults to 2
for method 'wheat', and to 10 otherwise.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Estimation is either done by 1) assuming the same degree of regularity across
all customers (Wheat &amp; Morrison (1990) via <code>method = "wheat"</code>), or 2) by
estimating regularity for each customer separately, as the shape parameter of
a fitted gamma distribution, and then return the median across estimates. The
latter methods, though, require sufficient (&gt;=<code>min</code>) transactions per
customer.
</p>
<p>Wheat &amp; Morrison (1990)'s method calculates for each customer a statistic
<code>M</code> based on her last two number of intertransaction times as
<code>ITT_1 / (ITT_1 + ITT_2)</code>. That measure is known to follow a
<code>Beta(k, k)</code> distribution, and <code>k</code> can be estimated as
<code>(1-4*Var(M))/(8*Var(M))</code>. The corresponding diagnostic plot (<code>plot
= TRUE</code>) shows the actual distribution of <code>M</code> vs. the theoretical
distribution for <code>k = 1</code> and <code>k = 2</code>.
</p>


<h3>Value</h3>

<p>Estimated real-valued regularity parameter.
</p>


<h3>References</h3>

<p>Wheat, Rita D., and Donald G. Morrison. "Estimating purchase
regularity with two interpurchase times." Journal of Marketing Research
(1990): 87-93.
</p>
<p>Dunn, Richard, Steven Reader, and Neil Wrigley. 'An investigation
of the assumptions of the NBD model' Applied Statistics (1983): 249-259.
</p>
<p>Wu, Couchen, and H-L. Chen. 'A consumer purchasing model with
learning and departure behaviour.'  Journal of the Operational Research
Society (2000): 583-591.
</p>
<p><a href="https://tminka.github.io/papers/minka-gamma.pdf">https://tminka.github.io/papers/minka-gamma.pdf</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("groceryElog")
estimateRegularity(groceryElog, plot = TRUE, method = 'wheat')
estimateRegularity(groceryElog, plot = TRUE, method = 'mle-minka')
estimateRegularity(groceryElog, plot = TRUE, method = 'mle-thom')
estimateRegularity(groceryElog, plot = TRUE, method = 'cv')
</code></pre>


</div>