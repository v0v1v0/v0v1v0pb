<div class="container">

<table style="width: 100%;"><tr>
<td>e0.trajectories.plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Posterior Distribution of Trajectories of Life Expectancy
</h2>

<h3>Description</h3>

<p>The functions plot/tabulate the posterior distribution of trajectories of the life expectancy for a given country, or for all countries, including their median and given probability intervals. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">e0.trajectories.plot(e0.pred, country, pi = c(80, 95), both.sexes = FALSE,
    nr.traj = NULL, adjusted.only = TRUE, typical.trajectory = FALSE, 
    xlim = NULL, ylim = NULL, type = "b", 
    xlab = "Year", ylab = "Life expectancy at birth", main = NULL, 
    lwd = c(2, 2, 2, 2, 1), col = c('black', 'green', 'red', 'red', '#00000020'),
    col2 = c('gray39', 'greenyellow', 'hotpink', 'hotpink', '#00000020'),
    pch = c(1, 2), show.legend = TRUE, add = FALSE, ...)
    
e0.trajectories.plot.all(e0.pred, 
    output.dir = file.path(getwd(), 'e0trajectories'),
    output.type = "png", verbose = FALSE, ...)
	
e0.trajectories.table(e0.pred, country, pi = c(80, 95), 
    both.sexes = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>e0.pred</code></td>
<td>
<p>Object of class <code>bayesLife.prediction</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>country</code></td>
<td>
<p>Name or numerical code of a country. It can also be given as ISO-2 or ISO-3 characters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi</code></td>
<td>
<p>Probability interval. It can be a single number or an array. If <code>both.sexes</code> is <code>TRUE</code> the default is 95.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>both.sexes</code></td>
<td>
<p>Logical or the character “A”. If <code>TRUE</code> the distribution of both sexes is plotted into one graphics (or tabulated), provided the <code>e0.pred</code> is a female prediction and contains a joint male prediction as a result of running the function <code>e0.jmale.predict</code>. For “A” it plots/tabulates the distribution of the average life expectancy over both sexes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nr.traj</code></td>
<td>
<p>Number of trajectories to be plotted. If <code>NULL</code>, all trajectories are plotted, otherwise they are thinned evenly. If <code>both.sexes</code> is <code>TRUE</code> the default is zero.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjusted.only</code></td>
<td>
<p>Logical. By default, if the projection median is adjusted using e.g. <code>e0.median.set</code>, the function plots the adjusted median. If <code>adjusted.only=FALSE</code> the original (non-adjusted) median is plotted as well.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>typical.trajectory</code></td>
<td>
<p>Logical. If <code>TRUE</code> one trajectory is shown  for which the median absolute deviation from the median e0 projection is the median among all the trajectories.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim, ylim, type, xlab, ylab, main</code></td>
<td>
<p>Graphical parameters passed to the <code>plot</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd, col, col2</code></td>
<td>
<p>Vector of five elements giving the line width and color for: 1. observed data, 2. imputed missing data, 3. median, 4. quantiles, 5. trajectories. <code>col2</code> is only used if <code>both.sexes</code> is <code>TRUE</code>. In such a case, <code>col2</code> is used for female lines and <code>col</code> is used for male lines, which in this case defaults to 
<code>c('black', 'green', 'darkgreen', 'darkgreen', 'gray')</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>Vector of two elements specifying plotting symbols for the observed and imputed data, respectively. It is not used if <code>type</code> is not one of “b”, “p” or “o”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.legend</code></td>
<td>
<p>Logical controlling whether the legend should be drawn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>Logical controlling whether the trajectories should be plotted into a new graphic device (<code>FALSE</code>) or into an existing device (<code>TRUE</code>). One can use this argument to plot trajectories from multiple countries into one graphics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional graphical parameters. In addition, for <code>e0.trajectories.plot.all</code>, <code>...</code> 
contains any of the arguments of  <code>e0.trajectories.plot</code>, and for <code>e0.trajectories.table</code>, <code>...</code> contains 
the <code>pi</code> and <code>country</code> arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output.dir</code></td>
<td>
<p>Directory into which resulting graphs are stored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output.type</code></td>
<td>
<p>Type of the resulting files. It can be “png”, “pdf”, “jpeg”, “bmp”, “tiff”, or “postscript”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical switching log messages on and off.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>e0.trajectories.plot</code> plots posterior distribution of trajectories of life expectancy for a given country. <code>e0.trajectories.table</code> gives the same output in a tabular format. <br><code>e0.trajectories.plot.all</code> creates a set of such graphs (one per country) that are stored in <code>output.dir</code>. 
</p>
<p>The median and given probability intervals are computed using all available trajectories. Thus, <code>nr.traj</code> does not influence those values - it is used only to control the number of trajectories plotted.
</p>


<h3>Author(s)</h3>

<p>Hana Sevcikova
</p>


<h3>See Also</h3>

<p><code>bayesLife.prediction</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">sim.dir &lt;- file.path(find.package("bayesLife"), "ex-data", "bayesLife.output")
pred &lt;- get.e0.prediction(sim.dir)
e0.trajectories.table(pred, country = "Japan", pi = c(80, 95))
e0.trajectories.plot(pred, country = "Japan", pi = c(80, 95))

# plot multiple countries into one plot
e0.trajectories.plot(pred, "JP", col = rep("green", 5), nr.traj = 0,
         pi = c(80), show.legend = FALSE, main = "")
e0.trajectories.plot(pred, "USA", col = rep("blue", 5),  
        add = TRUE, nr.traj = 0, pi = c(80), show.legend = FALSE)
legend("topleft", legend = c("Japan", "USA"), col = c("green", "blue"), 
        lty = 1, bty = "n")
</code></pre>


</div>