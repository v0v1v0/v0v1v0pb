<div class="container">

<table style="width: 100%;"><tr>
<td>bcpImport</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Import data to SQL Server</h2>

<h3>Description</h3>

<p>A wrapper for a system call to the bcp utility which bulk inserts to SQL
Server.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bcpImport(
  x,
  connectargs,
  table,
  fieldterminator = "\t",
  rowterminator = ifelse(.Platform$OS.type == "windows", "\r\n", "\n"),
  overwrite = FALSE,
  spatialtype = c("geometry", "geography"),
  bcpOptions = list("-b", 1000, "-a", 4096, "-m", 10),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>dataframe object or path to file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>connectargs</code></td>
<td>
<p>named list of connection arguments. See makeConnectArgs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>table</code></td>
<td>
<p>Name of the source table when importing from  SQL Server. For specifying the
schema in the table name see <code>&lt;schema&gt;.&lt;table&gt;</code> and if not specified the
default is "dbo".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fieldterminator</code></td>
<td>
<p>character separator for columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rowterminator</code></td>
<td>
<p>character separator for rowsâ€“new lines</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Whether to overwrite the table if it exists</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spatialtype</code></td>
<td>
<p>spatial data type for schema
<a href="https://docs.microsoft.com/en-us/sql/relational-databases/spatial/spatial-data-types-overview">https://docs.microsoft.com/en-us/sql/relational-databases/spatial/spatial-data-types-overview</a>,
ignored if <code>x</code> is not an 'sf' object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bcpOptions</code></td>
<td>
<p>list of additional options to pass to the 'bcp' utility. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to pass to system2</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If x is a dataframe object, <code>data.table::fwrite</code> is used to write the
in memory object to disk in a temporary file that is deleted when the
function exits. The <code>fieldterminator</code> and <code>rowterminator</code> are
ignored in this case.
</p>
<p>If <code>overwrite</code> is <code>TRUE</code>, any existing table of the same name
will be deleted and the schema is inferred from <code>DBI::dbCreateTable</code>. To
use a customized schema, create the schema before calling the function and
use <code>overwrite=FALSE</code>.
</p>
<p>If x is a sf object, the geometry column is converted to binary and
written to the database before conversion to geometry/geometry data type.
The EPSG code is automatically read from the sf object and used as the
SRID.
</p>
<p>To override the default path to the bcp command line utility, set the
<code>bcputility.bcp.path</code> option.
To override the default path to the sqlcmd command line utility, set the
<code>bcputility.sqlcmd.path</code> option.
</p>
<p>The <code>bcpOptions</code> allows the user to include additional arguments for the
call to <code>system2</code>. Please refer to
<a href="https://learn.microsoft.com/en-us/sql/tools/bcp-utility">https://learn.microsoft.com/en-us/sql/tools/bcp-utility</a>.
The default options are set to the defaults for <code>bcp</code> CLI. <code>-b</code>
refers to number of rows to write at a time; 10,000 to 50,000 is a
starting recommendation. <code>-a</code> refers to size of packets to be sent in
bytes. <code>-e</code> refers to the maximum number of errors before failure.
</p>


<h3>Value</h3>

<p>Output from <code>system2</code>. See <code>...</code> to redirect output.
</p>


</div>