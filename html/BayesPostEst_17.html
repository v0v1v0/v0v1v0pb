<div class="container">

<table style="width: 100%;"><tr>
<td>mcmcMargEff</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Marginal Effects Plots for MCMC Output</h2>

<h3>Description</h3>

<p>Marginal effects plots for MCMC output using <code>ggplot2</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">mcmcMargEff(
  mod,
  main,
  int,
  moderator,
  pointest = "mean",
  seq = 100,
  ci = 0.95,
  hpdi = FALSE,
  plot = TRUE,
  xlab = "Moderator",
  ylab = "Marginal Effect"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mod</code></td>
<td>
<p>Bayesian model object generated by R2jags, rjags, R2WinBUGS, R2OpenBUGS, 
MCMCpack, rstan, rstanarm, and brms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>a character with the name of the parameter of interest in the
interaction term.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>int</code></td>
<td>
<p>a character with the name of the moderating parameter in the
interaction term.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>moderator</code></td>
<td>
<p>a vector of values that the moderating parameter takes on
in the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pointest</code></td>
<td>
<p>a character indicating whether to use the mean or median for
point estimates in the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seq</code></td>
<td>
<p>a numeric giving the number of moderator values used to generate
the marginal effects plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p>a scalar indicating the confidence level of the uncertainty intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hpdi</code></td>
<td>
<p>a logical indicating whether to use highest posterior density intervals
or equal tailed credible intervals to capture uncertainty.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>logical indicating whether to return a <code>ggplot</code> object or the
underlying tidy DataFrame. By default, <code>mcmcMargEff</code> returns a line and
ribbon plot for continuous variables, and a dot and line plot for factor
variables and discrete variables with fewer than 25 unique values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>character giving x axis label if <code>plot = TRUE</code>, default <code>"Moderator"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>character giving y axis label if <code>plot = TRUE</code>, default <code>"Marginal Effect"</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>ggplot</code> object or a tidy DataFrame.
</p>


<h3>Author(s)</h3>

<p>Rob Williams, <a href="mailto:jayrobwilliams@gmail.com">jayrobwilliams@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

if (interactive()) {
## simulating data
set.seed(123456)
b0 &lt;- 0.2 # true value for the intercept
b1 &lt;- 0.5 # true value for first beta
b2 &lt;- 0.7 # true value for second beta
n &lt;- 500 # sample size
X1 &lt;- runif(n, -1, 1)
X2 &lt;- runif(n, -1, 1)
Z &lt;- b0 + b1 * X1 + b2 * X2

## linear model data
Y_linear &lt;- rnorm(n, Z, 1)
df &lt;- data.frame(cbind(X1, X2, Y = Y_linear))

## formatting the data for jags
datjags &lt;- as.list(df)
datjags$N &lt;- length(datjags$Y)

## creating jags model
model &lt;- function()  {
  
  for(i in 1:N){
    Y[i] ~ dnorm(mu[i], sigma)  ## Bernoulli distribution of y_i
    
    mu[i] &lt;- b[1] + 
      b[2] * X1[i] + 
      b[3] * X2[i] +
      b[4] * X1[i] * X2[i]
    
  }
  
  for(j in 1:4){
    b[j] ~ dnorm(0, 0.001) ## Use a coefficient vector for simplicity
  }
  
  sigma ~ dexp(1)
  
}

params &lt;- c("b")
inits1 &lt;- list("b" = rep(0, 4))
inits2 &lt;- list("b" = rep(0, 4))
inits &lt;- list(inits1, inits2)

## fitting the model with R2jags
set.seed(123)
fit &lt;- R2jags::jags(data = datjags, inits = inits, 
                    parameters.to.save = params, n.chains = 2, n.iter = 2000, 
                    n.burnin = 1000, model.file = model)

mcmcMargEff(mod = fit,
            main = 'b[2]',
            int = 'b[4]',
            moderator = sim_data_interactive$X2,
            plot = TRUE)
}



</code></pre>


</div>