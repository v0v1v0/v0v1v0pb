<div class="container">

<table style="width: 100%;"><tr>
<td>paths</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot covariate paths for BTLLasso</h2>

<h3>Description</h3>

<p>Plots paths for every covariate of a BTLLasso object or a cv.BTLLasso
object. In contrast to <code>plot.BTLLasso</code>, only one plot is created,
every covariate is illustrated by one path. For <code>cv.BTLLasso</code> objects, the
optimal model according to the cross-validation is marked by a vertical
dashed line.
</p>


<h3>Usage</h3>

<pre><code class="language-R">paths(model, y.axis = c("penalty", "L2"), x.axis = c("loglambda", "lambda"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p><code>BTLLasso</code> or <code>cv.BTLLasso</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.axis</code></td>
<td>
<p>Two possible values for the y-axis. Variables can either be plotted
with regard to their contribution to the total penalty term (<code>y.axis='penalty'</code>) or
with regard to the $L_2$ norm of the corresponding parameter vector (<code>y.axis='L2'</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.axis</code></td>
<td>
<p>Should the paths be plotted against log(lambda+1) or against lambda?'</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Gunther Schauberger<br><a href="mailto:gunther.schauberger@tum.de">gunther.schauberger@tum.de</a>
</p>


<h3>References</h3>

<p>Schauberger, Gunther and Tutz, Gerhard (2019): BTLLasso - A Common Framework and Software 
Package for the Inclusion  and Selection of Covariates in Bradley-Terry Models, <em>Journal of 
Statistical Software</em>, 88(9), 1-29, <a href="https://doi.org/10.18637/jss.v088.i09">doi:10.18637/jss.v088.i09</a>
</p>
<p>Schauberger, Gunther and Tutz, Gerhard (2017): Subject-specific modelling 
of paired comparison data: A lasso-type penalty approach, <em>Statistical Modelling</em>,
17(3), 223 - 243
</p>
<p>Schauberger, Gunther, Groll Andreas and Tutz, Gerhard (2018): 
Analysis of the importance of on-field covariates in the German Bundesliga, 
<em>Journal of Applied Statistics</em>, 45(9), 1561 - 1578
</p>


<h3>See Also</h3>

<p><code>BTLLasso</code>, <code>cv.BTLLasso</code>,
<code>plot.BTLLasso</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 
op &lt;- par(no.readonly = TRUE)

##############################
##### Example with simulated data set containing X, Z1 and Z2
##############################
data(SimData)

## Specify control argument
## -&gt; allow for object-specific order effects and penalize intercepts
ctrl &lt;- ctrl.BTLLasso(penalize.intercepts = TRUE, object.order.effect = TRUE,
                      penalize.order.effect.diffs = TRUE)

## Simple BTLLasso model for tuning parameters lambda
m.sim &lt;- BTLLasso(Y = SimData$Y, X = SimData$X, Z1 = SimData$Z1,
                  Z2 = SimData$Z2, control = ctrl)
m.sim

par(xpd = TRUE)
plot(m.sim)


## Cross-validate BTLLasso model for tuning parameters lambda
set.seed(1860)
m.sim.cv &lt;- cv.BTLLasso(Y = SimData$Y, X = SimData$X, Z1 = SimData$Z1,
                        Z2 = SimData$Z2, control = ctrl)
m.sim.cv
coef(m.sim.cv)
logLik(m.sim.cv)

head(predict(m.sim.cv, type="response"))
head(predict(m.sim.cv, type="trait"))

plot(m.sim.cv, plots_per_page = 4)


## Example for bootstrap intervals for illustration only
## Don't calculate bootstrap intervals with B = 20!!!!
set.seed(1860)
m.sim.boot &lt;- boot.BTLLasso(m.sim.cv, B = 20, cores = 20)
m.sim.boot
plot(m.sim.boot, plots_per_page = 4)


##############################
##### Example with small version from GLES data set
##############################
data(GLESsmall)

## extract data and center covariates for better interpretability
Y &lt;- GLESsmall$Y
X &lt;- scale(GLESsmall$X, scale = FALSE)
Z1 &lt;- scale(GLESsmall$Z1, scale = FALSE)

## vector of subtitles, containing the coding of the X covariates
subs.X &lt;- c('', 'female (1); male (0)')

## Cross-validate BTLLasso model
m.gles.cv &lt;- cv.BTLLasso(Y = Y, X = X, Z1 = Z1)
m.gles.cv

coef(m.gles.cv)
logLik(m.gles.cv)

head(predict(m.gles.cv, type="response"))
head(predict(m.gles.cv, type="trait"))

par(xpd = TRUE, mar = c(5,4,4,6))
plot(m.gles.cv, subs.X = subs.X, plots_per_page = 4, which = 2:5)
paths(m.gles.cv, y.axis = 'L2')


##############################
##### Example with Bundesliga data set
##############################
data(Buli1516)

Y &lt;- Buli1516$Y5

Z1 &lt;- scale(Buli1516$Z1, scale = FALSE)

ctrl.buli &lt;- ctrl.BTLLasso(object.order.effect = TRUE, 
                           name.order = "Home", 
                           penalize.order.effect.diffs = TRUE, 
                           penalize.order.effect.absolute = FALSE,
                           order.center = TRUE, lambda2 = 1e-2)

set.seed(1860)
m.buli &lt;- cv.BTLLasso(Y = Y, Z1 = Z1, control = ctrl.buli)
m.buli

par(xpd = TRUE, mar = c(5,4,4,6))
plot(m.buli)


##############################
##### Example with Topmodel data set
##############################
data("Topmodel2007", package = "psychotree")

Y.models &lt;- response.BTLLasso(Topmodel2007$preference)
X.models &lt;- scale(model.matrix(preference~., data = Topmodel2007)[,-1])
rownames(X.models) &lt;- paste0("Subject",1:nrow(X.models))
colnames(X.models) &lt;- c("Gender","Age","KnowShow","WatchShow","WatchFinal")

set.seed(5)
m.models &lt;- cv.BTLLasso(Y = Y.models, X = X.models)
plot(m.models, plots_per_page = 6)

par(op)

## End(Not run)
</code></pre>


</div>