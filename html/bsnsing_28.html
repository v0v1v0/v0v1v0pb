<div class="container">

<table style="width: 100%;"><tr>
<td>ROC_func</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot the ROC curve and calculate the AUC</h2>

<h3>Description</h3>

<p>This is a general utility function, not part of the bsnsing functionality.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ROC_func(
  df,
  label_colnum,
  score_colnum,
  pos.label = "1",
  plot.ROC = FALSE,
  add_on = FALSE,
  color = "black",
  lty = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>a data frame which must contain at least these two columns: the prediction scores (numeric values, not necessarily be between 0 and 1) and the true class labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_colnum</code></td>
<td>
<p>the column index of the scores column in df.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>score_colnum</code></td>
<td>
<p>the column index of the true class labels column in df.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pos.label</code></td>
<td>
<p>a character string matching the positive class label used in the class labels column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.ROC</code></td>
<td>
<p>a logical value indicating whether the ROC curve should be plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_on</code></td>
<td>
<p>a logical value indicating whether the ROC curve should be added to an existing plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>a character string specifying the color of the ROC curve in the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>line type used in the plot, 1 solid, 2 dashed, etc.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a numeric value representing the area under the ROC curve (AUC).
</p>


<h3>Examples</h3>

<pre><code class="language-R">n &lt;- nrow(BreastCancer)
trainset &lt;- sample(1:n, 0.7*n)  # randomly sample 70% for training
testset &lt;- setdiff(1:n, trainset)  # the remaining is for testing
# Build a tree to predict Class, using all default options
bs &lt;- bsnsing(Class~., data = BreastCancer[trainset,])
summary(bs)  # display the tree structure
pred &lt;- predict(bs, BreastCancer[testset,], type='class')
actual &lt;- BreastCancer[testset, 'Class']
table(pred, actual)  # display the confusion matrix
# Plot the ROC curve and display the AUC
ROC_func(data.frame(predict(bs, BreastCancer[testset,]), 
                    BreastCancer[testset,'Class']), 
         2, 1, pos.label = 'malignant', plot.ROC=TRUE)
</code></pre>


</div>