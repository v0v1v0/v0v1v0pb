<div class="container">

<table style="width: 100%;"><tr>
<td>weightsplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Illustrate the posterior mean weights for a <code>bayesmeta</code> object.
</h2>

<h3>Description</h3>

<p>Generates a bar plot showing individual estimates' posterior mean
weights, either for the overall mean estimate, or for a shrinkage
estimate.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  weightsplot(x, ...)
  ## S3 method for class 'bayesmeta'
weightsplot(x, individual=FALSE, ordered=TRUE,
            extramargin=4, priorlabel="prior mean", main, xlim, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>a <code>bayesmeta</code> object.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>individual</code></td>
<td>

<p>this argument allows to request weights for individual
<em>shrinkage estimates</em>. If <code>FALSE</code> (the default), weights
for the overall mean are returned. Otherwise, it may be an integer
number (<code>1,...,k</code>) giving the index, or a character string giving
the label.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ordered</code></td>
<td>

<p>a logical flag indicating whether to sort weights by their magnitude.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extramargin</code></td>
<td>

<p>an additional margin to be added to the left side of the plot, in
order to accomodate the estimates' labels. The value will be added
to the 2nd element of the margin settings given by
‘<code>par("mar")</code>’. In case study labels still extend beyond
the figure margin, try increasing this number. See also the
<code>par()</code> function's help.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>priorlabel</code></td>
<td>

<p>the label for the effect prior's weight. Only relevant for proper
effect priors.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>

<p>the plot's main title.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>

<p>the x-axis range.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>other arguments passed on to the
<code>barplot()</code> function.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The individual estimates' contributions to the overall mean estimate
are commonly illustrated in terms of <em>weights</em>, as the resulting
overall estimate may be expressed as a weighted average of the
estimates contributing to the analysis. The notion of “study
weights” may also be extended to the Bayesian setting, where these
result as <em>posterior mean weights</em>. Analogous weights may also be
derived for <em>shrinkage estimates</em> (Roever and Friede, 2021).
</p>
<p>This function generates a simple bar plot illustrating the
posterior mean weights. The actual numbers are taken from the
<code>bayesmeta</code> object's “<code>$weights</code>” or
“<code>$weights.theta</code>” elements.
</p>


<h3>Author(s)</h3>

<p>Christian Roever <a href="mailto:christian.roever@med.uni-goettingen.de">christian.roever@med.uni-goettingen.de</a>
</p>


<h3>References</h3>

<p>C. Roever, T. Friede.
Bounds for the weight of external data in shrinkage estimation.
<em>Biometrical Journal</em>, <b>65</b>(5):1131-1143, 2021.
<a href="https://doi.org/10.1002/bimj.202000227">doi:10.1002/bimj.202000227</a>.
</p>


<h3>See Also</h3>

<p><code>bayesmeta</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load example data:
data("Peto1980")
## Not run: 
# compute effect sizes (log odds ratios) from count data:
require("metafor")
peto.es &lt;- escalc(measure="OR",
                  ai=treat.events,   n1i=treat.cases,
                  ci=control.events, n2i=control.cases,
                  slab=publication, data=Peto1980)

# perform meta-analysis:
ma01 &lt;- bayesmeta(peto.es)
# show data and results:
forestplot(ma01)

# check out weights:
ma01$weights
ma01$weights.theta

# illustrate weights:
weightsplot(ma01)
weightsplot(ma01, ordered=FALSE)
weightsplot(ma01, ordered=FALSE, individual="BrMedJ1974")

## End(Not run)
</code></pre>


</div>