<div class="container">

<table style="width: 100%;"><tr>
<td>hd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Historical Decomposition</h2>

<h3>Description</h3>

<p>A function that calculates historical decomposition (HD) of the time series and the structural error.
</p>


<h3>Usage</h3>

<pre><code class="language-R">hd(x, rotation.matrix=NULL, verbose=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an item fitted by <code>irf</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rotation.matrix</code></td>
<td>
<p>If <code>NULL</code> and the <code>irf.bgvar</code> object has been fitted via sign restrictions, the rotation matrix is used that minimizes the distance to the median impulse responses at the posterior median.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>If set to <code>FALSE</code> it suppresses printing messages to the console.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>To save computational time as well as due to storage limits, both functions are based on the posterior median (as opposed to calculating HDs and the structural error for each draw of the MCMC chain). In case the shock has been identified via sign restrictions, a rotation matrix has to be selected to calculate both statistics. If not specified otherwise (via <code>R</code>), the algorithm searches for 50 rotation matrices that fulfill the sign restrictions at the <em>posterior median</em> of the coefficients and then singles out the rotation matrix that minimizes the distance to the median of the impulse responses as suggested in Fry and Pagan (2011).
</p>


<h3>Value</h3>

<p>Returns a list with the following objects </p>

<dl>
<dt><code>hd_array</code></dt>
<dd>
<p> is a three-dimensional array with the first dimension referring to the K time series, the second to the T observations and the third dimensions containing the contribution of the shocks in explaining historically deviations in the time series from their trend. The third dimension is K+3, since the last three entries contain the contributions of the constant, the initial condition and a residual component that the contributions sum up to the original time series. If a trend i specified in the model the third dimension is K+3 with trend ordered after the constant.</p>
</dd>
<dt><code>struc.shcok</code></dt>
<dd>
<p> contains the structural shock.</p>
</dd>
<dt><code>x</code></dt>
<dd>
<p> is a matrix object that contains the original time series, which is of dimension K times (T-plag).</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Maximilian Boeck, Martin Feldkircher, Florian Huber
</p>


<h3>References</h3>

<p>Fry, R. and A. Pagan (2011) <em>Sign restrictions in Structural Vector Autoregressions: A Critical Review</em>. Journal of Economic Literature, Vol. 49(4), pp. 938-960.
</p>


<h3>See Also</h3>

<p><code>bgvar</code> and <code>irf</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(BGVAR)
data(testdata)
model.eer&lt;-bgvar(Data=testdata, W=W.test, draws=50, burnin=50, 
                 plag=1, prior="SSVS", eigen=TRUE)
                 
# US monetary policy shock
shockinfo &lt;- get_shockinfo("chol")
shockinfo$shock &lt;- "US.stir"; shockinfo$scale &lt;- -100
irf.chol.us.mp&lt;-irf(model.eer,n.ahead=48,shockinfo=shockinfo)

# calculates historical decomposition
HD &lt;- hd(irf.chol.us.mp)

</code></pre>


</div>