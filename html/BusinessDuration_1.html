<div class="container">

<table style="width: 100%;"><tr>
<td>businessDuration</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>

businessDuration
</h2>

<h3>Description</h3>


<p>A function to calculate business duration between two dates excluding weekends, public holidays and non-business hours in days, hours, minutes and seconds.
</p>


<h3>Usage</h3>

<pre><code class="language-R">businessDuration(startdate="",enddate="",starttime=NA,
endtime=NA,weekendlist=c("Saturday","Sunday"),
holidaylist=c(),unit='min')
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>startdate</code></td>
<td>


<p>Start date in "POSIXlt"/"POSIXct"
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enddate</code></td>
<td>


<p>End date in "POSIXlt"/"POSIXct"
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>starttime</code></td>
<td>


<p>Start time in 24 hours format as a string. Eg- "07:00:00". Default is NA
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endtime</code></td>
<td>


<p>End time in 24 hours format as a string. Eg- "17:00:00". Default is NA
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weekendlist</code></td>
<td>


<p>Custom weekend list. Default is "Saturday" &amp;  "Sunday"
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>holidaylist</code></td>
<td>


<p>Custom holiday list. Default is NULL
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>


<p>Unit of duration - "day","hour","min" or "sec". Default is "min"
</p>
</td>
</tr>
</table>
<h3>Details</h3>


<p>Returns the business duration between two dates by excluding weekends, public holidays and non-business hours in days, hours, minutes or seconds
</p>


<h3>Author(s)</h3>


<p>Gnaneshwar G
</p>


<h3>Examples</h3>

<pre><code class="language-R">### EXAMPLE 1
library(BusinessDuration)

# start date must be in standard R format
startdate &lt;- strptime("2017-07-01 02:02:00",
"%Y-%m-%d %H:%M:%S")

# End date must be in standard R format
enddate &lt;- strptime("2017-07-07 04:48:00",
"%Y-%m-%d %H:%M:%S")

# Business Start time
starttime &lt;- "07:00:00"

# Business End time
endtime &lt;- "17:00:00"

# Custom holiday list
holidaylist &lt;- as.Date(c("2017-01-01" ,"2017-01-02",
"2017-01-16", "2017-02-15", "2017-02-20", "2017-03-31",
"2017-05-29", "2017-07-04", "2017-09-04", "2017-10-09",
"2017-11-10", "2017-11-11", "2017-11-23" ,"2017-12-25"))

# Custom unit of business duration
unit&lt;-"day"

# Calling the function
businessDuration(startdate = startdate,
                 enddate = enddate,
                 starttime = starttime,endtime = endtime,
                 holidaylist = holidaylist,
                 unit = unit)

### EXAMPLE 2
library(BusinessDuration)

# Reading the file as dataframe
inputdata &lt;- data.frame("Index"=1:5,
                        "sys_created_on"=c("12/6/2017 8:29",
                                           "12/1/2017 2:36",
                                           "12/6/2017 8:51",
                                           "12/1/2017 8:05",
                                           "12/1/2017 0:07"),
                        "resolved_at"=c("12/11/2017 4:56",
                                        "12/5/2017 4:10",
                                        "12/6/2017 8:52",
                                        "12/7/2017 6:46",
                                        "12/1/2017 0:23"))

# Converting to standard R datetime format
inputdata$sys_created_on &lt;- strptime(inputdata$sys_created_on,
                                     "%m/%d/%Y %H:%M")
inputdata$resolved_at &lt;- strptime(inputdata$resolved_at,
                                  "%m/%d/%Y %H:%M")

# Business open time
starttime &lt;- "08:00:00"

# Business close time
endtime &lt;- "17:00:00"

# Weekend list
weekend_list &lt;- c("Saturday","Sunday")

# Custom US holidays
US_holiday_list &lt;- as.Date(c("2018-01-01",
                             "2018-05-28",
                             "2018-07-04",
                             "2018-09-03",
                             "2018-11-22",
                             "2018-12-25"))

# Business duration - day, hour, min, sec
unit_hour &lt;- "hour"

# Apply function to entire dataframe
inputdata$Biz_Hour&lt;-lapply(1:nrow(inputdata),function(x){
                    businessDuration(startdate = inputdata$sys_created_on[x],
                    enddate = inputdata$resolved_at[x],
                    starttime = starttime,
                    endtime = endtime,
                    weekendlist = weekend_list,
                    holidaylist = US_holiday_list,
                    unit = unit_hour)})

</code></pre>


</div>