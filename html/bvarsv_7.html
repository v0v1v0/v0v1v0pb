<div class="container">

<table style="width: 100%;"><tr>
<td>helpers</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Helper Functions to Access BVAR Forecast Distributions and Parameter Draws
</h2>

<h3>Description</h3>

<p>Functions to extract a univariate posterior predictive distribution from a model fit generated by <code>bvar.sv.tvp</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">predictive.density(fit, v = 1, h = 1, cdf = FALSE)
predictive.draws(fit, v = 1, h = 1)
parameter.draws(fit, type = "lag1", row = 1, col = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>List, model fit generated by <code>bvar.sv.tvp</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>Index for variable of interest. <em>Must be in line with the specification of <code>fit</code></em>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p>Index for forecast horizon of interest. <em>Must be in line with the specification of <code>fit</code></em>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cdf</code></td>
<td>
<p>Set to TRUE to return cumulative distribution function, set to FALSE to return probability density function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Character string, used to specify output for function <code>parameter.draws</code>. Setting to <code>"intercept"</code> returns parameter draws for the intercept vector. Setting to one of <code>"lag1"</code>, ..., <code>"lagX"</code>, (where X is the lag order used in <code>fit</code>)
returns parameter draws from the autoregressive coefficient matrices. Setting to <code>"vcv"</code> returns draws for the elements of the residual variance-covariance matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row, col</code></td>
<td>
<p>Row and column index for the parameter for which <code>parameter.draws</code> should return posterior draws. That is, the function returns the row, col element of the matrix specified by <code>type</code>. Note that 
<code>col</code> is irrelevant if <code>type = "intercept"</code> has been chosen.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>predictive.density</code> returns a function <code>f(z)</code>, which yields the value(s) of the predictive density at point(s) <code>z</code>. This function exploits conditional normality of the model, given the posterior draws of the parameters.
</p>
<p><code>predictive.draws</code> returns a list containing vectors of MCMC draws, more specifically:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Draws from the predictand itself</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>Mean of the normal distribution for the predictand in each draw</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>Variance of the normal distribution for the predictand in each draw</p>
</td>
</tr>
</table>
<p>Both outputs should be closely in line with each other (apart from a small amount of sampling noise), see the link below for details.
</p>
<p><code>parameter.draws</code> returns posterior draws for a single (scalar) parameter of the model fitted by <code>bvar.sv.tvp</code>. The output is a matrix, with rows representing MCMC draws, and columns representing time.
</p>


<h3>Author(s)</h3>

<p>Fabian Krueger
</p>


<h3>See Also</h3>

<p>For examples and background, see the accompanying pdf file hosted at <a href="https://sites.google.com/site/fk83research/code">https://sites.google.com/site/fk83research/code</a>.</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# Load US macro data
data(usmacro)

# Estimate trivariate BVAR using default settings
set.seed(5813)
bv &lt;- bvar.sv.tvp(usmacro)

# Construct predictive density function for the second variable (inflation), one period ahead
f &lt;- predictive.density(bv, v = 2, h = 1)

# Plot the density for a grid of values
grid &lt;- seq(-2, 5, by = 0.05)
plot(x = grid, y = f(grid), type = "l")

# Cross-check: Extract MCMC sample for the same variable and horizon
smp &lt;- predictive.draws(bv, v = 2, h = 1)

# Add density estimate to plot
lines(density(smp), col = "green")


## End(Not run)
</code></pre>


</div>