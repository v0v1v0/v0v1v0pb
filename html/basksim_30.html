<div class="container">

<table style="width: 100%;"><tr>
<td>opt_design</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Optimize a Basket Trial Design</h2>

<h3>Description</h3>

<p>Optimize a Basket Trial Design
</p>


<h3>Usage</h3>

<pre><code class="language-R">opt_design(
  design,
  n,
  alpha,
  design_params = list(),
  scenarios,
  prec_digits,
  iter = 1000,
  data = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>An object created with one of the <code>setup</code> functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>The sample size per basket.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>The one-sided significance level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design_params</code></td>
<td>
<p>A list of params that is specific to the class of
<code>design</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scenarios</code></td>
<td>
<p>A matrix of scenarios.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prec_digits</code></td>
<td>
<p>Number of decimal places that are considered when
adjusting lambda.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter</code></td>
<td>
<p>The number of iterations in the simulation. Is ignored if
<code>data</code> is specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A list of data matrices generated with <code>get_data</code>. The
list elements have to correspond to the columsn of <code>scenarios</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A matrix with the expected number of correct decisions.
</p>


<h3>Examples</h3>

<pre><code class="language-R">design &lt;- setup_fujikawa(k = 3, p0 = 0.2)
scenarios &lt;- get_scenarios(design, p1 = 0.5)

# Without simulated data
opt_design(design, n = 20, alpha = 0.05, design_params =
  list(epsilon = c(1, 2), tau = c(0, 0.5)), scenarios = scenarios,
  prec_digits = 3)

# With simulated data
scenario_list &lt;- as.list(data.frame(scenarios))
data_list &lt;- lapply(scenario_list,
  function(x) get_data(k = 3, n = 20, p = x, iter = 1000))
opt_design(design, n = 20, alpha = 0.05, design_params =
  list(epsilon = c(1, 2), tau = c(0, 0.5)), scenarios = scenarios,
  prec_digits = 3, data = data_list)
</code></pre>


</div>