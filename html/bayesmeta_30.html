<div class="container">

<table style="width: 100%;"><tr>
<td>forestplot.bayesmeta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Generate a forest plot for a <code>bayesmeta</code> object
(based on the <code>forestplot</code> package's plotting functions).
</h2>

<h3>Description</h3>

<p>Generates a forest plot, showing individual estimates along with their
95 percent confidence intervals, shrinkage intervals, resulting effect
estimate and prediction interval.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  ## S3 method for class 'bayesmeta'
forestplot(x, labeltext, exponentiate=FALSE,
           prediction=TRUE, shrinkage=TRUE, heterogeneity=TRUE, 
           digits=2, plot=TRUE,
           fn.ci_norm, fn.ci_sum, col, legend=NULL, boxsize, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>a <code>bayesmeta</code> object.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labeltext</code></td>
<td>
<p>an (alternative) “<code>labeltext</code>” argument
which is then handed on to the <code>forestplot()</code>
function (see the help there). You can use this to change contents
or add columns to the displayed table; see the example below.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exponentiate</code></td>
<td>

<p>a logical flag indicating whether to exponentiate numbers (effect
sizes) in table and plot.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prediction</code></td>
<td>

<p>a logical flag indicating whether to show the prediction interval
below the mean estimate.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shrinkage</code></td>
<td>

<p>a logical flag indicating whether to show shrinkage intervals along
with the quoted estimates.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heterogeneity</code></td>
<td>

<p>a logical flag indicating whether to quote the heterogeneity estimate 
and CI (at the bottom left).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>

<p>The number of significant digits to be shown.
This is interpreted relative to the standard errors of all estimates.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>

<p>a logical flag indicating whether to actually generate a plot.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fn.ci_norm, fn.ci_sum, col, legend, boxsize, ...</code></td>
<td>

<p>other arguments passed on to the
<span class="pkg">forestplot</span> package's <code>forestplot</code>
function (see also the help there).
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Generates a forest plot illustrating the underlying data and
resulting estimates (effect estimate and prediction interval,
as well as shrinkage estimates and intervals).
</p>


<h3>Value</h3>

<p>A list containing the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a <code>matrix</code> of estimates and CIs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shrinkage</code></td>
<td>
<p>a <code>matrix</code> of shrinkage estimates and CIs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labeltext</code></td>
<td>
<p>a <code>matrix</code> of table entries.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forestplot</code></td>
<td>
<p>result of the call to the
‘<code>forestplot()</code>’ function.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>This function is based on the <span class="pkg">forestplot</span> package's
“<code>forestplot()</code>” function.
</p>


<h3>Author(s)</h3>

<p>Christian Roever <a href="mailto:christian.roever@med.uni-goettingen.de">christian.roever@med.uni-goettingen.de</a>
</p>


<h3>References</h3>

<p>C. Roever.
Bayesian random-effects meta-analysis using the bayesmeta R package.
<em>Journal of Statistical Software</em>, <b>93</b>(6):1-51, 2020.
<a href="https://doi.org/10.18637/jss.v093.i06">doi:10.18637/jss.v093.i06</a>.
</p>
<p>C. Lewis and M. Clarke.
Forest plots: trying to see the wood and the trees.
<em>BMJ</em>, <b>322</b>:1479, 2001.
<a href="https://doi.org/10.1136/bmj.322.7300.1479">doi:10.1136/bmj.322.7300.1479</a>.
</p>
<p>C. Guddat, U. Grouven, R. Bender and G. Skipka.
A note on the graphical presentation of prediction intervals in
random-effects meta-analyses.
<em>Systematic Reviews</em>, <b>1</b>(34), 2012.
<a href="https://doi.org/10.1186/2046-4053-1-34">doi:10.1186/2046-4053-1-34</a>.
</p>
<p>R.D. Riley, J.P. Higgins and J.J. Deeks.
Interpretation of random effects meta-analyses.
<em>BMJ</em>, <b>342</b>:d549, 2011.
<a href="https://doi.org/10.1136/bmj.d549">doi:10.1136/bmj.d549</a>.
</p>


<h3>See Also</h3>

<p><code>bayesmeta</code>,
<code>forestplot</code>,
<code>forest.bayesmeta</code>,
<code>plot.bayesmeta</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load data:
data("CrinsEtAl2014")

## Not run: 
# compute effect sizes (log odds ratios) from count data
# (using "metafor" package's "escalc()" function):
require("metafor")
crins.es &lt;- escalc(measure="OR",
                   ai=exp.AR.events,  n1i=exp.total,
                   ci=cont.AR.events, n2i=cont.total,
                   slab=publication, data=CrinsEtAl2014)
print(crins.es)

# perform meta analysis:
crins.ma &lt;- bayesmeta(crins.es, tau.prior=function(t){dhalfcauchy(t,scale=1)})

########################
# generate forest plots
require("forestplot")

# default options:
forestplot(crins.ma)

# exponentiate values (shown in table and plot), show vertical line at OR=1:
forestplot(crins.ma, expo=TRUE, zero=1)

# logarithmic x-axis:
forestplot(crins.ma, expo=TRUE, xlog=TRUE)

# omit prediction interval:
forestplot(crins.ma, predict=FALSE)

# omit shrinkage intervals:
forestplot(crins.ma, shrink=FALSE)

# show more decimal places:
forestplot(crins.ma, digits=3)

# change table values:
# (here: add columns for event counts)
fp &lt;- forestplot(crins.ma, expo=TRUE, plot=FALSE)
labtext &lt;- fp$labeltext
labtext &lt;- cbind(labtext[,1],
                 c("treatment",
                   paste0(CrinsEtAl2014[,"exp.AR.events"], "/", CrinsEtAl2014[,"exp.total"]),
                   "",""),
                 c("control",
                   paste0(CrinsEtAl2014[,"cont.AR.events"], "/", CrinsEtAl2014[,"cont.total"]),
                   "",""),
                 labtext[,2:3])
labtext[1,4] &lt;- "OR"
print(fp$labeltext) # before
print(labtext)      # after
forestplot(crins.ma, labeltext=labtext, expo=TRUE, xlog=TRUE)

# see also the "forestplot" help for more arguments that you may change,
# e.g. the "clip", "xticks", "xlab" and "title" arguments,
# or the "txt_gp" argument for label sizes etc.:
forestplot(crins.ma, clip=c(-4,1), xticks=(-3):0,
           xlab="log-OR", title="pediatric transplantation example",
           txt_gp = fpTxtGp(ticks = gpar(cex=1), xlab = gpar(cex=1)))

## End(Not run)
</code></pre>


</div>