<div class="container">

<table style="width: 100%;"><tr>
<td>addition-terms</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Additional Response Information</h2>

<h3>Description</h3>

<p>Provide additional information on the response variable
in <span class="pkg">brms</span> models, such as censoring, truncation, or
known measurement error. Detailed documentation on the use
of each of these functions can be found in the Details section
of <code>brmsformula</code> (under "Additional response information").
</p>


<h3>Usage</h3>

<pre><code class="language-R">resp_se(x, sigma = FALSE)

resp_weights(x, scale = FALSE)

resp_trials(x)

resp_thres(x, gr = NA)

resp_cat(x)

resp_dec(x)

resp_bhaz(gr = NA, df = 5, ...)

resp_cens(x, y2 = NA)

resp_trunc(lb = -Inf, ub = Inf)

resp_mi(sdy = NA)

resp_index(x)

resp_rate(denom)

resp_subset(x)

resp_vreal(...)

resp_vint(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector; Ideally a single variable defined in the data (see
Details). Allowed values depend on the function: <code>resp_se</code> and
<code>resp_weights</code> require positive numeric values. <code>resp_trials</code>,
<code>resp_thres</code>, and <code>resp_cat</code> require positive integers.
<code>resp_dec</code> requires <code>0</code> and <code>1</code>, or alternatively
<code>'lower'</code> and <code>'upper'</code>. <code>resp_subset</code> requires <code>0</code> and
<code>1</code>, or alternatively <code>FALSE</code> and <code>TRUE</code>. <code>resp_cens</code>
requires <code>'left'</code>, <code>'none'</code>, <code>'right'</code>, and
<code>'interval'</code> (or equivalently <code>-1</code>, <code>0</code>, <code>1</code>, and
<code>2</code>) to indicate left, no, right, or interval censoring.
<code>resp_index</code> does not make any requirements other than the value being
unique for each observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma</code></td>
<td>
<p>Logical; Indicates whether the residual standard deviation
parameter <code>sigma</code> should be included in addition to the known
measurement error. Defaults to <code>FALSE</code> for backwards compatibility,
but setting it to <code>TRUE</code> is usually the better choice.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>Logical; Indicates whether weights should be scaled
so that the average weight equals one. Defaults to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gr</code></td>
<td>
<p>A vector of grouping indicators.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>Degrees of freedom of baseline hazard splines for Cox models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>For <code>resp_vreal</code>, vectors of real values.
For <code>resp_vint</code>, vectors of integer values. In Stan,
these variables will be named <code>vreal1</code>, <code>vreal2</code>, ...,
and <code>vint1</code>, <code>vint2</code>, ..., respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y2</code></td>
<td>
<p>A vector specifying the upper bounds in interval censoring.
Will be ignored for non-interval censored observations. However, it
should NOT be <code>NA</code> even for non-interval censored observations to
avoid accidental exclusion of these observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lb</code></td>
<td>
<p>A numeric vector or single numeric value specifying
the lower truncation bound.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ub</code></td>
<td>
<p>A numeric vector or single numeric value specifying
the upper truncation bound.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdy</code></td>
<td>
<p>Optional known measurement error of the response
treated as standard deviation. If specified, handles
measurement error and (completely) missing values
at the same time using the plausible-values-technique.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>denom</code></td>
<td>
<p>A vector of positive numeric values specifying
the denominator values from which the response rates are computed.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions are almost solely useful when
called in formulas passed to the <span class="pkg">brms</span> package.
Within formulas, the <code>resp_</code> prefix may be omitted.
More information is given in the 'Details' section
of <code>brmsformula</code> (under "Additional response information").
</p>
<p>It is highly recommended to use a single data variable as input
for <code>x</code> (instead of a more complicated expression) to make sure all
post-processing functions work as expected.
</p>


<h3>Value</h3>

<p>A list of additional response information to be processed further
by <span class="pkg">brms</span>.
</p>


<h3>See Also</h3>

<p><code>brm</code>,
<code>brmsformula</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
## Random effects meta-analysis
nstudies &lt;- 20
true_effects &lt;- rnorm(nstudies, 0.5, 0.2)
sei &lt;- runif(nstudies, 0.05, 0.3)
outcomes &lt;- rnorm(nstudies, true_effects, sei)
data1 &lt;- data.frame(outcomes, sei)
fit1 &lt;- brm(outcomes | se(sei, sigma = TRUE) ~ 1,
            data = data1)
summary(fit1)

## Probit regression using the binomial family
n &lt;- sample(1:10, 100, TRUE)  # number of trials
success &lt;- rbinom(100, size = n, prob = 0.4)
x &lt;- rnorm(100)
data2 &lt;- data.frame(n, success, x)
fit2 &lt;- brm(success | trials(n) ~ x, data = data2,
            family = binomial("probit"))
summary(fit2)

## Survival regression modeling the time between the first
## and second recurrence of an infection in kidney patients.
fit3 &lt;- brm(time | cens(censored) ~ age * sex + disease + (1|patient),
            data = kidney, family = lognormal())
summary(fit3)

## Poisson model with truncated counts
fit4 &lt;- brm(count | trunc(ub = 104) ~ zBase * Trt,
            data = epilepsy, family = poisson())
summary(fit4)

## End(Not run)

</code></pre>


</div>