<div class="container">

<table style="width: 100%;"><tr>
<td>nonmemControl</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>NONMEM estimation control</h2>

<h3>Description</h3>

<p>NONMEM estimation control
</p>


<h3>Usage</h3>

<pre><code class="language-R">nonmemControl(
  est = c("focei", "imp", "its", "posthoc"),
  advanOde = c("advan13", "advan8", "advan6"),
  cov = c("r,s", "r", "s", ""),
  maxeval = 1e+05,
  tol = 6,
  atol = 12,
  sstol = 6,
  ssatol = 12,
  sigl = 12,
  sigdig = 3,
  print = 1,
  extension = getOption("babelmixr2.nmModelExtension", ".nmctl"),
  outputExtension = getOption("babelmixr2.nmOutputExtension", ".lst"),
  runCommand = getOption("babelmixr2.nonmem", ""),
  iniSigDig = 5,
  protectZeros = TRUE,
  muRef = TRUE,
  addProp = c("combined2", "combined1"),
  rxControl = NULL,
  sumProd = FALSE,
  optExpression = TRUE,
  calcTables = TRUE,
  compress = TRUE,
  ci = 0.95,
  sigdigTable = NULL,
  readRounding = FALSE,
  readBadOpt = FALSE,
  niter = 100L,
  isample = 1000L,
  iaccept = 0.4,
  iscaleMin = 0.1,
  iscaleMax = 10,
  df = 4,
  seed = 14456,
  mapiter = 1,
  mapinter = 0,
  noabort = TRUE,
  modelName = NULL,
  muRefCovAlg = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>est</code></td>
<td>
<p>NONMEM estimation method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>advanOde</code></td>
<td>
<p>The ODE solving method for NONMEM</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cov</code></td>
<td>
<p>The NONMEM covariance method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxeval</code></td>
<td>
<p>NONMEM's maxeval (for non posthoc methods)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>NONMEM tolerance for ODE solving advan</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>atol</code></td>
<td>
<p>NONMEM absolute tolerance for ODE solving</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sstol</code></td>
<td>
<p>NONMEM tolerance for steady state ODE solving</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ssatol</code></td>
<td>
<p>NONMEM absolute tolerance for steady state ODE solving</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigl</code></td>
<td>
<p>NONMEM sigl estimation option</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigdig</code></td>
<td>
<p>the significant digits for NONMEM</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print</code></td>
<td>
<p>The print number for NONMEM</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extension</code></td>
<td>
<p>NONMEM file extensions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outputExtension</code></td>
<td>
<p>Extension to use for the NONMEM output
listing</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>runCommand</code></td>
<td>
<p>Command to run NONMEM (typically the path to "nmfe75") or a
function.  See the details for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iniSigDig</code></td>
<td>
<p>How many significant digits are printed in $THETA
and $OMEGA when the estimate is zero.  Also controls the zero
protection numbers</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>protectZeros</code></td>
<td>
<p>Add methods to protect divide by zero</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>muRef</code></td>
<td>
<p>Automatically mu-reference the control stream</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addProp, sumProd, optExpression, calcTables, compress, ci, sigdigTable</code></td>
<td>
<p>Passed to <code>nlmixr2est::foceiControl</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rxControl</code></td>
<td>
<p>Options to pass to <code>rxode2::rxControl</code> for
simulations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>readRounding</code></td>
<td>
<p>Try to read NONMEM output when NONMEM
terminated due to rounding errors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>readBadOpt</code></td>
<td>
<p>Try to read NONMEM output when NONMEM terminated
due to an apparent failed optimization</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>niter</code></td>
<td>
<p>number of iterations in NONMEM estimation methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>isample</code></td>
<td>
<p>Isample argument for NONMEM  ITS estimation method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iaccept</code></td>
<td>
<p>Iaccept for NONMEM ITS estimation methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iscaleMin</code></td>
<td>
<p>parameter for IMP NONMEM method (ISCALE_MIN)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iscaleMax</code></td>
<td>
<p>parameter for IMP NONMEM method (ISCALE_MAX)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>degrees of freedom for IMP method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>is the seed for NONMEM methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mapiter</code></td>
<td>
<p>the number of map iterations for IMP method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mapinter</code></td>
<td>
<p>is the MAPINTER parameter for the IMP method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noabort</code></td>
<td>
<p>Add the <code>NOABORT</code> option for <code style="white-space: pre;">⁠$EST⁠</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modelName</code></td>
<td>
<p>Model name used to generate the NONMEM output.  If
<code>NULL</code> try to infer from the model name (could be <code>x</code> if not
clear).  Otherwise use this character for outputs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>muRefCovAlg</code></td>
<td>
<p>This controls if algebraic expressions that can
be mu-referenced are treated as mu-referenced covariates by:
</p>
<p>1. Creating a internal data-variable 'nlmixrMuDerCov#' for each
algebraic mu-referenced expression
</p>
<p>2. Change the algebraic expression to 'nlmixrMuDerCov# * mu_cov_theta'
</p>
<p>3. Use the internal mu-referenced covariate for saem
</p>
<p>4. After optimization is completed, replace 'model()' with old
'model()' expression
</p>
<p>5. Remove 'nlmixrMuDerCov#' from nlmix2 output
</p>
<p>In general, these covariates should be more accurate since it
changes the system to a linear compartment model.  Therefore, by default this is 'TRUE'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>optional <code>genRxControl</code> argument controlling
automatic <code>rxControl</code> generation.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>runCommand</code> is given as a string, it will be called with the
<code>system()</code> command like:
</p>
<p><code>runCommand controlFile outputFile</code>.
</p>
<p>For example, if <code>runCommand="'/path/to/nmfe75'"</code> then the command line
used would look like the following:
</p>
<p><code>'/path/to/nmfe75' one.cmt.nmctl one.cmt.lst</code>
</p>
<p>If <code>runCommand</code> is given as a function, it will be called as
<code>FUN(ctl, directory, ui)</code> to run NONMEM.  This allows you to run NONMEM
in any way that you may need, as long as you can write it in R.  babelmixr2
will wait for the function to return before proceeding.
</p>
<p>If <code>runCommand</code> is <code>NA</code>, <code>nlmixr()</code> will stop after writing
the model files and without starting NONMEM.
</p>


<h3>Value</h3>

<p>babelmixr2 control option for generating NONMEM control stream and
reading it back into <code>babelmixr2</code>/<code>nlmixr2</code>
</p>


<h3>Author(s)</h3>

<p>Matthew L. Fidler
</p>


<h3>Examples</h3>

<pre><code class="language-R">
nonmemControl()

</code></pre>


</div>