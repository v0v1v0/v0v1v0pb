<div class="container">

<table style="width: 100%;"><tr>
<td>plot.broken</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Break Down Plot</h2>

<h3>Description</h3>

<p>Break Down Plot
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'broken'
plot(
  x,
  trans = I,
  ...,
  top_features = 0,
  min_delta = 0,
  add_contributions = TRUE,
  vcolors = c(`-1` = "#f05a71", `0` = "#371ea3", `1` = "#8bdcbe", X = "#371ea3"),
  digits = 3,
  rounding_function = round,
  plot_distributions = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>the model model of 'broken' class</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trans</code></td>
<td>
<p>transformation that shal be applied to scores</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>top_features</code></td>
<td>
<p>maximal number of variables from model we want to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_delta</code></td>
<td>
<p>minimal stroke value of variables from model we want to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_contributions</code></td>
<td>
<p>shall variable contributions to be added on plot?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vcolors</code></td>
<td>
<p>named vector with colors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>number of decimal places (round) or significant digits (signif) to be used.
See the <code>rounding_function</code> argument</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rounding_function</code></td>
<td>
<p>function that is to used for rounding numbers.
It may be <code>signif()</code> which keeps a specified number of significant digits.
Or the default <code>round()</code> to have the same precision for all components</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_distributions</code></td>
<td>
<p>if TRUE then distributions of conditional propotions will be plotted. This requires keep_distributions=TRUE in the broken.default().</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a ggplot2 object
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library("breakDown")
library("randomForest")
library("ggplot2")
set.seed(1313)
model &lt;- randomForest(factor(left)~., data = HR_data, family = "binomial", maxnodes = 5)
predict.function &lt;- function(model, new_observation)
      predict(model, new_observation, type="prob")[,2]
predict.function(model, HR_data[11,-7])
explain_1 &lt;- broken(model, HR_data[11,-7], data = HR_data[,-7],
predict.function = predict.function, direction = "down")
explain_1
plot(explain_1) + ggtitle("breakDown plot (direction=down) for randomForest model")

explain_2 &lt;- broken(model, HR_data[11,-7], data = HR_data[,-7],
predict.function = predict.function, direction = "down", keep_distributions = TRUE)
plot(explain_2, plot_distributions = TRUE) +
         ggtitle("breakDown distributions (direction=down) for randomForest model")

explain_3 &lt;- broken(model, HR_data[11,-7], data = HR_data[,-7],
predict.function = predict.function, direction = "up", keep_distributions = TRUE)
plot(explain_3, plot_distributions = TRUE) +
         ggtitle("breakDown distributions (direction=up) for randomForest model")

model &lt;- lm(quality~., data=wine)
new_observation &lt;- wine[1,]
br &lt;- broken(model, new_observation)
plot(br)
plot(br, top_features = 2)
plot(br, top_features = 2, min_delta = 0.01)

## End(Not run)
</code></pre>


</div>