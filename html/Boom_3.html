<div class="container">

<table style="width: 100%;"><tr>
<td>external.legend</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Add an external legend to an array of plots.
</h2>

<h3>Description</h3>

<p><code>ExternalLegendLayout</code> sets up a plotting region to plot a
regular grid of points, with an optional legend on the top or right of
the grid.
</p>
<p><code>AddExternalLegend</code> adds a legend to a grid of plots that was set
up using <code>ExternalLegendLayout</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ExternalLegendLayout(nrow,
                     ncol,
                     legend.labels,
                     legend.location = c("top", "right"),
                     outer.margin.lines = rep(4, 4),
                     gap.between.plots = rep(0, 4),
                     legend.cex = 1,
                     x.axis = TRUE,
                     y.axis = TRUE)

AddExternalLegend(legend.labels,
                  legend.location = c("top", "right"),
                  legend.cex =1,
                  bty = "n",
                  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nrow</code></td>
<td>
<p>The number of rows in the array of plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncol</code></td>
<td>
<p>The number of columns in the array of plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.labels</code></td>
<td>
<p>The labels to be used in the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.location</code></td>
<td>
<p>Specifies whether the legend should appear on
the top or the right hand side.  It can also be <code>NULL</code>,
indicating that no legend is desired.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer.margin.lines</code></td>
<td>
<p>A vector of length four giving the number of
lines of text desired for the outer margins of the plot.  See the
<code>oma</code> argument of <code>par</code>.  This can also be
specified as a single number, to be repeated 4 times.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gap.between.plots</code></td>
<td>
<p>A vector of length 4 giving the number of
lines of text to leave between grid panels.  See the <code>mar</code>
argument of <code>par</code>.  This can also be specified as a
single number, to be repeated 4 times.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.cex</code></td>
<td>
<p>The scale factor that will be used for legend text.
This must match the scale factor used in add.external.legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.axis</code></td>
<td>
<p>Will any plots have a horizontal axis?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.axis</code></td>
<td>
<p>Will any plots have a vertical axis?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bty</code></td>
<td>
<p>Type of box to draw around the legend.  Can be "n" (for no
box) or "o" for a box.  See <code>legend</code>.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra arguments passed to <code>legend</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>ExternalLegendLayout</code> returns the original graphical
parameters, intended for use with <code>on.exit</code>.
</p>
<p><code>AddExternalLegend</code> returns invisible <code>NULL</code>.
</p>


<h3>Author(s)</h3>

<p>Steven L. Scott
</p>


<h3>See Also</h3>

<p><code>legend</code> <code>layout</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
example.plot &lt;- function() {
  x &lt;- rnorm(100)
  y &lt;- rnorm(100)
  scale &lt;- range(x, y)
  opar &lt;- ExternalLegendLayout(nrow = 2,
                               ncol = 2,
                               legend.labels = c("foo", "bar"))
  on.exit({par(opar); layout(1)})
  hist(x, xlim = scale, axes = FALSE, main = "")
  mtext("X", side = 3, line = 1)
  box()
  plot(x, y, xlim = scale, ylim = scale, axes = FALSE)
  box()
  axis(3)
  axis(4)
  plot(y, x, xlim = scale, ylim = scale, axes = FALSE, pch = 2, col = 2)
  box()
  axis(1)
  axis(2)
  hist(y, xlim = scale, axes = FALSE, main = "")
  mtext("Y", side = 1, line = 1)
  box()
  AddExternalLegend(legend.labels = c("foo", "bar"),
                    pch = 1:2,
                    col = 1:2,
                    legend.cex = 1.5)
}

## Now call example.plot().
example.plot()

## Because of the call to on.exit(), in example.plot,
## the original plot layout is restored.
hist(1:10)
</code></pre>


</div>