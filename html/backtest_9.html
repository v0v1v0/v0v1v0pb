<div class="container">

<table style="width: 100%;"><tr>
<td>backtest-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class "backtest"</h2>

<h3>Description</h3>

<p>Contains results from the backtest function.</p>


<h3>Details</h3>

<p>The primary method for accessing the <code>backtest</code> results is through
the <code>summary</code> method.  <code>summary</code> provides different displays
depending on the type of <code>backtest</code> object.  These displays are
shown in the examples section.  Accessor methods such as <code>means</code>,
<code>counts</code>, <code>marginals</code>, <code>naCounts</code>, <code>turnover</code>, and
<code>ci</code> may be used to extract other types of information from the object.
</p>
<p>A <code>backtest</code> object with a <code>natural</code> value of TRUE may be
graphed by calling the <code>plot</code> method.  The default <code>plot</code>
method graphs return.  The other plots, turnover and
cumulative return, must be explicitly specified as <code>plot(object,
  type = "turnover")</code> or <code>plot(object, type = "cumreturn")</code>.
</p>
<p>The <code>backtest</code> object does not store the data frame used to create
the <code>backtest.</code>  It only stores the results and the names of the
vectors used in calculating these results.
</p>
<p>The results of a <code>backtest</code> are stored in a 5-dimensional array,
<code>results</code>.  The 1st dimension contains one value for every element
of <code>ret.var</code>.  The 2nd dimension contains one value for
every element of <code>in.var</code>.  The 3rd dimension contains one value
for every element in <code>1:buckets[1]</code>, a vector from 1 through the
number of <code>by.var</code> buckets.  The 4th dimension contains one value
for every element in <code>1:buckets[2]</code>, a vector from 1 through the
number of <code>in.var</code> buckets.  The 5th dimension contains 4
elements: <code>means</code>, <code>counts</code>, <code>trim.means</code>, and
<code>NAs</code>.  
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls to the function <code>backtest(data,
    in.var, ret.var, ...)</code>.
</p>


<h3>Slots</h3>


<dl>
<dt>
<code>in.var</code>:</dt>
<dd>
<p>Object of class <code>"character"</code> specifying
the <code>in.var</code> values for this backtest.
</p>
</dd>
<dt>
<code>ret.var</code>:</dt>
<dd>
<p>Object of class <code>"character"</code> containing
the <code>ret.var</code> values for this backtest.
</p>
</dd>
<dt>
<code>by.var</code>:</dt>
<dd>
<p>Object of class <code>"character"</code> containing
the <code>by.var</code>, if specified, for this backtest. 
</p>
</dd>
<dt>
<code>date.var</code>:</dt>
<dd>
<p>Object of class <code>"character"</code> containing
the <code>date.var</code>, if specified, for this backtest. 
</p>
</dd>
<dt>
<code>buckets</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code> containing
the number(s) of buckets used create quantiles from the
<code>in.var</code> and <code>by.var</code> values.
</p>
</dd>
<dt>
<code>results</code>:</dt>
<dd>
<p>A 5-dimensional <code>"array"</code> containing the
results of the backtest.
</p>
</dd>
<dt>
<code>ret.stats</code>:</dt>
<dd>
<p>Object of class <code>"array"</code> containing
return statistics for the backtest.  
</p>
</dd>
<dt>
<code>turnover</code>:</dt>
<dd>
<p>Object of class <code>"array"</code> containing
turnover statistics for the backtest.
</p>
</dd>
<dt>
<code>natural</code>:</dt>
<dd>
<p>Object of class <code>"logical"</code> expressing
whether or not the intervals between observations, as specified by
<code>date.var</code>, and returns, as specified by <code>ret.var</code>,
match.  If the interval between dates is one month, the interval
between returns should also be one month.
</p>
</dd>
<dt>
<code>do.spread</code>:</dt>
<dd>
<p>Object of class <code>"logical"</code>. If TRUE the <code>summary</code>
method displays information about the spread between the extreme
quantiles.  If FALSE this information is suppressed.  Defaults to TRUE.
</p>
</dd>
<dt>
<code>by.period</code>:</dt>
<dd>
<p>Object of class <code>"logical"</code>. If TRUE the quantiles are
recalculated within each date period.  If FALSE the quantiles are
calculated all at once.  Defaults to TRUE.
</p>
</dd>
<dt>
<code>overlaps</code>:</dt>
<dd>
<p>An object of class <code>"numeric"</code> which specifies
the number of prior periods to include in the current period's
portfolio weights calculation. If <code>overlaps</code> is the default of 1,
backtest behaves as usual and only uses a periods own data to
determine its portfolio.  If <code>overlaps</code> is set to
n &gt; 1, a period's portfolio comprises the weighted mean of
portfolio weights from the previous n periods, with period n
having a weight of 1/n.
</p>
</dd>
</dl>
<h3>Methods</h3>


<dl>
<dt>show</dt>
<dd>
<p><code>signature(object = "backtest")</code>: Prints the
variables used in this backtest.
</p>
</dd>
<dt>summary</dt>
<dd>
<p><code>signature(object = "backtest")</code>: Prints
the results of the backtest.
</p>
</dd>
<dt>summaryStats</dt>
<dd>
<p><code>signature(object = "backtest")</code>:
Returns a data frame with spreads for each <code>date.var</code> value and each
<code>in.var</code>.
</p>
</dd>
<dt>means</dt>
<dd>
<p><code>signature(object = "backtest")</code>: Returns a list
of matrices, with one matrix for each <code>in.var</code>, where the
value of each cell is the mean of the returns for that
<code>in.var</code> and <code>by.var</code> combination.
</p>
</dd>
<dt>counts</dt>
<dd>
<p><code>signature(object = "backtest")</code>: Returns a list
of matrices, with one matrix for each <code>in.var</code>, where the
value of each cell is the number of observations for that
<code>in.var</code> and <code>by.var</code> combination.
</p>
</dd>
<dt>totalCounts</dt>
<dd>
<p><code>signature(object = "backtest")</code>: Returns a
data frame in the same format as the speads data frame returned by <code>summaryStats</code>: 
contains the sum of counts for all buckets (or high and
low buckets if argument <code>low.high.only</code> is set to TRUE) of non-NA
<code>in.var</code> values that went into the spread calculations. 
</p>
</dd>
<dt>marginals</dt>
<dd>
<p><code>signature(object = "backtest")</code>: Returns a
list of matrices, one matrix for each <code>in.var</code>, where the
value of each cell is the number of observations for that
<code>in.var</code> and <code>by.var</code> combination.  Different from
<code>counts</code> because the marginal sums have been appended to the
matrices.
</p>
</dd>
<dt>naCounts</dt>
<dd>
<p><code>signature(object = "backtest")</code>: Returns a
list of matrices, with one matrix for each <code>in.var</code>, where
the value of each cell is the number of NA observations for that
<code>in.var</code> and <code>by.var</code>
combination.
</p>
</dd>
<dt>ci</dt>
<dd>
<p><code>signature(object = "backtest")</code>: Returns a
matrix of confidence intervals for spreads.
</p>
</dd>
<dt>turnover</dt>
<dd>
<p><code>signature(object = "backtest")</code>: Returns a
<code>data.frame</code> of the turnovers if the <code>backtest</code> is <code>natural</code>.
</p>
</dd>
<dt>plot</dt>
<dd>
<p><code>signature(x = "backtest", y = "missing")</code>: Plots
returns, cumulative returns, or turnover, when passed a
<code>type</code> argument of <code>return</code>, <code>cumreturn</code>, or
<code>turnover</code>, respectively.
</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Kyle Campbell <a href="mailto:kyle.w.campbell@williams.edu">kyle.w.campbell@williams.edu</a></p>


<h3>See Also</h3>

<p><code>backtest</code></p>


<h3>Examples</h3>

<pre><code class="language-R">
data(starmine)
bt &lt;- backtest(starmine, in.var = "smi", ret.var = "ret.0.1.m", by.period = FALSE)

## Summary for a pooled backtest

summary(bt)

## A natural backtest

bt &lt;- backtest(starmine, in.var = "smi", ret.var = "ret.0.1.m",
               date.var = "date", id.var = "id", natural = TRUE, by.period = FALSE)

## Summary for a natural backtest

summary(bt)

## Other access methods

means(bt)
counts(bt)
marginals(bt)
naCounts(bt)

## Plotting methods

plot(bt, type = "turnover")
plot(bt, type = "return")
plot(bt, type = "cumreturn")

</code></pre>


</div>