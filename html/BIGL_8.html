<div class="container">

<table style="width: 100%;"><tr>
<td>constructFormula</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Construct a model formula from parameter constraint matrix</h2>

<h3>Description</h3>

<p>For parameter names defined in <code>naming</code> vector, formula is constructed
so that <code>consMatrix %*% naming = consVector</code> is satisfied. Constraint
coefficients are normalized and convert into fractions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">constructFormula(
  consMatrix = NULL,
  consVector = NULL,
  naming = c("h1", "h2", "b", "m1", "m2", "e1", "e2"),
  extraVars = c("d1", "d2"),
  formulaArgs = c("effect", "fn")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>consMatrix</code></td>
<td>
<p>Constraint matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>consVector</code></td>
<td>
<p>Constraint vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>naming</code></td>
<td>
<p>Parameter names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extraVars</code></td>
<td>
<p>Non-parameter variables used in the formula and function
evaluation. These will be appended to the formula.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formulaArgs</code></td>
<td>
<p>Character vector of length two. First element indicates
name for the response variable. Second element indicates name of the
function.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>This function returns a model construct appropriate for
<code>fitMarginals</code> function. It also separates variables into those
that are free and those which are constrained.
</p>


<h3>Examples</h3>

<pre><code class="language-R">  constM &lt;- rbind(c(0, 0, 1, 0, 0, 0, 0),
                  c(0, 0, 0, -1, 1, 0, 0))
  constV &lt;- c(0.9, 0)
  constructFormula(constM, constV)
</code></pre>


</div>