<div class="container">

<table style="width: 100%;"><tr>
<td>bayesPredsF</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Bayesian predictions on the mean scale.
</h2>

<h3>Description</h3>

<p>Computes Bayesian predictions on the mean scale for models fit using the package "rstanarm". Predictions can be averaged over the values of the covariates in the data (average marginal predictions), or the covariates can be held at their means (marginal predictions at the means). Also, "at" values must be specified to fix at least one covariate at particular values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bayesPredsF(model,
            at,
            n_draws      = 2000,
            ci           = .95,
            hdi_interval = TRUE,
            centrality   = 'mean',
            digits       = 4,
            at_means     = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>

<p>A model object of class "stanreg."
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>at</code></td>
<td>

<p>List of covariate values to estimate the predictions at.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_draws</code></td>
<td>

<p>The number of draws to take from the posterior distribution of the expectation.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>

<p>The level for the credible intervals.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hdi_interval</code></td>
<td>

<p>If TRUE, the default, computes the highest density credible interval. If FALSE, computes the equal-tailed interval.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>centrality</code></td>
<td>

<p>Centrality measure for the posterior distribution. Options are "mean" or "median".
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>

<p>The number of digits to report in the summary table.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>at_means</code></td>
<td>

<p>If FALSE, the default, the predictions are averaged across the rows of the model data for each unique combination of "at" values. If TRUE, the covariate values that are not specified in the "at" argument are held at their means.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Currently, the following families of fixed-effect models fit using "rstanarm" are supported: 'beta', 'binomial', 'Gamma', 'gaussian', 'neg_binomial_2', and 'poisson.' Future versions of the package will contain support for additional models.
</p>


<h3>Value</h3>

<p>A list of class "bayes_mean_scale_pred" with the following components: 
</p>
<table>
<tr style="vertical-align: top;">
<td><code>predTable</code></td>
<td>

<p>summary table of the predictions
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predDraws</code></td>
<td>

<p>posterior draws of the predictions
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>David Dalenberg
</p>


<h3>References</h3>

<p>Agresti, Alan. 2013. <em>Categorical Data Analysis</em>. Third Edition. New York: Wiley
</p>
<p>Long, J. Scott and Sarah A. Mustillo. 2018. "Using Predictions and Marginal Effects to Compare Groups in Regression Models for Binary Outcomes." <em>Sociological Methods &amp; Research</em> 50(3): 1284-1320.
</p>
<p>Mize, Trenton D. 2019. "Best Practices for Estimating, Interpreting, and Presenting Non-linear Interaction Effects." <em>Sociological Science</em> 6: 81-117. 
</p>


<h3>Examples</h3>

<pre><code class="language-R">


## Logit model ##

if(require(rstanarm)){

m1 &lt;- stan_glm(switch ~ dist + educ + arsenic + assoc, 
               data    = rstanarm::wells, 
               family  = binomial, 
               refresh = 0, 
               iter    = 500)

# marginal predictions holding covariates at means #

bayesPredsF(m1, 
            at       = list(arsenic = c(.82, 1.3)), 
            at_means = TRUE,
            n_draws  = 500)
         
}
            


</code></pre>


</div>