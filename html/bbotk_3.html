<div class="container">

<table style="width: 100%;"><tr>
<td>ArchiveAsync</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rush Data Storage</h2>

<h3>Description</h3>

<p>The <code>ArchiveAsync</code> stores all evaluated points and performance scores in a rush::Rush data base.
</p>


<h3>S3 Methods</h3>


<ul><li> <p><code>as.data.table(archive)</code><br>
ArchiveAsync -&gt; <code>data.table::data.table()</code><br>
Returns a tabular view of all performed function calls of the Objective.
The <code>x_domain</code> column is unnested to separate columns.
</p>
</li></ul>
<h3>Super class</h3>

<p><code>bbotk::Archive</code> -&gt; <code>ArchiveAsync</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>rush</code></dt>
<dd>
<p>(<code>Rush</code>)<br>
Rush controller for parallel optimization.</p>
</dd>
</dl>
</div>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>data</code></dt>
<dd>
<p>(data.table::data.table)<br>
Data table with all finished points.</p>
</dd>
<dt><code>queued_data</code></dt>
<dd>
<p>(data.table::data.table)<br>
Data table with all queued points.</p>
</dd>
<dt><code>running_data</code></dt>
<dd>
<p>(data.table::data.table)<br>
Data table with all running points.</p>
</dd>
<dt><code>finished_data</code></dt>
<dd>
<p>(data.table::data.table)<br>
Data table with all finished points.</p>
</dd>
<dt><code>failed_data</code></dt>
<dd>
<p>(data.table::data.table)<br>
Data table with all failed points.</p>
</dd>
<dt><code>n_queued</code></dt>
<dd>
<p>(<code>integer(1)</code>)<br>
Number of queued points.</p>
</dd>
<dt><code>n_running</code></dt>
<dd>
<p>(<code>integer(1)</code>)<br>
Number of running points.</p>
</dd>
<dt><code>n_finished</code></dt>
<dd>
<p>(<code>integer(1)</code>)<br>
Number of finished points.</p>
</dd>
<dt><code>n_failed</code></dt>
<dd>
<p>(<code>integer(1)</code>)<br>
Number of failed points.</p>
</dd>
<dt><code>n_evals</code></dt>
<dd>
<p>(<code>integer(1)</code>)<br>
Number of evaluations stored in the archive.</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-ArchiveAsync-new"><code>ArchiveAsync$new()</code></a>
</p>
</li>
<li> <p><a href="#method-ArchiveAsync-push_points"><code>ArchiveAsync$push_points()</code></a>
</p>
</li>
<li> <p><a href="#method-ArchiveAsync-pop_point"><code>ArchiveAsync$pop_point()</code></a>
</p>
</li>
<li> <p><a href="#method-ArchiveAsync-push_running_point"><code>ArchiveAsync$push_running_point()</code></a>
</p>
</li>
<li> <p><a href="#method-ArchiveAsync-push_result"><code>ArchiveAsync$push_result()</code></a>
</p>
</li>
<li> <p><a href="#method-ArchiveAsync-push_failed_point"><code>ArchiveAsync$push_failed_point()</code></a>
</p>
</li>
<li> <p><a href="#method-ArchiveAsync-data_with_state"><code>ArchiveAsync$data_with_state()</code></a>
</p>
</li>
<li> <p><a href="#method-ArchiveAsync-best"><code>ArchiveAsync$best()</code></a>
</p>
</li>
<li> <p><a href="#method-ArchiveAsync-nds_selection"><code>ArchiveAsync$nds_selection()</code></a>
</p>
</li>
<li> <p><a href="#method-ArchiveAsync-clear"><code>ArchiveAsync$clear()</code></a>
</p>
</li>
</ul>
<details open><summary>Inherited methods</summary><ul>
<li><span class="pkg-link" data-pkg="bbotk" data-topic="Archive" data-id="format"><a href="../../bbotk/html/Archive.html#method-Archive-format"><code>bbotk::Archive$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="bbotk" data-topic="Archive" data-id="help"><a href="../../bbotk/html/Archive.html#method-Archive-help"><code>bbotk::Archive$help()</code></a></span></li>
<li><span class="pkg-link" data-pkg="bbotk" data-topic="Archive" data-id="print"><a href="../../bbotk/html/Archive.html#method-Archive-print"><code>bbotk::Archive$print()</code></a></span></li>
</ul></details><hr>
<a id="method-ArchiveAsync-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Creates a new instance of this R6 class.
</p>


<h5>Usage</h5>

<div class="r"><pre>ArchiveAsync$new(search_space, codomain, check_values = FALSE, rush)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>search_space</code></dt>
<dd>
<p>(paradox::ParamSet)<br>
Specifies the search space for the Optimizer. The paradox::ParamSet
describes either a subset of the <code>domain</code> of the Objective or it describes
a set of parameters together with a <code>trafo</code> function that transforms values
from the search space to values of the domain. Depending on the context, this
value defaults to the domain of the objective.</p>
</dd>
<dt><code>codomain</code></dt>
<dd>
<p>(paradox::ParamSet)<br>
Specifies codomain of function.
Most importantly the tags of each output "Parameter" define whether it should
be minimized or maximized.  The default is to minimize each component.</p>
</dd>
<dt><code>check_values</code></dt>
<dd>
<p>(<code>logical(1)</code>)<br>
Should points before the evaluation and the results be checked for validity?</p>
</dd>
<dt><code>rush</code></dt>
<dd>
<p>(<code>Rush</code>)<br>
If a rush instance is supplied, the tuning runs without batches.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-ArchiveAsync-push_points"></a>



<h4>Method <code>push_points()</code>
</h4>

<p>Push queued points to the archive.
</p>


<h5>Usage</h5>

<div class="r"><pre>ArchiveAsync$push_points(xss)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>xss</code></dt>
<dd>
<p>(list of named <code>list()</code>)<br>
List of named lists of point values.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-ArchiveAsync-pop_point"></a>



<h4>Method <code>pop_point()</code>
</h4>

<p>Pop a point from the queue.
</p>


<h5>Usage</h5>

<div class="r"><pre>ArchiveAsync$pop_point()</pre></div>


<hr>
<a id="method-ArchiveAsync-push_running_point"></a>



<h4>Method <code>push_running_point()</code>
</h4>

<p>Push running point to the archive.
</p>


<h5>Usage</h5>

<div class="r"><pre>ArchiveAsync$push_running_point(xs, extra = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>xs</code></dt>
<dd>
<p>(named <code>list</code>)<br>
Named list of point values.</p>
</dd>
<dt><code>extra</code></dt>
<dd>
<p>(<code>list()</code>)<br>
Named list of additional information.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-ArchiveAsync-push_result"></a>



<h4>Method <code>push_result()</code>
</h4>

<p>Push result to the archive.
</p>


<h5>Usage</h5>

<div class="r"><pre>ArchiveAsync$push_result(key, ys, x_domain, extra = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>key</code></dt>
<dd>
<p>(<code>character()</code>)<br>
Key of the point.</p>
</dd>
<dt><code>ys</code></dt>
<dd>
<p>(<code>list()</code>)<br>
Named list of results.</p>
</dd>
<dt><code>x_domain</code></dt>
<dd>
<p>(<code>list()</code>)<br>
Named list of transformed point values.</p>
</dd>
<dt><code>extra</code></dt>
<dd>
<p>(<code>list()</code>)<br>
Named list of additional information.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-ArchiveAsync-push_failed_point"></a>



<h4>Method <code>push_failed_point()</code>
</h4>

<p>Push failed point to the archive.
</p>


<h5>Usage</h5>

<div class="r"><pre>ArchiveAsync$push_failed_point(key, message)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>key</code></dt>
<dd>
<p>(<code>character()</code>)<br>
Key of the point.</p>
</dd>
<dt><code>message</code></dt>
<dd>
<p>(<code>character()</code>)<br>
Error message.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-ArchiveAsync-data_with_state"></a>



<h4>Method <code>data_with_state()</code>
</h4>

<p>Fetch points with a specific state.
</p>


<h5>Usage</h5>

<div class="r"><pre>ArchiveAsync$data_with_state(
  fields = c("xs", "ys", "xs_extra", "worker_extra", "ys_extra", "condition"),
  states = c("queued", "running", "finished", "failed"),
  reset_cache = FALSE
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>fields</code></dt>
<dd>
<p>(<code>character()</code>)<br>
Fields to fetch.
Defaults to <code>c("xs", "ys", "xs_extra", "worker_extra", "ys_extra")</code>.</p>
</dd>
<dt><code>states</code></dt>
<dd>
<p>(<code>character()</code>)<br>
States of the tasks to be fetched.
Defaults to <code>c("queued", "running", "finished", "failed")</code>.</p>
</dd>
<dt><code>reset_cache</code></dt>
<dd>
<p>(<code>logical(1)</code>)<br>
Whether to reset the cache of the finished points.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-ArchiveAsync-best"></a>



<h4>Method <code>best()</code>
</h4>

<p>Returns the best scoring evaluation(s).
For single-crit optimization, the solution that minimizes / maximizes the objective function.
For multi-crit optimization, the Pareto set / front.
</p>


<h5>Usage</h5>

<div class="r"><pre>ArchiveAsync$best(n_select = 1, ties_method = "first")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>n_select</code></dt>
<dd>
<p>(<code>integer(1L)</code>)<br>
Amount of points to select.
Ignored for multi-crit optimization.</p>
</dd>
<dt><code>ties_method</code></dt>
<dd>
<p>(<code>character(1L)</code>)<br>
Method to break ties when multiple points have the same score.
Either <code>"first"</code> (default) or <code>"random"</code>.
Ignored for multi-crit optimization.
If <code>n_select &gt; 1L</code>, the tie method is ignored and the first point is returned.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>data.table::data.table()</code>
</p>


<hr>
<a id="method-ArchiveAsync-nds_selection"></a>



<h4>Method <code>nds_selection()</code>
</h4>

<p>Calculate best points w.r.t. non dominated sorting with hypervolume contribution.
</p>


<h5>Usage</h5>

<div class="r"><pre>ArchiveAsync$nds_selection(n_select = 1, ref_point = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>n_select</code></dt>
<dd>
<p>(<code>integer(1L)</code>)<br>
Amount of points to select.</p>
</dd>
<dt><code>ref_point</code></dt>
<dd>
<p>(<code>numeric()</code>)<br>
Reference point for hypervolume.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>data.table::data.table()</code>
</p>


<hr>
<a id="method-ArchiveAsync-clear"></a>



<h4>Method <code>clear()</code>
</h4>

<p>Clear all evaluation results from archive.
</p>


<h5>Usage</h5>

<div class="r"><pre>ArchiveAsync$clear()</pre></div>




</div>