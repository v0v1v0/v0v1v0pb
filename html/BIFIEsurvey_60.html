<div class="container">

<table style="width: 100%;"><tr>
<td>BIFIE.data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Creates an Object of Class <code>BIFIEdata</code>
</h2>

<h3>Description</h3>

<p>This function creates an object of class <code>BIFIEdata</code>.
Finite sampling correction of statistical inferences can be
conducted by specifying appropriate input in the <code>fayfac</code>
argument.
</p>


<h3>Usage</h3>

<pre><code class="language-R">BIFIE.data(data.list, wgt=NULL, wgtrep=NULL, fayfac=1, pv_vars=NULL,
     pvpre=NULL, cdata=FALSE, NMI=FALSE)

## S3 method for class 'BIFIEdata'
summary(object,...)

## S3 method for class 'BIFIEdata'
print(x,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data.list</code></td>
<td>

<p>List of multiply imputed datasets. Can be also a list of list of imputed
datasets in case of nested multiple imputation. Then, the argument
<code>NMI=TRUE</code> must be specified.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wgt</code></td>
<td>

<p>A string indicating the label of case weight or a vector
containing all case weights.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wgtrep</code></td>
<td>

<p>Optional vector of replicate weights
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fayfac</code></td>
<td>
<p>Fay factor for calculating standard errors, a numeric value.
If finite sampling correction
is requested, an appropriate vector input can be used (see Example 3).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pv_vars</code></td>
<td>
<p>Optional vector for names of plausible values, see
<code>BIFIE.data.jack</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pvpre</code></td>
<td>
<p>Optional vector for prefixes of plausible values, see
<code>BIFIE.data.jack</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cdata</code></td>
<td>
<p>An optional logical indicating whether the <code>BIFIEdata</code>
object should be compactly saved. The default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NMI</code></td>
<td>
<p>Optional logical indicating whether <code>data.list</code> is obtained
by nested multiple imputation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Object of class <code>BIFIEdata</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Object of class <code>BIFIEdata</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments to be passed</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>BIFIEdata</code> saved in a non-compact
or compact way, see value <code>cdata</code>. The following entries are
included in the list:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>datalistM</code></td>
<td>
<p>Stacked list of imputed datasets (if <code>cdata=FALSE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wgt</code></td>
<td>
<p>Vector with case weights</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wgtrep</code></td>
<td>
<p>Matrix with replicate weights</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Nimp</code></td>
<td>
<p>Number of imputed datasets</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>Number of observations in a dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dat1</code></td>
<td>
<p>Last imputed dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varnames</code></td>
<td>
<p>Vector with variable names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fayfac</code></td>
<td>
<p>Fay factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RR</code></td>
<td>
<p>Number of replicate weights</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NMI</code></td>
<td>
<p>Logical indicating whether the dataset is nested multiply
imputed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cdata</code></td>
<td>
<p>Logical indicating whether the <code>BIFIEdata</code> object is in
compact format (<code>cdata=TRUE</code>) or in a non-compact format
(<code>cdata=FALSE</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Nvars</code></td>
<td>
<p>Number of variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variables</code></td>
<td>
<p>Data frame including some informations about variables.
All transformations are saved in the column <code>source</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>datalistM_ind</code></td>
<td>
<p>Data frame with response indicators
(if <code>cdata=TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>datalistM_imputed</code></td>
<td>
<p>Data frame with imputed values
(if <code>cdata=TRUE</code>)</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>See <code>BIFIE.data.transform</code> for data transformations on
<code>BIFIEdata</code> objects.
</p>
<p>For saving and loading <code>BIFIEdata</code> objects see
<code>save.BIFIEdata</code>.
</p>
<p>For converting PIRLS/TIMSS or PISA datasets into <code>BIFIEdata</code>
objects see <code>BIFIE.data.jack</code>.
</p>
<p>See the <code>BIFIEdata2svrepdesign</code> function for converting
<code>BIFIEdata</code> objects to objects used in the <span class="pkg">survey</span> package.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#############################################################################
# EXAMPLE 1: Create BIFIEdata object with multiply-imputed TIMSS data
#############################################################################
data(data.timss1)
data(data.timssrep)

bdat &lt;- BIFIEsurvey::BIFIE.data( data.list=data.timss1, wgt=data.timss1[[1]]$TOTWGT,
            wgtrep=data.timssrep[, -1 ] )
summary(bdat)
# create BIFIEdata object in a compact way
bdat2 &lt;- BIFIEsurvey::BIFIE.data( data.list=data.timss1, wgt=data.timss1[[1]]$TOTWGT,
            wgtrep=data.timssrep[, -1 ], cdata=TRUE)
summary(bdat2)

## Not run: 
#############################################################################
# EXAMPLE 2: Create BIFIEdata object with one dataset
#############################################################################
data(data.timss2)

# use first dataset with missing data from data.timss2
bdat &lt;- BIFIEsurvey::BIFIE.data( data.list=data.timss2[[1]], wgt=data.timss2[[1]]$TOTWGT)

## End(Not run)

#############################################################################
# EXAMPLE 3: BIFIEdata objects with finite sampling correction
#############################################################################

data(data.timss1)
data(data.timssrep)

#-----
# BIFIEdata object without finite sampling correction
bdat1 &lt;- BIFIEsurvey::BIFIE.data( data.list=data.timss1, wgt=data.timss1[[1]]$TOTWGT,
            wgtrep=data.timssrep[, -1 ] )
summary(bdat1)

#-----
# generate BIFIEdata object with finite sampling correction by adjusting
# the "fayfac" factor
bdat2 &lt;- bdat1
#-- modify "fayfac" constant
fayfac0 &lt;- bdat1$fayfac
# set fayfac=.75 for the first 50 replication zones (25% of students in the
# population were sampled) and fayfac=.20 for replication zones 51-75
# (meaning that 80% of students were sampled)
fayfac &lt;- rep( fayfac0, bdat1$RR )
fayfac[1:50] &lt;- fayfac0 * .75
fayfac[51:75] &lt;- fayfac0 * .20
# include this modified "fayfac" factor in bdat2
bdat2$fayfac &lt;- fayfac
summary(bdat2)
summary(bdat1)

#---- compare some univariate statistics
# no finite sampling correction
res1 &lt;- BIFIEsurvey::BIFIE.univar( bdat1, vars="ASMMAT")
summary(res1)
# finite sampling correction
res2 &lt;- BIFIEsurvey::BIFIE.univar( bdat2, vars="ASMMAT")
summary(res2)

## Not run: 
#############################################################################
# EXAMPLE 4: Create BIFIEdata object with nested multiply imputed dataset
#############################################################################

data(data.timss4)
data(data.timssrep)

# nested imputed dataset, save it in compact format
bdat &lt;- BIFIEsurvey::BIFIE.data( data.list=data.timss4,
            wgt=data.timss4[[1]][[1]]$TOTWGT, wgtrep=data.timssrep[, -1 ],
            NMI=TRUE, cdata=TRUE )
summary(bdat)

## End(Not run)
</code></pre>


</div>