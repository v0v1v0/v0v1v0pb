<div class="container">

<table style="width: 100%;"><tr>
<td>crossval</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>K-fold Cross-Validation</h2>

<h3>Description</h3>

<p>See Efron and Tibshirani (1993) for details on this
function.</p>


<h3>Usage</h3>

<pre><code class="language-R">   crossval(x, y, theta.fit, theta.predict, ..., ngroup=n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a matrix containing the predictor (regressor) values. Each row
corresponds to an observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>a vector containing the response values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta.fit</code></td>
<td>
<p>function to be cross-validated. Takes <code>x</code> and
<code>y</code> as an argument. See example below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta.predict</code></td>
<td>
<p>function producing predicted values for
<code>theta.fit</code>.
Arguments are a matrix <code class="reqn">x</code> of predictors and fit object 
produced by theta.fit.
See example below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>any additional arguments to be passed to theta.fit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ngroup</code></td>
<td>
<p>optional argument specifying the number of  groups formed .
Default is <code>ngroup</code>=sample size, corresponding to leave-one out
cross-validation.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>list with the following components
</p>
<table>
<tr style="vertical-align: top;">
<td><code>cv.fit</code></td>
<td>
<p>The  cross-validated fit for each observation.  The
numbers 1 to n (the sample size) are  partitioned into <code>ngroup</code>
mutually disjoint 
groups  of size "leave.out".  leave.out, the number of observations in
each group, is the integer part of n/ngroup.  The groups are chosen
at random if ngroup &lt; n.  (If n/leave.out is not an integer, the last
group will contain &gt; leave.out observations).  Then theta.fit is applied
with the kth group of observations deleted, for k=1, 2, ngroup.
Finally, the fitted value is computed for the kth group using
<code>theta.predict</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ngroup</code></td>
<td>
<p>The number of groups</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leave.out</code></td>
<td>
<p>The number of observations in each group</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groups</code></td>
<td>
<p>A list of length ngroup containing the indices of the
observations 
in each group. Only returned if <code>leave.out &gt; 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>The deparsed call</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Stone, M. (1974).  Cross-validation choice and assessment of
statistical predictions. Journal of the Royal Statistical Society,
B-36, 111â€“147.
</p>
<p>Efron, B. and Tibshirani, R. (1993) An Introduction to the Bootstrap.
Chapman and Hall, New York, London.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># cross-validation of least squares regression
# note that crossval is not very efficient, and being a
#  general purpose function, it does not use the
# Sherman-Morrison identity for this special case
   x &lt;- rnorm(85)  
   y &lt;- 2*x +.5*rnorm(85)                      
   theta.fit &lt;- function(x,y){lsfit(x,y)}
   theta.predict &lt;- function(fit,x){
               cbind(1,x)%*%fit$coef         
               }                       
   results &lt;- crossval(x,y,theta.fit,theta.predict,ngroup=6)  
                                      
</code></pre>


</div>