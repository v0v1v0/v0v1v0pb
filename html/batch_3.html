<div class="container">

<table style="width: 100%;"><tr>
<td>parseCommandArgs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Parse Command-Line Arguments</h2>

<h3>Description</h3>

<p><code>parseCommandArgs</code> allows for command line arguments to be passed into R. Arguments may be of the form of simple R objects. This makes running the same R code on multiple different options easy, and possible to run in parallel on a single machine or on a cluster.
</p>
<p><code>parseCommandArgsDF</code> returns a dataframe with all of the values that were set when the code was executed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">parseCommandArgs(evaluate=TRUE)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>evaluate</code></td>
<td>
<p>If TRUE, then the command-line arguments are assigned to the current namespace, over-riding any default values that may have already been set in software.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>Returns a list of the command-line arguments that were set.
</p>
<p>See the example below for a good example of how to use this function, and how to run things in parallel with it.
</p>


<h3>References</h3>

<p>Thomas J. Hoffmann (2011). Passing in Command Line Arguments and
Parallel Cluster/Multicore Batching in R with batch. Journal of
Statistical Software, Code Snippets, 39(1), 1-11. URL
<a href="http://www.jstatsoft.org/v39/c01/">http://www.jstatsoft.org/v39/c01/</a>.
</p>


<h3>See Also</h3>

<p><code>rbatch</code>, <code>mergeCsv</code>, <code>msplit</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
  ## mainSim.R
  ## Put the following code in the file 'mainSim.R'.
  ##
  ## Try this out by running:
  ##   R --vanilla &lt; mainSim.R &gt; mainSim.Rout1013
  ##   R --vanilla --args seed 1014 bbeta 0 &lt; mainSim.R &gt; mainSim.Rout1014
  ##   R --vanilla --args seed 1015 bbeta "c(10,20)" &lt; mainSim.R &gt; mainSim.Rout1015
  library(batch)

  ## Set values of some parameters
  seed &lt;- 1013 ## default value
  bbeta &lt;- 5   ## default value, note 'beta' is an R function, so we can't use that

  ## Overwrite the values of 'seed' and 'bbeta', e.g., if they have been
  ##  passed in from the command prompt.
  parseCommandArgs()

  ## Will disply the default values on the first run,
  ##  but bbeta=1014 and bbeta=0 on the second run.
  print(seed)
  print(bbeta)

  ## ... your simualtion code

  ## Write out your results to a csv file
  write.csv(data.frame(seed=seed, bbeta=paste(bbeta,collapse="~")),
    paste("res",seed,".csv",sep=""), row.names=FALSE)

  ## R.miSniam

## End(Not run)

## Not run: 
  ## run_mainSim_parallel.R
  ## Put the following code in 'run_mainSim_parallel.R'
  ##
  ## Selects a variety of parameter combinations to run
  ##    mainSim.R in parallel on a cluster.
  ##
  ## First see the commands that would be run (to make sure they are correct) with
  ##   R --vanilla --args RUN 0 &lt; run_mainSim_parallel.R
  ##  Then run the commands with
  ##   R --vanilla &lt; run_mainSim_parallel.R
  ##  or
  ##   R --vanilla --args RUN 1 &lt; run_mainSim_parallel.R
  ##  These will all default to run locally.
  ## To run on a mosix cluster, run with
  ##   R --vanilla --args RUN 1 RBATCH mosix &lt; run_mainSim_parallel.R
  ## And on a LSF cluster, run with
  ##   R --vanilla --args RUN 1 RBATCH lsf &lt; run_mainSim_parallel.R
  library(batch)

  parseCommandArgs() ## for overwriting default values; here, 'run'

  ## Choose a high enough seed for later for pasting the results together
  ##  (1,...,9,10) sorts not the way you want, for example.
  seed &lt;- 1000
  for(i in 1:10)
    seed &lt;- rbatch("mainSim.R", seed=seed, bbeta=i)

  ## Only for local (but it does not hurt to run in other situations,
  ##  so suggested in all cases).
  ## This actually runs all the commands when run on the local system.
  rbatch.local.run()
  ## R.lellarap_miSniam_nur

## End(Not run)
## Not run: 
  ## paste_mainSim_results.R
  ## Put the following code in paste_mainSim_results.R (or just
  ##  type them in), and run
  ##   R --vanilla &lt; paste_mainSim_results.R
  ##
  ## Pastes all of the csv files created in 'run_mainSim_parallel'
  ##  together.
  library(batch)
  mergeCsv()

## End(Not run)
</code></pre>


</div>