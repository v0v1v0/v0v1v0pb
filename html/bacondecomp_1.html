<div class="container">

<table style="width: 100%;"><tr>
<td>bacon</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Goodman-Bacon Decomposition</h2>

<h3>Description</h3>

<p>bacon() is a function that performs the Goodman-Bacon decomposition for
differences-in-differences with variation in treatment timing (with or
without time-varying covariates).
</p>


<h3>Usage</h3>

<pre><code class="language-R">bacon(formula, data, id_var, time_var, quietly = F)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>an object of class "formula": a symbolic
representation of the model to be fitted. Must be  of the form y ~ D + controls,
where y is the outcome variable,  D is the binary
treatment indicator, and 'controls' can be any additional control variables. Do not
include the fixed effects in the formula. If using '.' notation must be of 
the form y ~ D + . - FE1 - FE2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data.frame containing the variables in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id_var</code></td>
<td>
<p>character, the name of id variable for units.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_var</code></td>
<td>
<p>character, the name of time variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quietly</code></td>
<td>
<p>logical, default = FALSE, if set to TRUE then bacon() does not
print the summary of estimates/weights by type (e.g. Treated vs Untreated)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If control variables are included in the formula, then an object of
class "list" with three elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Omega</code></td>
<td>
<p>a number between 0 and 1, the weight of the within timing group
coefficient</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta_hat_w</code></td>
<td>
<p>a number, the within timing group coefficient</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>two_by_twos</code></td>
<td>
<p>a data.frame with the covariate adjusted 2x2 estimates
and weights</p>
</td>
</tr>
</table>
<p>If not control variables are included then only the two_by_twos data.frame
is returned.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Castle Doctrine (Uncontrolled)
df_bacon &lt;- bacon(l_homicide ~ post,
                  data = bacondecomp::castle,
                  id_var = "state",
                  time_var = "year")

# Castle Doctrine (Controlled)
ret_bacon &lt;- bacon(l_homicide ~ post + l_pop + l_income,
                   data = bacondecomp::castle,
                   id_var = "state",
                   time_var = "year")

</code></pre>


</div>