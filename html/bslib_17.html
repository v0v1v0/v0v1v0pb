<div class="container">

<table style="width: 100%;"><tr>
<td>bind_task_button</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bind <code>input_task_button</code> to <code>ExtendedTask</code>
</h2>

<h3>Description</h3>

<p>Sets up a shiny::ExtendedTask to relay its state to an existing
<code>input_task_button()</code>, so the task button stays in its "busy" state for as
long as the extended task is running.
</p>
<p>Note that <code>bind_task_button</code> does <em>not</em> automatically cause button presses to
invoke the extended task; you still need to use <code>shiny::bindEvent()</code> (or
<code>shiny::observeEvent()</code>) to cause the button press to trigger an invocation,
as in the example below.
</p>
<p><code>bind_task_button</code> cannot be used to bind one task button to multiple
<code>ExtendedTask</code> objects; if you attempt to do so, any bound <code>ExtendedTask</code>
that completes will cause the button to return to "ready" state.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bind_task_button(target, task_button_id, ...)

## Default S3 method:
bind_task_button(target, task_button_id, ...)

## S3 method for class 'ExtendedTask'
bind_task_button(target, task_button_id, ..., session = get_current_session())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>The target object (i.e. <code>ExtendedTask</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>task_button_id</code></td>
<td>
<p>A string matching the <code>id</code> argument passed to the
corresponding <code>input_task_button()</code> call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to other methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>session</code></td>
<td>
<p>A Shiny session object (the default should almost always be
used).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The <code>target</code> object that was passed in.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

library(shiny)
library(bslib)
library(future)
plan(multisession)

ui &lt;- page_sidebar(
  sidebar = sidebar(
    input_task_button("recalc", "Recalculate")
  ),
  textOutput("outval")
)

server &lt;- function(input, output) {
  rand_task &lt;- ExtendedTask$new(function() {
    future({
      # Slow operation goes here
      Sys.sleep(2)
      runif(1)
    }, seed = TRUE)
  })

  # Make button state reflect task.
  # If using R &gt;=4.1, you can do this instead:
  # rand_task &lt;- ExtendedTask$new(...) |&gt; bind_task_button("recalc")
  bind_task_button(rand_task, "recalc")

  observeEvent(input$recalc, {
    rand_task$invoke()
  })

  output$outval &lt;- renderText({
    rand_task$result()
  })
}

shinyApp(ui, server)

</code></pre>


</div>