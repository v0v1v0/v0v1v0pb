<div class="container">

<table style="width: 100%;"><tr>
<td>diagnose</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Diagnose whether units assigned to different treatment
conditions may be subject to interference or pairwise imbalance</h2>

<h3>Description</h3>

<p>List all pairs of units assigned to different treatment
conditions whose difference on a specified variable falls within a
specified range.
</p>


<h3>Usage</h3>

<pre><code class="language-R">diagnose(object, data, id.vars, suspect.var, suspect.range = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a dataframe or list of dataframes of assigned units,
such as output from <code>assignment</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a dataframe with auxiliary information on assigned units,
including the specified variable <code>suspect.var</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id.vars</code></td>
<td>
<p>a required string or vector of two strings specifying which
column(s) of <code>data</code> contain identifying information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>suspect.var</code></td>
<td>
<p>a string specifying which column of <code>data</code>
contains the variable suspected of interference or imbalance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>suspect.range</code></td>
<td>
<p>a vector defining the range of
<code>suspect.var</code> within which units in different treatment
conditions must fall to be considered suspect.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>object</code> requires rows to correspond to blocks and columns to
correspond to treatment conditions, such as output from <code>assignment</code>.
</p>
<p><code>data</code> should include identifying variables and variable suspected
of interference or imbalance.  Typically, <code>data</code> may be the same
dataframe input into <code>block</code>.
</p>
<p>An example of specified identifying variables is <code>id.vars = c("id",
  "id2")</code>.  Unlike <code>block</code>, <code>diagnose</code> requires that the length of
<code>id.vars</code> correspond to the level of the original blocking.  See
<code>block</code> documentation for details.
</p>
<p>An example of specified suspect range is <code>suspect.var = "b2"</code>,
<code>suspect.range = c(0,50)</code> identifies all units assigned to
different treatment conditions no more than 50 units apart on variable
<code>"b2"</code>. 
</p>


<h3>Value</h3>

<p>A list of dataframes, each containing a group's pairs of units assigned
to different treatments falling within <code>suspect.range</code> on the
variable <code>suspect.var</code>.  The last column of each dataframe displays
the observed difference between the two units. 
</p>


<h3>Author(s)</h3>

<p>Ryan T. Moore</p>


<h3>See Also</h3>

<p><code>assignment</code>, <code>block</code></p>


<h3>Examples</h3>

<pre><code class="language-R">data(x100)

## First, block
out &lt;- block(x100, groups = "g", n.tr = 2, id.vars = c("id"), block.vars
             = c("b1", "b2"), algorithm="optGreedy", distance =
             "mahalanobis", level.two = FALSE, valid.var = "b1",
             valid.range = c(0,500), verbose = TRUE)
## Second, assign
assg &lt;- assignment(out, seed = 123)
## Third, diagnose
diag &lt;- diagnose(object = assg, data = x100, id.vars = "id",
                suspect.var = "b2", suspect.range = c(0,50))
</code></pre>


</div>