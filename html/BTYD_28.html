<div class="container">

<table style="width: 100%;"><tr>
<td>bgnbd.ConditionalExpectedTransactions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>BG/NBD Conditional Expected Transactions</h2>

<h3>Description</h3>

<p>E[X(T.cal, T.cal + T.star) | x, t.x, r, alpha, a, b]
</p>


<h3>Usage</h3>

<pre><code class="language-R">bgnbd.ConditionalExpectedTransactions(
  params,
  T.star,
  x,
  t.x,
  T.cal,
  hardie = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>BG/NBD parameters - a vector with r, alpha, a, and b, in that
order. r and alpha are unobserved parameters for the NBD transaction
process. a and b are unobserved parameters for the Beta geometric dropout
process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T.star</code></td>
<td>
<p>length of time for which we are calculating the expected number
of transactions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>number of repeat transactions in the calibration period T.cal, or a
vector of transaction frequencies.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t.x</code></td>
<td>
<p>time of most recent repeat transaction, or a vector of recencies.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T.cal</code></td>
<td>
<p>length of calibration period, or a vector of calibration period
lengths.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hardie</code></td>
<td>
<p>if TRUE, use <code>h2f1</code> instead of
<code>hypergeo</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>T.star</code>, <code>x</code>, <code>t.x</code> and <code>T.cal</code> may be vectors. The
standard rules for vector operations apply - if they are not of the same
length, shorter vectors will be recycled (start over at the first element)
until they are as long as the longest vector. It is advisable to keep vectors
to the same length and to use single values for parameters that are to be the
same for all calculations. If one of these parameters has a length greater
than one, the output will be a vector of probabilities.
</p>


<h3>Value</h3>

<p>Number of transactions a customer is expected to make in a time
period of length t, conditional on their past behavior. If any of the input
parameters has a length greater than 1, this will be a vector of expected
number of transactions.
</p>


<h3>References</h3>

<p>Fader, Peter S.; Hardie, Bruce G.S.and Lee, Ka Lok. “Computing
P(alive) Using the BG/NBD Model.” December. 2008. Web.
<a href="http://www.brucehardie.com/notes/021/palive_for_BGNBD.pdf">http://www.brucehardie.com/notes/021/palive_for_BGNBD.pdf</a>
</p>


<h3>See Also</h3>

<p><code>bgnbd.Expectation</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">params &lt;- c(0.243, 4.414, 0.793, 2.426)
# Number of transactions a customer is expected to make in 2 time
# intervals, given that they made 10 repeat transactions in a time period
# of 39 intervals, with the 10th repeat transaction occurring in the 35th
# interval.
bgnbd.ConditionalExpectedTransactions(params, T.star=2, x=10, t.x=35, T.cal=39)

# We can also compare expected transactions across different
# calibration period behaviors:
bgnbd.ConditionalExpectedTransactions(params, T.star=2, x=5:20, t.x=25, T.cal=39)
</code></pre>


</div>