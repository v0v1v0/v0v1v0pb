<div class="container">

<table style="width: 100%;"><tr>
<td>e0.median.set</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Editing the Projection Medians
</h2>

<h3>Description</h3>

<p>These functions are to be used by expert analysts. They allow to change the projection medians either to specific values, including the WPP values, or shift the medians by a given constant or a factor.
</p>


<h3>Usage</h3>

<pre><code class="language-R">e0.median.set(sim.dir, country, values, years = NULL, joint.male = FALSE)

e0.median.shift(sim.dir, country, reset = FALSE, shift = 0, 
    from = NULL, to = NULL, joint.male = FALSE)
    
e0.median.adjust.jmale(sim.dir, countries, factors = c(1.2, 1.1))

e0.median.reset(sim.dir, countries = NULL, joint.male = FALSE)

e0.shift.prediction.to.wpp(sim.dir, joint.male = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sim.dir</code></td>
<td>
<p>Directory containing the prediction object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>country</code></td>
<td>
<p>Name or numerical code of a country.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>countries</code></td>
<td>
<p>Vector of country names or codes. In the <code>e0.median.reset</code> function, if this argument is <code>NULL</code> (default), the reset is done for all countries.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values</code></td>
<td>
<p>Array of the new median values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>years</code></td>
<td>
<p>Numeric vector giving years which <code>values</code> correspond to. Ideally it should be of the same length as <code>values</code>. If it is <code>NULL</code>,
<code>values</code> are set starting from the first prediction period. If <code>values</code> correspond to consecutive years, only the first year might be given here. A year <code class="reqn">t</code> represents a prediction period <code class="reqn">[t_i, t_{i+1}]</code> if <code class="reqn">t_i &lt; t \leq t_{i+1}</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>joint.male</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the function is applied to a male prediction that was generated using the joint female-male model implemented in the function <code>e0.jmale.predict</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reset</code></td>
<td>
<p>Logical. If <code>TRUE</code> medians in a range of <code>from</code> and <code>to</code> are reset to their original values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shift</code></td>
<td>
<p>Constant by which the medians should be offset. It is not used if <code>reset</code> is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>Year from which the offset/reset should start. By default, it starts at the first prediction period.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to</code></td>
<td>
<p>Year until which the offset/reset should be done. By default, it is set to the last prediction period.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>factors</code></td>
<td>
<p>It should be a vector where each element corresponds to one time period. The adjustment of male medians is done as <code>e0m(t) = e0f(t) - gap(t)*factor(t)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to the underlying adjustment function. It can be <code>verbose</code> to show/hide the progress of the adjustment and <code>wpp.year</code> to adjust it to if it differs from the wpp year of the simulation.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>e0.median.set</code> can be used to set the medians of the given country to specific values. Function <code>e0.median.shift</code> can be used to offset the medians by a specific constant, or to reset the medians to their original BHM values. Function <code>e0.median.adjust.jmale</code> adjusts male medians using factors that can expand or shrink the female-male gap. 
</p>
<p>Function<code>e0.shift.prediction.to.wpp</code> shifts the projected medians so that they correspond to the values found in the <code>e0Fproj</code> (<code>joint.male = FALSE</code>) or <code>e0Mproj</code> (<code>joint.male = TRUE</code>) datasets of the <span class="pkg">wpp</span> package that either corresponds to the package used for the simulation itself or is given by the <code>wpp.year</code> argument. If using <span class="pkg">wpp2022</span>, the dataset name is automatically adjusted depending if it is an annual or a 5-year simulation.
</p>
<p>Function <code>e0.median.reset</code> resets medians of the given countries to the original values. By default it deletes adjustments for all countries.
</p>
<p>In all cases, if a median is modified, the corresponding offset is stored in the prediction object (element <code>median.shift</code>). All functions write the updated prediction object back to disk. All functions in the package that use trajectories and trajectory statistics use the <code>median.shift</code> values to offset the results correspondingly, i.e. trajectories are shifted the same way as the medians.
</p>


<h3>Value</h3>

<p>All functions return an updated object of class <code>bayesLife.prediction</code>.
</p>


<h3>Author(s)</h3>

<p>Hana Sevcikova</p>


</div>