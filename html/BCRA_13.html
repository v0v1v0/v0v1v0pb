<div class="container">

<table style="width: 100%;"><tr>
<td>recode.check</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Recode and check the relative risk covariate values
</h2>

<h3>Description</h3>

<p>A function to recode the relative risk covariates and check errors.
</p>


<h3>Usage</h3>

<pre><code class="language-R">recode.check(data, Raw_Ind=1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>A data set containing all the required input data needed to perform risk projections, 
such as initial age, projection age, BrCa relative risk covariates and race. See <code>exampledata</code> for details.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Raw_Ind</code></td>
<td>

<p>The raw file indicator with default value 1.
<code>Raw_Ind</code>=1 means RR covariates are in raw/original format.
<code>Raw_Ind</code>=0 means RR covariates have already been re-coded to 0, 1, 2 or 3.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is to recode the following relative risk covariates. Recoded RR covariates
are named as <code>NB_Cat</code>, <code>AM_Cat</code>, <code>AF_Cat</code> and <code>NR_Cat</code> for <code>N_Biop</code>, 
<code>AgeMen</code>, <code>Age1st</code> and <code>N_Rels</code>, respectively. 
</p>

<table>
<tr>
<td style="text-align: left;">
    N_Biop: </td>
<td style="text-align: left;"> The number of biopsies. </td>
</tr>
<tr>
<td style="text-align: left;">
    AgeMen: </td>
<td style="text-align: left;"> Age at menarchy. </td>
</tr>
<tr>
<td style="text-align: left;">
    Age1st: </td>
<td style="text-align: left;"> Age at first live birth. </td>
</tr>
<tr>
<td style="text-align: left;">
    N_Rels: </td>
<td style="text-align: left;"> The number of first degree relatives with BrCa. </td>
</tr>
<tr>
<td style="text-align: left;">
    </td>
</tr>
</table>
<p>See the following table for recoding details.
</p>

<table>
<tr>
<td style="text-align: left;">
    Covariate </td>
<td style="text-align: left;"> Raw Value </td>
<td style="text-align: right;"> Recoded to </td>
</tr>
<tr>
<td style="text-align: left;">
    N_Biop   </td>
<td style="text-align: left;"> 0 or 99 (unk or not applicable) </td>
<td style="text-align: right;"> 0 </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;"> 1                               </td>
<td style="text-align: right;"> 1 </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;"> 2,3,4 ... and not 99            </td>
<td style="text-align: right;"> 2 </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;">                                 </td>
<td style="text-align: right;">   </td>
</tr>
<tr>
<td style="text-align: left;">
    AgeMen   </td>
<td style="text-align: left;"> 14,15,16 ... or 99 (unk) </td>
<td style="text-align: right;"> 0 </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;"> 12,13                    </td>
<td style="text-align: right;"> 1 </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;"> 11 and younger           </td>
<td style="text-align: right;"> 2 </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;">                          </td>
<td style="text-align: right;">   </td>
</tr>
<tr>
<td style="text-align: left;">
    Age1st   </td>
<td style="text-align: left;"> 19 and younger or 99 (unk) </td>
<td style="text-align: right;"> 0 </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;"> 20,21,22,23,24             </td>
<td style="text-align: right;"> 1 </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;"> 25,26,27,28,29 or 98 (nulliparous) </td>
<td style="text-align: right;"> 2 </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;"> 30,31,32 ... and not 98 and not 99  </td>
<td style="text-align: right;"> 3 </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;">                                    </td>
<td style="text-align: right;">   </td>
</tr>
<tr>
<td style="text-align: left;">
    N_Rels   </td>
<td style="text-align: left;"> 0 or 99 (unk) </td>
<td style="text-align: right;"> 0 </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;"> 1             </td>
<td style="text-align: right;"> 1 </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;"> 2,3,4 ... and not 99 </td>
<td style="text-align: right;"> 2 </td>
</tr>
<tr>
<td style="text-align: left;">
    </td>
</tr>
</table>
<p>This function is also used to check consistency and errors of input data.
Let <code>set_T1_missing</code> and <code>set_T2_missing</code> be the checking variables for <code>T1</code>
and <code>T2</code>. 
The constraint on <code>T1</code> and <code>T2</code> is 20&lt;=T1&lt;T2&lt;=90. If it is violated, 
<code>set_T1_missing</code> and <code>set_T2_missing</code> and the absolute risk will be set to
the missing value <code>NA</code>.
</p>
<p>Let <code>RacCat</code> be the checking variable for <code>Race</code>. If the <code>Race</code> value is not
included in the 11 races defined, the absolute risk will be set to the missing value <code>NA</code>
and <code>RacCat</code> will be set to "U" (undefined). The corresponding character of Race 
<code>CharRace</code> will be set to "??". 
</p>
<p>Let <code>set_HyperP_missing</code> and <code>set_R_Hyp_missing</code> be the checking variables for <br><code>HypPlas</code> and <code>R_Hyp</code>. Consistency patterns for the number of Biopsies and Hyperplasia are: 
</p>

<table>
<tr>
<td style="text-align: left;">
    Requirment (A)   </td>
<td style="text-align: left;"> <code>N_Biops</code>=0 or 99, then <code>HypPlas</code> MUST = 99 (not applicable). </td>
</tr>
<tr>
<td style="text-align: left;">
    Requirment (B)   </td>
<td style="text-align: left;"> <code>N_Biops</code>&gt;0 and &lt;99, then <code>HypPlas</code> = 0, 1 or 99. </td>
</tr>
<tr>
<td style="text-align: left;">
    </td>
</tr>
</table>
<p>If ANY of the above 2 REQUIREMENTS is violated, <code>NB_Cat</code>, <code>set_HyperP_missing</code> and 
<code>set_R_Hyp_missing</code> will be set to the corresponding character "A" or "B" and the absolute
risk will be set to the missing value <code>NA</code>. 
The consequences to the relative risk (RR) for the above two requirements are:
</p>
<p>(A) <code>N_Biops</code>=0 or 99, <code>HypPlas</code>=99 (not applicable) inflates RR by 1.00.
</p>
<p>(B) <code>N_Biops</code>&gt;0 and &lt;99, <code>HypPlas</code>=0 (no) inflates RR by 0.93; <br><code>N_Biops</code>&gt;0 and &lt;99, <code>HypPlas</code>=1 (yes) inflates RR by 1.82; <br><code>N_Biops</code>&gt;0 and &lt;99, <code>HypPlas</code>=99 (unk) inflates RR by 1.00. 
</p>
<p>For remaining relative risk covariates, <code>AgeMen</code>, <code>Age1st</code> and <code>N_Rels</code>:
</p>

<table>
<tr>
<td style="text-align: left;">
    AgeMen   </td>
<td style="text-align: left;"> Age at menarchy must be postive integer less than or equal to initial age T1.</td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;"> NOTE: (1) For African-American women AgeMen&lt;=11 are grouped with AgeMen=12 </td>
</tr>
<tr>
<td style="text-align: left;"> 
             </td>
<td style="text-align: left;"> or 13. (2) For US Born Hispanic women  AgeMen is not included in the RR model </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;"> and all values for this variable are recoded to 0. </td>
</tr>
<tr>
<td style="text-align: left;">            
    Age1st   </td>
<td style="text-align: left;"> Age at 1st live birth must be postive integer greater than equal to AgeMen </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;"> and less than or equal to initial age T1. </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;"> NOTE: (1) For African-American women, Age1st is not included in the RR model </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;"> and all values for this variable are recoded to 0. (2) For US Born and Foreign </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;"> Born Hispanic women, the recoding for this variable follows: </td>
</tr>
<tr>
<td style="text-align: left;">
    </td>
</tr>
</table>
<table>
<tr>
<td style="text-align: left;">
    Age1st   </td>
<td style="text-align: left;"> 19 and younger or 99 (unk) </td>
<td style="text-align: right;"> 0 </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;"> 20 - 29                    </td>
<td style="text-align: right;"> 1 </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;"> 30+ or 98 (nulliparous) and not 99       </td>
<td style="text-align: right;"> 2 </td>
</tr>
<tr>
<td style="text-align: left;">
    </td>
</tr>
</table>
<table>
<tr>
<td style="text-align: left;">
    N_Rels   </td>
<td style="text-align: left;"> The number of 1st degree relatives with BrCa must be 0,1,2....  </td>
</tr>
<tr>
<td style="text-align: left;">
             </td>
<td style="text-align: left;"> NOTE: For Asian-Americans Race=6-11 and Hispanic-Americans (US and foreign born), </td>
</tr>
<tr>
<td style="text-align: left;"> 
             </td>
<td style="text-align: left;"> the number of 1st degree relative coded value of 2 gets grouped with 1. </td>
</tr>
<tr>
<td style="text-align: left;">
    </td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame containing the error indictors, recoded covariates as well as other checking 
variables defined for checking the consistency of the input data. 
</p>


<h3>See Also</h3>

<p><code>error.table.all</code>, <code>error.table</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(exampledata)
recode.check(exampledata)
</code></pre>


</div>