<div class="container">

<table style="width: 100%;"><tr>
<td>shotchart</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plots different kinds of charts based on shot coordinates</h2>

<h3>Description</h3>

<p>Plots different kinds of charts based on shot coordinates
</p>


<h3>Usage</h3>

<pre><code class="language-R">shotchart(
  data,
  x,
  y,
  z = NULL,
  z.fun = median,
  result = NULL,
  type = NULL,
  scatter = FALSE,
  num.sect = 7,
  n = 1000,
  col.limits = c(NA, NA),
  courtline.col = "black",
  bg.col = "white",
  sectline.col = "white",
  text.col = "white",
  legend = FALSE,
  drop.levels = TRUE,
  pt.col = "black",
  pt.alpha = 0.5,
  nbins = 25,
  palette = "mixed"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame whose rows are field shots and columns are half-court shot coordinates x and y, and optionally additional variables to be specified in <code>z</code> and/or <code>result</code> (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>character, indicating the variable name of the x coordinate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>character, indicating the variable name of the y coordinate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>character, indicating the name of the variable used to color the points (if <code>type=NULL</code>) or the sectors (if <code>type="sectors"</code>, in this case <code>z</code> must be a numeric variable).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z.fun</code></td>
<td>
<p>function (active when <code>type="sectors"</code>), used to summarize the values of <code>z</code> variable within each sector (recommended: <code>mean</code>, <code>median</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>result</code></td>
<td>
<p>character (active when <code>type="sectors"</code> and <code>scatter=FALSE</code>), indicating the name of the factor with the shot result (allowed categories <code>made</code> and <code>missed</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>character, indicating the plot type; available option are <code>NULL</code>, <code>"sectors"</code>, <code>"density-polygons"</code>, <code>"density-raster"</code>, <code>"density-hexbin"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scatter</code></td>
<td>
<p>logical, if TRUE a scatter plot of the shots is added to the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.sect</code></td>
<td>
<p>integer (active when <code>type="sectors"</code>), number of sectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>integer (active when <code>type="sectors"</code>), number of points used to draw arcs (must be &gt; 500).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.limits</code></td>
<td>
<p>numeric vector, (active  when <code>z</code> is a numeric variable), limits <code>c(min, max)</code> for the gradient color scale of <code>z</code> variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>courtline.col</code></td>
<td>
<p>color of court lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg.col</code></td>
<td>
<p>background color.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sectline.col</code></td>
<td>
<p>color of sector lines (active when <code>type="sectors"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.col</code></td>
<td>
<p>color of text annotation within sectors (active when <code>type="sectors"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>logical, if TRUE a legend for <code>z</code> is plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop.levels</code></td>
<td>
<p>logical, if TRUE unused levels of the <code>z</code> variable are dropped.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pt.col</code></td>
<td>
<p>color of points in the scatter plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pt.alpha</code></td>
<td>
<p>numeric, transparency of points in the scatter plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nbins</code></td>
<td>
<p>integer (active when <code>type="density-hexbin"</code>), number of bins.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>palette</code></td>
<td>
<p>color palette; available options <code>"main"</code>, <code>"cool"</code>, <code>"hot"</code>, <code>"mixed"</code>, <code>"grey"</code>, <code>"bwr"</code> (blue, white, red).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>data</code> dataframe could also be a play-by-play dataset provided that rows corresponding to events different from field shots have missing <code>x</code> and <code>y</code> coordinates.
</p>
<p><code>x</code> and <code>y</code> coordinates must be expressed in feets; the origin of the axes is positioned at the center of the field.
</p>


<h3>Value</h3>

<p>A ggplot2 object.
</p>


<h3>Author(s)</h3>

<p>Marco Sandri, Paola Zuccolotto, Marica Manisera (<a href="mailto:basketball.analyzer.help@gmail.com">basketball.analyzer.help@gmail.com</a>)
</p>


<h3>References</h3>

<p>P. Zuccolotto and M. Manisera (2020) Basketball Data Science: With Applications in R. CRC Press.
</p>


<h3>See Also</h3>

<p><code>drawNBAcourt</code>, <code>geom_density_2d</code>, <code>geom_hex</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">PbP &lt;- PbPmanipulation(PbP.BDB)
subdata &lt;- subset(PbP, player=="Kevin Durant")
subdata$xx &lt;- subdata$original_x/10
subdata$yy &lt;- subdata$original_y/10-41.75
shotchart(data=subdata, x="xx", y="yy", scatter=TRUE)
shotchart(data=subdata, x="xx", y="yy", scatter=TRUE, z="result")
shotchart(data=subdata, x="xx", y="yy", scatter=TRUE, z="result",
          bg.col="black", courtline.col="white", palette="hot")
shotchart(data=subdata, x="xx", y="yy", result="result",
          type="sectors", sectline.col="gray", text.col="red")
shotchart(data=subdata, x="xx", y="yy", z="playlength", result="result",
          type="sectors",  num.sect=5)
shotchart(data=subdata, x="xx", y="yy", type="density-polygons", palette="bwr")
shotchart(data=subdata, x="xx", y="yy", type="density-raster",
          scatter=TRUE, pt.col="tomato", pt.alpha=0.1)
shotchart(data=subdata, x="xx", y="yy", type="density-hexbin", nbins=30)
</code></pre>


</div>