<div class="container">

<table style="width: 100%;"><tr>
<td>bgnbd.PlotTrackingCum</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>BG/NBD Tracking Cumulative Transactions Plot</h2>

<h3>Description</h3>

<p>Plots the actual and expected cumulative total repeat transactions by all
customers for the calibration and holdout periods, and returns this
comparison in a matrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bgnbd.PlotTrackingCum(
  params,
  T.cal,
  T.tot,
  actual.cu.tracking.data,
  n.periods.final = NA,
  hardie = TRUE,
  xlab = "Week",
  ylab = "Cumulative Transactions",
  xticklab = NULL,
  title = "Tracking Cumulative Transactions"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>BG/NBD parameters - a vector with r, alpha, a, and b, in that
order. r and alpha are unobserved parameters for the NBD transaction
process. a and b are unobserved parameters for the Beta geometric dropout
process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T.cal</code></td>
<td>
<p>a vector to represent customers' calibration period lengths
(in other words, the "T.cal" column from a customer-by-sufficient-statistic
matrix).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T.tot</code></td>
<td>
<p>end of holdout period. Must be a single value, not a vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>actual.cu.tracking.data</code></td>
<td>
<p>vector containing the cumulative number of
repeat transactions made by customers for each period in the total time
period (both calibration and holdout periods). See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.periods.final</code></td>
<td>
<p>number of time periods in the calibration and
holdout periods. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hardie</code></td>
<td>
<p>if TRUE, use h2f1 instead of hypergeo.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>descriptive label for the x axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>descriptive label for the y axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xticklab</code></td>
<td>
<p>vector containing a label for each tick mark on the x axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>title placed on the top-center of the plot.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>actual.cu.tracking.data does not have to be in the same unit of time as the
T.cal data. T.tot will automatically be divided into periods to match the
length of actual.cu.tracking.data. See
bgnbd.ExpectedCumulativeTransactions.
</p>
<p>The holdout period should immediately follow the calibration period. This
function assume that all customers' calibration periods end on the same date,
rather than starting on the same date (thus customers' birth periods are
determined using max(T.cal) - T.cal rather than assuming that it is 0).
</p>


<h3>Value</h3>

<p>Matrix containing actual and expected cumulative repeat transactions.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(cdnowSummary)

cal.cbs &lt;- cdnowSummary$cbs
# cal.cbs already has column names required by method

# Cumulative repeat transactions made by all customers across calibration
# and holdout periods
cu.tracking &lt;- cdnowSummary$cu.tracking

# parameters estimated using bgnbd.EstimateParameters
est.params &lt;- c(0.243, 4.414, 0.793, 2.426)

# All parameters are in weeks; the calibration period lasted 39
# weeks and the holdout period another 39.
bgnbd.PlotTrackingCum(est.params, 
                      T.cal = cal.cbs[,"T.cal"], 
                      T.tot = 78, 
                      actual.cu.tracking.data = cu.tracking, 
                      hardie = TRUE)
</code></pre>


</div>