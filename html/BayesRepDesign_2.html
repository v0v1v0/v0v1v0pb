<div class="container">

<table style="width: 100%;"><tr>
<td>designPrior</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Design prior for effect size</h2>

<h3>Description</h3>

<p>Creates a design prior for the effect size which can then be
used for power and sample size calculations of a replication study. The
design prior is obtained from updating an initial prior for the effect
size by the data from the original study. A normal-normal hierarchical
model is assumed, see Pawel et al. (2022) for details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">designPrior(
  to,
  so,
  mu = 0,
  sp = Inf,
  tau = 0,
  g = sp^2/(tau^2 + so^2),
  h = tau^2/so^2,
  type = c(NA, "conditional", "predictive", "EB")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>to</code></td>
<td>
<p>Effect estimate from original study</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>so</code></td>
<td>
<p>Standard error of effect estimate from original study</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu</code></td>
<td>
<p>The initial prior mean. Defaults to <code>0</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sp</code></td>
<td>
<p>The initial prior standard deviation. Defaults to <code>Inf</code> (an
improper uniform prior)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau</code></td>
<td>
<p>The initial prior heterogeneity standard deviation. Defaults to
<code>0</code> (no heterogeneity)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g</code></td>
<td>
<p>The relative initial prior variance <code>g</code> =
<code>sp^2</code>/(<code>tau^2</code> + <code>so^2</code>) (alternative parametrization of
prior standard deviation <code>sp</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p>The relative initial prior heterogeneity variance <code>h</code> =
<code>tau^2</code>/<code>so^2</code> (alternative parametrization of prior
heterogeneity standard deviation <code>tau</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Shortcut for special parameter combinations. The available
options are <code>NA</code>, <code>"conditional"</code>, <code>"predictive"</code>, and
<code>"EB"</code> (see details). Defaults to <code>NA</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>"conditional"</code> design prior corresponds to a point mass at
the original effect estimate, i.e., assuming that the true effect size is
equal to the original effect estimate. The <code>"predictive"</code> design
prior is obtained from updating a uniform initial prior by the likelihood
of the original data. The <code>"EB"</code> design prior is obtained by
empirical Bayes estimation of the variance of the normal prior and
induces adaptive shrinkage that depends on the p-value of the original
effect estimate.
</p>


<h3>Value</h3>

<p>Returns an object of class <code>"designPrior"</code> which is a list containing:
</p>

<table>
<tr>
<td style="text-align: left;">
   <code>dpMean</code> </td>
<td style="text-align: left;"> The computed mean of the design prior </td>
</tr>
<tr>
<td style="text-align: left;">
   </td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>dpVar</code> </td>
<td style="text-align: left;"> The computed variance of the design prior </td>
</tr>
<tr>
<td style="text-align: left;">
   </td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>to</code> </td>
<td style="text-align: left;"> The specified original effect estimate </td>
</tr>
<tr>
<td style="text-align: left;">
   </td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>so</code> </td>
<td style="text-align: left;"> The specified original standard error </td>
</tr>
<tr>
<td style="text-align: left;">
   </td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>mu</code> </td>
<td style="text-align: left;"> The specified mean of the initial prior </td>
</tr>
<tr>
<td style="text-align: left;">
   </td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>sp</code> </td>
<td style="text-align: left;"> The specified standard deviation of the initial prior </td>
</tr>
<tr>
<td style="text-align: left;">
   </td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>tau</code> </td>
<td style="text-align: left;"> The specified heterogeneity variance </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Samuel Pawel
</p>


<h3>References</h3>

<p>Pawel, S., Consonni, G., and Held, L. (2022). Bayesian approaches to
designing replication studies. arXiv preprint.
<a href="https://doi.org/10.48550/arXiv.2211.02552">doi:10.48550/arXiv.2211.02552</a>
</p>


<h3>See Also</h3>

<p><code>pors</code>, <code>ssd</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">designPrior(to = 1.1, so = 1)
</code></pre>


</div>