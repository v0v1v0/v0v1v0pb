<div class="container">

<table style="width: 100%;"><tr>
<td>pnbd.PlotFrequencyInCalibration</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Pareto/NBD Plot Frequency in Calibration Period</h2>

<h3>Description</h3>

<p>Plots a histogram and returns a matrix comparing the actual and expected
number of customers who made a certain number of repeat transactions in the
calibration period, binned according to calibration period frequencies.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pnbd.PlotFrequencyInCalibration(
  params,
  cal.cbs,
  censor,
  hardie = TRUE,
  plotZero = TRUE,
  xlab = "Calibration period transactions",
  ylab = "Customers",
  title = "Frequency of Repeat Transactions"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>Pareto/NBD parameters - a vector with r, alpha, s, and beta, in
that order. r and alpha are unobserved parameters for the NBD transaction
process. s and beta are unobserved parameters for the Pareto (exponential
gamma) dropout process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cal.cbs</code></td>
<td>
<p>calibration period CBS (customer by sufficient statistic). It
must contain columns for frequency ("x") and total time observed ("T.cal").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>censor</code></td>
<td>
<p>integer used to censor the data. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hardie</code></td>
<td>
<p>if TRUE, have <code>pnbd.pmf</code> use <code>h2f1</code>
instead of <code>hypergeo</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotZero</code></td>
<td>
<p>if FALSE, the histogram will exclude the zero bin.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>descriptive label for the x axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>descriptive label for the y axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>title placed on the top-center of the plot.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function requires a censor number, which cannot be higher than the
highest frequency in the calibration period CBS. The output matrix will have
(censor + 1) bins, starting at frequencies of 0 transactions and ending at a
bin representing calibration period frequencies at or greater than the censor
number. The plot may or may not include a bin for zero frequencies, depending
on the plotZero parameter.
</p>


<h3>Value</h3>

<p>Calibration period repeat transaction frequency comparison matrix
(actual vs. expected).
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(cdnowSummary)
cal.cbs &lt;- cdnowSummary$cbs
# cal.cbs already has column names required by method

# parameters estimated using pnbd.EstimateParameters
est.params &lt;- cdnowSummary$est.params
# the maximum censor number that can be used
max(cal.cbs[,"x"])

pnbd.PlotFrequencyInCalibration(params = est.params, 
                                cal.cbs = cal.cbs, 
                                censor = 7, 
                                hardie = TRUE)
</code></pre>


</div>