<div class="container">

<table style="width: 100%;"><tr>
<td>stratified_boxcox</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Box-Cox transformation for stratified data</h2>

<h3>Description</h3>

<p>Create Box-Cox transformation using different optimal lambda values for each stratum
</p>


<h3>Usage</h3>

<pre><code class="language-R">stratified_boxcox(
  data,
  value_col,
  strat_cols,
  plot = FALSE,
  return = "values",
  buffer = 0,
  inverse = FALSE,
  lambdas = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data.frame containing the data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value_col</code></td>
<td>
<p>character, name of column with values to be transformed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strat_cols</code></td>
<td>
<p>character (vector), name(s) of columns to stratify by</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>logical, should the lambda distribution be plotted?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return</code></td>
<td>
<p>character, either "values" or "lambdas"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>buffer</code></td>
<td>
<p>numeric, buffer value to be added before transformation, used to ensure all positive values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inverse</code></td>
<td>
<p>logical, if TRUE, the function reverses the transformation given a list of lambdas</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambdas</code></td>
<td>
<p>if inverse == TRUE: Nested list of lambdas used in original transformation. Can be obtained by using return = "lambdas" on untransformed data</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>if "values", vector of transformed values, if "lambdas" nested named list of used lambdas. The buffer will be equal for all strata
</p>


<h3>Author(s)</h3>

<p>J. Peter Marquardt
</p>


<h3>Examples</h3>

<pre><code class="language-R">data &lt;- data.frame("value" = c(1:50, rnorm(50, 100, 10)),
                   "strat_var" = rep(c(1,2), each = 50),
                   "strat_var2" = rep(c(1, 2), 50))
lambdas &lt;- stratified_boxcox(data = data, value_col = "value",
                             strat_cols = c("strat_var", "strat_var2"),
                             return = "lambdas")
data$value_boxed &lt;- stratified_boxcox(data = data, value_col = "value",
                                      strat_cols = c("strat_var", "strat_var2"),
                                      return = "values")
data$value_unboxed &lt;- stratified_boxcox(data = data, value_col = "value_boxed",
                                        strat_cols = c("strat_var", "strat_var2"),
                                        inverse = TRUE, lambdas = lambdas)

</code></pre>


</div>