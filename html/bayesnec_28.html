<div class="container">

<table style="width: 100%;"><tr>
<td>compare_posterior</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>compare_posterior</h2>

<h3>Description</h3>

<p>Extracts posterior predicted values from a list of class
<code>bayesnecfit</code> or <code>bayesmanecfit</code> model fits and
compares these via bootstrap re sampling.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compare_posterior(
  x,
  comparison = "n(s)ec",
  ecx_val = 10,
  type = "absolute",
  hormesis_def = "control",
  sig_val = 0.01,
  resolution,
  x_range = NA,
  make_newdata = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A named <code>list</code> of objects of class
<code>bayesnecfit</code> or <code>bayesmanecfit</code> returned by
<code>bnec</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comparison</code></td>
<td>
<p>The posterior predictions to compare, takes values of
"nec", "n(s)ec", "nsec", "ecx" or "fitted".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ecx_val</code></td>
<td>
<p>The desired percentage effect value. This must be a value
between 1 and 99 (for type = "relative" and "absolute"), defaults to 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A <code>character</code> vector, taking values of
"relative", "absolute" (the default) or "direct". See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hormesis_def</code></td>
<td>
<p>A <code>character</code> vector, taking values
of "max" or "control". See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig_val</code></td>
<td>
<p>Probability value to use as the lower quantile to test
significance of the predicted posterior values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resolution</code></td>
<td>
<p>The number of unique x values over which to find ECx –
large values will make the ECx estimate more precise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_range</code></td>
<td>
<p>A range of x values over which to consider extracting ECx.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>make_newdata</code></td>
<td>
<p>Only used if <code>comparison = "fitted"</code>. Should the
user allow the package to create <code>newdata</code> for predictions?
If so, arguments <code>resolution</code> and <code>x_range</code> will be used. Defaults
to TRUE. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments that control posterior predictions via
<code>posterior_epred</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>type</code> "relative" is calculated as the percentage decrease
from the maximum predicted value of the response (top) to the minimum
predicted value of the response. Type "absolute" (the default) is
calculated as the percentage decrease from the maximum value of the
response (top) to 0 (or bot for a 4 parameter model fit). Type "direct"
provides a direct estimate of the x value for a given y.
Note that for the current version, ECx for an "nechorme" (NEC Hormesis)
model is estimated at a percent decline from the control.
</p>
<p>For <code>hormesis_def</code>, if "max", then ECx or NSEC values – i.e.,
depending on argument <code>comparison</code> – are calculated
as a decline from the maximum estimates (i.e. the peak at NEC);
if "control", then ECx or NSEC values are calculated relative to the
control, which is assumed to be the lowest observed concentration.
</p>
<p>The argument <code>make_newdata</code> is only used if
<code>comparison = "fitted"</code>. It is relevant to those who want the package
to create a data.frame from which to make predictions. This is done via
<code>bnec_newdata</code> and uses arguments <code>resolution</code> and
<code>x_range</code>. If <code>make_newdata = FALSE</code> and no additional
<code>newdata</code> argument is provided (via <code>...</code>), then the predictions
are made for the raw data. Else, to generate predictions for a specific
user-specific data.frame, set <code>make_newdata = FALSE</code> and provide
an additional data.frame via the <code>newdata</code> argument. For guidance
on how to structure <code>newdata</code>, see for example
<code>posterior_epred</code>.
</p>


<h3>Value</h3>

<p>A named <code>list</code> containing bootstrapped differences
in posterior predictions of the <code>bayesnecfit</code> or
<code>bayesnecfit</code> model fits contained in <code>x</code>. See Details.
</p>


<h3>See Also</h3>

<p><code>bnec</code> <code>ecx</code> <code>nsec</code>
<code>nec</code> <code>bnec_newdata</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(bayesnec)
data(manec_example)
nec4param &lt;- pull_out(manec_example, model = "nec4param")
ecx4param &lt;- pull_out(manec_example, model = "ecx4param")
compare_posterior(list("n(s)ec" = ecx4param, "ecx" = nec4param), ecx_val = 50)

## End(Not run)

</code></pre>


</div>