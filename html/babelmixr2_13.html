<div class="container">

<table style="width: 100%;"><tr>
<td>monolixControl</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Monolix Controller for nlmixr2</h2>

<h3>Description</h3>

<p>Monolix Controller for nlmixr2
</p>


<h3>Usage</h3>

<pre><code class="language-R">monolixControl(
  nbSSDoses = 7,
  useLinearization = FALSE,
  stiff = FALSE,
  addProp = c("combined2", "combined1"),
  exploratoryAutoStop = FALSE,
  smoothingAutoStop = FALSE,
  burnInIterations = 5,
  smoothingIterations = 200,
  exploratoryIterations = 250,
  simulatedAnnealingIterations = 250,
  exploratoryInterval = 200,
  exploratoryAlpha = 0,
  omegaTau = 0.95,
  errorModelTau = 0.95,
  variability = c("none", "firstStage", "decreasing"),
  runCommand = getOption("babelmixr2.monolix", ""),
  rxControl = NULL,
  sumProd = FALSE,
  optExpression = TRUE,
  calcTables = TRUE,
  compress = TRUE,
  ci = 0.95,
  sigdigTable = NULL,
  absolutePath = FALSE,
  modelName = NULL,
  muRefCovAlg = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nbSSDoses</code></td>
<td>
<p>Number of steady state doses (default 7)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useLinearization</code></td>
<td>
<p>Use linearization for log likelihood and
fim.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stiff</code></td>
<td>
<p>boolean for using the stiff ODE solver</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addProp</code></td>
<td>
<p>specifies the type of additive plus proportional
errors, the one where standard deviations add (combined1) or the
type where the variances add (combined2).
</p>
<p>The combined1 error type can be described by the following equation:
</p>
<p style="text-align: center;"><code class="reqn">y = f + (a + b\times f^c) \times \varepsilon</code>
</p>

<p>The combined2 error model can be described by the following equation:
</p>
<p style="text-align: center;"><code class="reqn">y = f + \sqrt{a^2 + b^2\times f^{2\times c}} \times \varepsilon</code>
</p>

<p>Where:
</p>
<p>- y represents the observed value
</p>
<p>- f represents the predicted value
</p>
<p>- a  is the additive standard deviation
</p>
<p>- b is the proportional/power standard deviation
</p>
<p>- c is the power exponent (in the proportional case c=1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exploratoryAutoStop</code></td>
<td>
<p>logical to turn on or off exploratory
phase auto-stop of SAEM (default 250)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smoothingAutoStop</code></td>
<td>
<p>Boolean indicating if the smoothing should
automatically stop (default <code>FALSE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>burnInIterations</code></td>
<td>
<p>Number of burn in iterations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smoothingIterations</code></td>
<td>
<p>Number of smoothing iterations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exploratoryIterations</code></td>
<td>
<p>Number of iterations for exploratory
phase (default 250)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simulatedAnnealingIterations</code></td>
<td>
<p>Number of simulating annealing
iterations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exploratoryInterval</code></td>
<td>
<p>Minimum number of iterations in the
exploratory phase (default 200)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exploratoryAlpha</code></td>
<td>
<p>Convergence memory in the exploratory phase
(only used when <code>exploratoryAutoStop</code> is <code>TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>omegaTau</code></td>
<td>
<p>Proportional rate on variance for simulated
annealing</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>errorModelTau</code></td>
<td>
<p>Proportional rate on error model for simulated
annealing</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variability</code></td>
<td>
<p>This describes the methodology for parameters
without variability.  It could be: - Fixed throughout (none) -
Variability in the first stage (firstStage) - Decreasing until it
reaches the fixed value (decreasing)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>runCommand</code></td>
<td>
<p>is a shell command or function to run monolix; You can specify
the default by
<code>options("babelmixr2.monolix"="runMonolix")</code>. If it is empty
and 'lixoftConnectors' is available, use lixoftConnectors to run
monolix. See details for function usage.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rxControl</code></td>
<td>
<p>'rxode2' ODE solving options during fitting, created with 'rxControl()'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sumProd</code></td>
<td>
<p>Is a boolean indicating if the model should change
multiplication to high precision multiplication and sums to
high precision sums using the PreciseSums package.  By default
this is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optExpression</code></td>
<td>
<p>Optimize the rxode2 expression to speed up
calculation. By default this is turned on.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calcTables</code></td>
<td>
<p>This boolean is to determine if the foceiFit
will calculate tables. By default this is <code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compress</code></td>
<td>
<p>Should the object have compressed items</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p>Confidence level for some tables.  By default this is
0.95 or 95% confidence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigdigTable</code></td>
<td>
<p>Significant digits in the final output table.
If not specified, then it matches the significant digits in the
'sigdig' optimization algorithm.  If 'sigdig' is NULL, use 3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>absolutePath</code></td>
<td>
<p>Boolean indicating if the absolute path should
be used for the monolix runs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modelName</code></td>
<td>
<p>Model name used to generate the NONMEM output.  If
<code>NULL</code> try to infer from the model name (could be <code>x</code> if not
clear).  Otherwise use this character for outputs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>muRefCovAlg</code></td>
<td>
<p>This controls if algebraic expressions that can
be mu-referenced are treated as mu-referenced covariates by:
</p>
<p>1. Creating a internal data-variable 'nlmixrMuDerCov#' for each
algebraic mu-referenced expression
</p>
<p>2. Change the algebraic expression to 'nlmixrMuDerCov# * mu_cov_theta'
</p>
<p>3. Use the internal mu-referenced covariate for saem
</p>
<p>4. After optimization is completed, replace 'model()' with old
'model()' expression
</p>
<p>5. Remove 'nlmixrMuDerCov#' from nlmix2 output
</p>
<p>In general, these covariates should be more accurate since it
changes the system to a linear compartment model.  Therefore, by default this is 'TRUE'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Ignored parameters</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>runCommand</code> is given as a string, it will be called with the
<code>system()</code> command like:
</p>
<p><code>runCommand mlxtran</code>.
</p>
<p>For example, if <code>runCommand="'/path/to/monolix/mlxbsub2021' -p "</code> then the command line
used would look like the following:
</p>
<p><code>'/path/to/monolix/mlxbsub2021' monolix.mlxtran</code>
</p>
<p>If <code>runCommand</code> is given as a function, it will be called as
<code>FUN(mlxtran, directory, ui)</code> to run Monolix.  This allows you to run Monolix
in any way that you may need, as long as you can write it in R.  babelmixr2
will wait for the function to return before proceeding.
</p>
<p>If <code>runCommand</code> is <code>NA</code>, <code>nlmixr()</code> will stop after writing
the model files and without starting Monolix.
</p>


<h3>Value</h3>

<p>A monolix control object
</p>


<h3>Author(s)</h3>

<p>Matthew Fidler
</p>


</div>