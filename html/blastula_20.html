<div class="container">

<table style="width: 100%;"><tr>
<td>create_smtp_creds_key</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Store SMTP credentials in the system's key-value store</h2>

<h3>Description</h3>

<p>We can set SMTP access credentials in the system-wide key-value store for the
purpose of more easily sending email messages through <code>smtp_send()</code>. With
this key added, the credentials helper <code>creds_key()</code> can be used in the
<code>credentials</code> argument of <code>smtp_send()</code> (the <code>id</code> value is used to
unambiguously refer to each key).
</p>


<h3>Usage</h3>

<pre><code class="language-R">create_smtp_creds_key(
  id,
  user = NULL,
  provider = NULL,
  host = NULL,
  port = NULL,
  use_ssl = NULL,
  overwrite = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>An identifying label for the keyname. The full key name is
constructed in the following way: <code style="white-space: pre;">⁠blastula-v1-&lt;id&gt;⁠</code>. This <code>id</code> value is
what's needed later to either use the key with <code>creds_key()</code>, or, delete
the key with <code>delete_credential_key()</code>. A single, non-<code>NA</code> character,
numeric, or integer value can be supplied here; the <code>id</code> will be coerced to
a character value. If the <code>id</code> is supplied as a single character value, it
cannot be an empty string and it cannot include hyphen characters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>user</code></td>
<td>
<p>The username for the email account. Typically, this is the email
address associated with the account.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>provider</code></td>
<td>
<p>An optional email provider shortname for autocompleting SMTP
configuration details (the <code>host</code>, <code>port</code>, <code>use_ssl</code> options). Options
currently include <code>gmail</code>, <code>outlook</code>, and <code>office365</code>. If nothing is
provided then values for <code>host</code>, <code>port</code>, and <code>use_ssl</code> are expected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>host, port, use_ssl</code></td>
<td>
<p>Configuration info for the SMTP server. The <code>host</code>
and <code>port</code> parameters are the address and port for the SMTP server.
<code>use_ssl</code> is an option as to whether to allow the use of STARTTLS, if
available: it should be <code>TRUE</code> unless you have a specific reason to set it
to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>An option that controls the overwriting of existing keys
with the same <code>id</code> value. By default, this is <code>FALSE</code> (where overwriting is
prohibited).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Support for setting keys through <code>create_smtp_creds_key()</code> is provided
through the <strong>keyring</strong> package. This function cannot be used without that
package being available on the system. We can use
<code>install.packages("keyring")</code> to install <strong>keyring</strong>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Store SMTP credentials using the
# system's secure key-value store to
# make it much easier to send email
# out through Gmail with `smtp_send()`;
# provide the `id` of "gmail_creds"

# create_smtp_creds_key(
#   id = "gmail_creds",
#   provider = "gmail",
#   user = "user_name@gmail.com",
#   )

</code></pre>


</div>