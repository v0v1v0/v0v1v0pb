<div class="container">

<table style="width: 100%;"><tr>
<td>btlapply</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Synchronous Apply Functions</h2>

<h3>Description</h3>

<p>This is a set of functions acting as counterparts to the sequential popular apply functions in base R:
<code>btlapply</code> for <code>lapply</code> and <code>btmapply</code> for <code>mapply</code>.
</p>
<p>Internally, jobs are created using <code>batchMap</code> on the provided registry.
If no registry is provided, a temporary registry (see argument <code>file.dir</code> of <code>makeRegistry</code>) and <code>batchMap</code>
will be used.
After all jobs are terminated (see <code>waitForJobs</code>), the results are collected and returned as a list.
</p>
<p>Note that these functions are only suitable for short and fail-safe operations
on batch system. If some jobs fail, you have to retrieve partial results from the
registry directory yourself.
</p>


<h3>Usage</h3>

<pre><code class="language-R">btlapply(
  X,
  fun,
  ...,
  resources = list(),
  n.chunks = NULL,
  chunk.size = NULL,
  reg = makeRegistry(file.dir = NA)
)

btmapply(
  fun,
  ...,
  more.args = list(),
  simplify = FALSE,
  use.names = TRUE,
  resources = list(),
  n.chunks = NULL,
  chunk.size = NULL,
  reg = makeRegistry(file.dir = NA)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>[<code>vector</code>]<br>
Vector to apply over.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>[<code>function</code>]<br>
Function to apply.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>[<code>ANY</code>]<br>
Additional arguments passed to <code>fun</code> (<code>btlapply</code>) or vectors to map over (<code>btmapply</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resources</code></td>
<td>
<p>[<code>named list</code>]<br>
Computational  resources for the jobs to submit. The actual elements of this list
(e.g. something like “walltime” or “nodes”) depend on your template file, exceptions are outlined in the section 'Resources'.
Default settings for a system can be set in the configuration file by defining the named list <code>default.resources</code>.
Note that these settings are merged by name, e.g. merging <code>list(walltime = 300)</code> into <code>list(walltime = 400, memory = 512)</code>
will result in <code>list(walltime = 300, memory = 512)</code>.
Same holds for individual job resources passed as additional column of <code>ids</code> (c.f. section 'Resources').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.chunks</code></td>
<td>
<p>[<code>integer(1)</code>]<br>
Passed to <code>chunk</code> before <code>submitJobs</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chunk.size</code></td>
<td>
<p>[<code>integer(1)</code>]<br>
Passed to <code>chunk</code> before <code>submitJobs</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reg</code></td>
<td>
<p>[<code>Registry</code>]<br>
Registry. If not explicitly passed, uses the default registry (see <code>setDefaultRegistry</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>more.args</code></td>
<td>
<p>[<code>list</code>]<br>
Additional arguments passed to <code>fun</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simplify</code></td>
<td>
<p>[<code>logical(1)</code>]<br>
Simplify the results using <code>simplify2array</code>?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.names</code></td>
<td>
<p>[<code>logical(1)</code>]<br>
Use names of the input to name the output?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>[<code>list</code>] List with the results of the function call.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
btlapply(1:3, function(x) x^2)
btmapply(function(x, y, z) x + y + z, x = 1:3, y = 1:3, more.args = list(z = 1), simplify = TRUE)
</code></pre>


</div>