<div class="container">

<table style="width: 100%;"><tr>
<td>envelope</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
RMS or MA Envelope of an EMG
</h2>

<h3>Description</h3>

<p>Computes the RMS-envelope, the MA-envelope ot the LE-envelope of an <abbr><span class="acronym">EMG</span></abbr> signal.
</p>


<h3>Usage</h3>

<pre><code class="language-R">envelope(data, channel, method = c("MA","RMS","LE"), wsize, cutoff, n = 2, data.name, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>an ‘emg’ object.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>channel</code></td>
<td>

<p>in case of multi-channel data, <code>channel</code> is the specific channel to be considered by the procedure.  Possible values: a character vector specifying the name of the channel to be considered (case sensitive) or a numeric value specifying the channel to be considered (number of column in <code>data</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>

<p>a string, "MA" (default) for MA-envelope, "RMS" for the RMS-envelope and "LE" for the LE-envelope.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wsize</code></td>
<td>

<p>determines the length of the moving window that is used to calculate the local averages of the data in RMS and MA envelopes.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff</code></td>
<td>

<p>cutoff frequency in Hertz for the lowpass filter used in LE-envelope.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>

<p>filter order for the lowpass filter used in LE-envelope.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.name</code></td>
<td>

<p>a string specifying the name of the variable which will appears on the plots. If empty or not provided is taken from the object given as <code>data</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Optional parameters for a MA-envelope: <code>rtype</code> for a rectification. See <code>rectification</code> for details.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The MA-envelope corresponds to the moving average of the rectified <abbr><span class="acronym">EMG</span></abbr>.
</p>
<p>The RMS-envelope corresponds to the moving average of
</p>
<p style="text-align: center;"><code class="reqn">y_i=(x_i-\mu_{x})^2</code>
</p>

<p>where <code class="reqn">x_i</code> is each value of the <abbr><span class="acronym">EMG</span></abbr> signal and <code class="reqn">\mu_{x}</code> is the overall mean of the <abbr><span class="acronym">EMG</span></abbr> signal.
</p>
<p>LE-envelope or linear envelope is lowpass filtered rectified signal.
</p>


<h3>Value</h3>

<p>An ‘emg’ object containing the envelope of the <abbr><span class="acronym">EMG</span></abbr>.
</p>


<h3>Author(s)</h3>

<p>J.A. Guerrero <a href="mailto:jaguerrero@correo.uaa.mx">jaguerrero@correo.uaa.mx</a>
</p>


<h3>References</h3>

<p>Konrad P. (2005) The ABC of EMG: A Practical Introduction to Kinesiological
Electromyography. Version 1.0, Noraxon INC. USA. 
</p>


<h3>See Also</h3>

<p><code>emg</code>, <code>movingaverage</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Simulate 5 seconds of an EMG
emgx &lt;- syntheticemg(n.length.out = 5000, on.sd = 1, on.duration.mean = 350, 
    on.duration.sd = 10, off.sd = 0.05, off.duration.mean = 300, off.duration.sd = 20, 
    on.mode.pos = 0.75, shape.factor = 0.5, samplingrate = 1000, units = "mV", 
    data.name = "Synthetic EMG")

# MA-envelope
emgma &lt;- envelope(emgx, method = "MA", wsize = 60)
# Superimpose the envelope on the EMG
plot(emgx, main = "MA-envelope")
plot(emgma, add = TRUE, lwd = 4, col = "red")

# RMS-envelope
emgrms &lt;- envelope(emgx, method = "RMS", wsize = 60)
# Superimpose the envelope on the EMG
plot(emgx, main = "RMS-envelope")
plot(emgrms, add = TRUE, lwd = 4, col = "red")

# RMS-envelope
emgle &lt;- envelope(emgx, method = "LE", cutoff = 10) #10Hz
# Superimpose the envelope on the EMG
plot(emgx, main = "LE-envelope")
plot(emgle, add = TRUE, lwd = 4, col = "red")

</code></pre>


</div>