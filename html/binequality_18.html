<div class="container">

<table style="width: 100%;"><tr>
<td>run_GB_family</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
A function to fit a parametric distributions to binned data.
</h2>

<h3>Description</h3>

<p>This function fits a series of parametric distributions from the GB family to binned data. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">run_GB_family(ID,hb,bin_min,bin_max,obs_mean,ID_name,quantiles,modelsToFit,return_params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ID</code></td>
<td>

<p>a (non-empty) object containing the group ID for each row. Importantly, ID, bh, bin_min, bin_max, and obs_mean MUST be the same length and be in the SAME order.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hb</code></td>
<td>

<p>a (non-empty) object containing the number of observations in each bin.  Importantly, ID, bh, bin_min, bin_max, and obs_mean MUST be the same length and be in the SAME order.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bin_min</code></td>
<td>

<p>a (non-empty) object containing the lower bound of each bin. Currently, this package cannot handle data with open lower bounds. Importantly, ID, bh, bin_min, bin_max, and obs_mean MUST be the same length and be in the SAME order.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bin_max</code></td>
<td>

<p>a (non-empty) object the upper bound of each bin. Currently, this package can only handle the upper-most bin being open ended. Importantly, ID, bh, bin_min, bin_max, and obs_mean MUST be the same length and be in the SAME order.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs_mean</code></td>
<td>

<p>a (non-empty) object containing the mean for each group.  Importantly, ID, bh, bin_min, bin_max, and obs_mean MUST be the same length and be in the SAME order.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ID_name</code></td>
<td>

<p>a (non-empty) object containing column name for the ID column.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantiles</code></td>
<td>

<p>a (non-empty) vector of quantiles for use in calculating metrics. The default is seq(0.006,0.996, length.out = 1000).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modelsToFit</code></td>
<td>

<p>a (non-empty) vector of model names as characters, currently limited to the following distributions GB2, GG, BETA2, DAGUM, SINGMAD, LOGNO, WEI, GA, LOGLOG, PARETO2.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_params</code></td>
<td>

<p>a (non-empty) logical indicating whether to retunr the parameters. The default is TRUE.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Fits a GAMLSS and estimates a number of metrics, see value.
</p>


<h3>Value</h3>

<p>returns a list with "fit" = fitted model and metrics, "fit.filter" = filtered for undefined moments fitted model and metrics, "best_model" = best model results, "best_model.filter" = filtered for undefined moments best model results.
</p>


<h3>See Also</h3>

<p><code>gamlss</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(state_bins)

use_states &lt;- which(state_bins[,'State'] == 'Texas')
TX &lt;- state_bins[use_states,]

LNO_WEI_GA &lt;- run_GB_family(ID = TX[,'State'], hb = TX[,'hb'], 
bin_min = TX[,'bin_min'], bin_max = TX[,'bin_max'], obs_mean = 
rep(NA, length(use_states)), ID_name = "State", quantiles = 
seq(0.006,0.996, length.out = 1000), modelsToFit = 
c('LOGNO','WEI','GA'))

</code></pre>


</div>