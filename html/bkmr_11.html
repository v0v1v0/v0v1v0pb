<div class="container">

<table style="width: 100%;"><tr>
<td>PredictorResponseBivarPair</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot bivariate predictor-response function on a new grid of points</h2>

<h3>Description</h3>

<p>Plot bivariate predictor-response function on a new grid of points
</p>


<h3>Usage</h3>

<pre><code class="language-R">PredictorResponseBivarPair(
  fit,
  y = NULL,
  Z = NULL,
  X = NULL,
  whichz1 = 1,
  whichz2 = 2,
  whichz3 = NULL,
  method = "approx",
  prob = 0.5,
  q.fixed = 0.5,
  sel = NULL,
  ngrid = 50,
  min.plot.dist = 0.5,
  center = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>An object containing the results returned by a the <code>kmbayes</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>a vector of outcome data of length <code>n</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p>an <code>n</code>-by-<code>M</code> matrix of predictor variables to be included in the <code>h</code> function. Each row represents an observation and each column represents an predictor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>an <code>n</code>-by-<code>K</code> matrix of covariate data where each row represents an observation and each column represents a covariate. Should not contain an intercept column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>whichz1</code></td>
<td>
<p>vector identifying the first predictor that (column of <code>Z</code>) should be plotted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>whichz2</code></td>
<td>
<p>vector identifying the second predictor that (column of <code>Z</code>) should be plotted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>whichz3</code></td>
<td>
<p>vector identifying the third predictor that will be set to a pre-specified fixed quantile (determined by <code>prob</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>method for obtaining posterior summaries at a vector of new points. Options are "approx" and "exact"; defaults to "approx", which is faster particularly for large datasets; see details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>pre-specified quantile to set the third predictor (determined by <code>whichz3</code>); defaults to 0.5 (50th percentile)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q.fixed</code></td>
<td>
<p>vector of quantiles at which to fix the remaining predictors in <code>Z</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sel</code></td>
<td>
<p>logical expression indicating samples to keep; defaults to keeping the second half of all samples</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ngrid</code></td>
<td>
<p>number of grid points to cover the range of each predictor (column in <code>Z</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.plot.dist</code></td>
<td>
<p>specifies a minimum distance that a new grid point needs to be from an observed data point in order to compute the prediction; points further than this will not be computed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>flag for whether to scale the exposure-response function to have mean zero</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments to pass on to the prediction function</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a data frame with value of the first predictor, the value of the second predictor, the posterior mean estimate, and the posterior standard deviation
</p>


<h3>Examples</h3>

<pre><code class="language-R">## First generate dataset
set.seed(111)
dat &lt;- SimData(n = 50, M = 4)
y &lt;- dat$y
Z &lt;- dat$Z
X &lt;- dat$X

## Fit model with component-wise variable selection
## Using only 100 iterations to make example run quickly
## Typically should use a large number of iterations for inference
set.seed(111)
fitkm &lt;- kmbayes(y = y, Z = Z, X = X, iter = 100, verbose = FALSE, varsel = TRUE)

## Obtain predicted value on new grid of points
## Using only a 10-by-10 point grid to make example run quickly
pred.resp.bivar12 &lt;- PredictorResponseBivarPair(fit = fitkm, min.plot.dist = 1, ngrid = 10)
</code></pre>


</div>