<div class="container">

<table style="width: 100%;"><tr>
<td>print.bayes_ctd_array</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Print Data from Two Arm Bayesian Clinical Trial Simulation.</h2>

<h3>Description</h3>

<p><code>print.bayes_ctd_array()</code> takes an S3 object of class <code>bayes_ctd_array</code>, and
prints a two dimensional slice from the data generated by a clinical trial simulation
using <code>historic_sim()</code> or <code>simple_sim()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'bayes_ctd_array'
print(
  x = NULL,
  measure = "power",
  tab_type = "WX|YZ",
  subj_per_arm_val = NULL,
  a0_val = NULL,
  effect_val = NULL,
  rand_control_diff_val = NULL,
  print_chg_warn = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Name of object of class <code>bayes_ctd_array</code> containing
data from clinical trial simulation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measure</code></td>
<td>
<p>Must be equal to <code>power</code>, <code>est</code>, <code>var</code>, <code>bias</code>,
or <code>mse</code>.  Default is <code>power</code>.  Case does not matter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tab_type</code></td>
<td>
<p>A character string that must equal <code>WX|YZ</code>, <code>WY|XZ</code>,
<code>WZ|XY</code>, <code>XY|WZ</code>, <code>XZ|WY</code>, <code>YZ|WX</code>, <code>ZX|WY</code>, <code>XW|YZ</code>,
<code>YW|XZ</code>, <code>YX|WZ</code>, <code>ZW|XY</code>, <code>ZX|WY</code>, <code>ZY|WX</code> when
<code>x</code> is generated by <code>historic_sim()</code>.  Default is
<code>WX|YZ</code>.  When <code>x</code> is generated by <code>simple_sim()</code>,
<code>tab_type</code> is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subj_per_arm_val</code></td>
<td>
<p>Must be non-missing, if <code>x</code> is generated
by <code>historic_sim()</code> and sample size is being held constant.
If <code>x</code> is generated by <code>historic_sim()</code> and sample size
is being held constant, <code>subj_per_arm_val</code> must equal a value submitted
to <code>historic_sim()</code> within the <code>subj_per_arm</code> parameter.  When
<code>x</code> is generated by <code>simple_sim()</code>, <code>subj_per_arm_val</code>
is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a0_val</code></td>
<td>
<p>Must be non-missing, if <code>x</code> is generated
by <code>historic_sim()</code> and a0, the power prior parameter, is being held
constant.  If <code>x</code> is generated by <code>historic_sim()</code> and
a0 is being held constant, <code>a0_val</code> must equal a value submitted
to <code>historic_sim()</code> within the <code>a0_vals</code> parameter.  When
<code>x</code> is generated by <code>simple_sim()</code>, <code>a0_val</code> is
ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effect_val</code></td>
<td>
<p>Must be non-missing, if <code>x</code> is generated
by <code>historic_sim()</code> and effect is being held constant.  If
<code>x</code> is generated by <code>historic_sim()</code> and effect is being
held constant, <code>effect_val</code> must equal a value submitted to
<code>historic_sim()</code> within the <code>effect_vals</code> parameter.  When
<code>x</code> is generated by <code>simple_sim()</code>, <code>effect_val</code> is
ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rand_control_diff_val</code></td>
<td>
<p>Must be non-missing, if <code>x</code> is
generated by <code>historic_sim()</code> and differences between randomized
and historical controls are being held constant.  If <code>x</code>
is generated by <code>historic_sim()</code> and control differences are being
held constant, <code>rand_control_diff_val</code> must equal a value submitted to
<code>historic_sim()</code> within the <code>rand_control_diff</code> parameter.  When
<code>x</code> is generated by <code>simple_sim()</code>,
<code>rand_control_diff_val</code> is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print_chg_warn</code></td>
<td>
<p>A parameter not used by the user, but is used by
<code>plot()</code> to ensure warnings are not printed twice.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If the object of class <code>bayes_ctd_array</code> is created by <code>historic_sim()</code>,
then the function <code>print()</code> allows the user to print user-specified 1- and 2-
dimensional slices of the simulation results based on slicing code described
below.  If the object of class <code>bayes_ctd_array</code> is created by
<code>simple_sim()</code>, a basic table of characteristic by sample size and effect is created.
</p>
<p>If the object of class <code>bayes_ctd_array</code> is created by <code>simple_sim()</code>, then
all four trial characteristics (<code>subj_per_arm_val</code>, <code>a0_vals</code>,
<code>effect_val</code>, and <code>rand_control_diff_val</code>) can be ignored, as can the
parameter defining what type of table to print, <code>tab_type</code>.  A call to
<code>print()</code> will require the user to specify a measure (power, est, var, bias,
or mse).
</p>
<p>If the object of class <code>bayes_ctd_array</code> is created by <code>historic_sim()</code>,
a call to <code>print()</code> will require the user to specify a measure
(power, est, var, bias, or mse) and may require the user to specify a table type.
A table type, <code>tab_type</code>, will be required if 3 of the 4 trial characteristics
are equal to a vector of 2 or more values.  The table type specification
uses the letters W, X, Y, and Z.  The letter W represents the subject per arm
dimension.  The letter X represents the a0 dimension.  The letter Y represents
the effect dimension.  The letter Z represents the control difference dimension.
To define a slice of the 4-dimensional array, these letters are put into an AB|CD
pattern.  The two letters to the right of the vertical bar define which variables
are held constant.  The two letters to the left of the vertical bar define which
variables are going to show up in the rows (first letter) and in the columns (second
letter).  For example if tab_type equals <code>WX|YZ</code>, then effect and control
differences will be held constant, while sample size will be represented by the rows
in the generated table and a0 values will be represented by the columns.  The actual
values that are printed in the tables depend on what measure is requested in the
parameter <code>measure</code>.
</p>

<ul>
<li> <p><code>tab_type='WX|YZ'</code>, Sample Size by a0
</p>
</li>
<li> <p><code>tab_type='WY|XZ'</code>, Sample Size by Effect
</p>
</li>
<li> <p><code>tab_type='WZ|XY'</code>, Sample Size by Control Differences
</p>
</li>
<li> <p><code>tab_type='XY|WZ'</code>, a0 by Effect
</p>
</li>
<li> <p><code>tab_type='XZ|WY'</code>, a0 by Control Differences
</p>
</li>
<li> <p><code>tab_type='YZ|WX'</code>, Effect by Control Differences
</p>
</li>
<li> <p><code>tab_type='ZX|WY'</code>, Control Differences by a0
</p>
</li>
<li> <p><code>tab_type='XW|YZ'</code>, a0 by Sample Size
</p>
</li>
<li> <p><code>tab_type='YW|XZ'</code>, Effect by Sample Size
</p>
</li>
<li> <p><code>tab_type='YX|WZ'</code>, Effect by a0
</p>
</li>
<li> <p><code>tab_type='ZW|XY'</code>, Control Differences by Sample Size
</p>
</li>
<li> <p><code>tab_type='ZY|WX'</code>, Control Differences by Effect
</p>
</li>
</ul>
<p>It is very important to populate the values of <code>subj_per_arm_val</code>,
<code>a0_vals</code>, <code>effect_val</code>, and <code>rand_control_diff_val</code> correctly given
the value of tab_type, when the object of class <code>bayes_ctd_array</code> is created by
<code>historic_sim()</code> and at least 3 of the four parameters have more than one
value.  On the other hand, if 2 or more of the four parameters have only one value,
then <code>subj_per_arm_val</code>, <code>a0_vals</code>, <code>effect_val</code>,
<code>rand_control_diff_val</code>, as well as <code>tab_type</code> can be ignored.  If the last
two letters are <code>YZ</code>, then <code>effect_val</code> and <code>rand_control_diff_val</code>
must be populated.  If the last two letters are <code>XZ</code>, then <code>a0_vals</code> and
<code>rand_control_diff_val</code> must be populated.  If the last two letters are
<code>XY</code>, then <code>a0_vals</code> and <code>effect_val</code> must be populated.  If the last
two letters are <code>WZ</code>, then <code>sample_val</code> and <code>rand_control_diff_val</code>
must be populated.  If the last two letters are <code>WY</code>, then <code>sample_size_val</code>
and <code>effect_val</code> must be populated.  If the last two letters are <code>WX</code>, then
<code>sample_size_val</code> and <code>a0_vals</code> must be populated.
</p>
<p>If the object of class <code>bayes_ctd_array</code> is created by <code>simple_sim()</code>, the
parameters <code>tab_type</code>, <code>subj_per_arm_val</code>, <code>a0_vals</code>, <code>effect_val</code>,
and <code>rand_control_diff_val</code> are ignored.
</p>


<h3>Value</h3>

<p><code>print()</code> returns a two dimensional array of simulation results.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#Run a Weibull simulation, using simple_sim().
#For meaningful results, trial_reps needs to be much larger than 2.
weibull_test &lt;- simple_sim(trial_reps = 2, outcome_type = "weibull",
                           subj_per_arm = c(50, 100, 150, 200),
                           effect_vals = c(0.6, 1, 1.4),
                           control_parms = c(2.82487,3),
                           time_vec = NULL, censor_value = NULL,
                           alpha = 0.05, get_var = TRUE,
                           get_bias = TRUE, get_mse = TRUE,
                           seedval=123, quietly=TRUE)

#Tabulate the simulation results for power.
test_table &lt;- print(x=weibull_test, measure="power",
                    tab_type=NULL, subj_per_arm_val=NULL, a0_val=NULL,
                    effect_val=NULL, rand_control_diff_val=NULL)
print(test_table)

#Tabulate the simulation results for estimates.
print(x=weibull_test, measure="est")

#Tabulate the simulation results for variance.
print(x=weibull_test, measure="var")

#Tabulate the simulation results for bias.
print(x=weibull_test, measure="bias")

#Tabulate the simulation results for mse.
print(x=weibull_test, measure="mse")


#Run another weibull simulation, using historic_sim().
#Note: historic_sim() can take a while to run.
#Generate a sample of historical data for use in example.
set.seed(2250)
SampleHistData &lt;- genweibulldata(sample_size=60, scale1=2.82487,
                                 hazard_ratio=0.6, common_shape=3,
                                 censor_value=3)
histdata &lt;- subset(SampleHistData, subset=(treatment==0))
histdata$id &lt;- histdata$id+10000

#For meaningful results, trial_reps needs to be larger than 100.
weibull_test2 &lt;- historic_sim(trial_reps = 100, outcome_type = "weibull",
                              subj_per_arm = c(50, 100, 150, 200, 250),
                              a0_vals = c(0, 0.33, 0.67, 1),
                              effect_vals = c(0.6, 1, 1.4),
                              rand_control_diff = c(0.8, 1, 1.2),
                              hist_control_data = histdata, time_vec = NULL,
                              censor_value = 3, alpha = 0.05, get_var = TRUE,
                              get_bias = TRUE, get_mse = TRUE, seedval=123,
                              quietly=TRUE)

#Tabulate the simulation results for power.
test_table &lt;- print(x=weibull_test2, measure="power",
                    tab_type="WX|YZ", effect_val=0.6,
                    rand_control_diff_val=1.0)
print(test_table)

#Tabulate the simulation results for estimates.
print(x=weibull_test2, measure="est", tab_type="WX|YZ",
      effect_val=0.6, rand_control_diff_val=1.0)

#Tabulate the simulation results for variance.
print(x=weibull_test2, measure="var", tab_type="WX|YZ",
      effect_val=0.6, rand_control_diff_val=1.0)

#Tabulate the simulation results for bias.
print(x=weibull_test2, measure="bias", tab_type="WX|YZ",
      effect_val=0.6, rand_control_diff_val=1.0)

#Tabulate the simulation results for mse.
print(x=weibull_test2, measure="mse", tab_type="WX|YZ",
      effect_val=0.6, rand_control_diff_val=1.0)



#Run a Bernoulli simulation, using historic_sim().
#Generate a sample of historical Bernoulli data for use in example.
set.seed(2250)
samplehistdata &lt;- genbernoullidata(sample_size=60, prob1=0.6, odds_ratio=0.6)
histdata &lt;- subset(samplehistdata, subset=(treatment==0))
histdata$id &lt;- histdata$id+10000

#For meaningful results, trial_reps needs to be larger than 100.
bernoulli_test &lt;- historic_sim(trial_reps = 100, outcome_type = "bernoulli",
                              subj_per_arm = c(150),
                              a0_vals = c(1.0),
                              effect_vals = c(0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1.0),
                              rand_control_diff = c(1.8),
                              hist_control_data = histdata, time_vec = NULL,
                              censor_value = 3, alpha = 0.05, get_var = TRUE,
                              get_bias = TRUE, get_mse = TRUE, seedval=123,
                              quietly=TRUE)
test_table &lt;- print(x=bernoulli_test, measure="power",
                    tab_type=NULL, effect_val=NULL,
                    subj_per_arm_val=NULL)
print(test_table)

#If only one or two of the subj_per_arm, a0_vals, effect_vals, or
#rand_control_diff parameters have length greater than 1, then
#only bayes_ctd_array and measure parameters are needed.
#Tabulate the simulation results for estimates.
print(x=bernoulli_test, measure="est")

#Tabulate the simulation results for variance.
print(x=bernoulli_test, measure="var")

#Tabulate the simulation results for bias.
print(x=bernoulli_test, measure="bias")

#Tabulate the simulation results for mse.
print(x=bernoulli_test, measure="mse")


</code></pre>


</div>