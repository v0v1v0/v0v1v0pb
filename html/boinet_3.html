<div class="container">

<table style="width: 100%;"><tr>
<td>gboinet</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Conducting simulation study of gBOIN-ET design</h2>

<h3>Description</h3>

<p>Generalized Bayesian optimal interval design for optimal dose-finding
accounting for ordinal graded efficacy and toxicity (gBOIN-ET design) is
implemented under a scenario specified. Operating characteristics of the
design are summarized by the percentage of times that each dose level was
selected as optimal biological dose and the average number of patients who
were treated at each dose level.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gboinet(
  n.dose, start.dose, size.cohort, n.cohort,
  toxprob, effprob, sev.weight, res.weight,
  phi, phi1=phi*0.1, phi2=phi*1.4, delta, delta1=delta*0.6,
  alpha.T1=0.5, alpha.E1=0.5, tau.T, tau.E,
  te.corr=0.2, gen.event.time="weibull",
  accrual, gen.enroll.time="uniform",
  stopping.npts=size.cohort*n.cohort,
  stopping.prob.T=0.95, stopping.prob.E=0.99,
  estpt.method, obd.method,
  w1=0.33, w2=1.09,
  plow.ast=phi1, pupp.ast=phi2, qlow.ast=delta1/2, qupp.ast=delta,
  psi00=40, psi11=60,
  n.sim=1000, seed.sim=100)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n.dose</code></td>
<td>
<p>Number of dose.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start.dose</code></td>
<td>
<p>Starting dose. The lowest dose is generally recommended.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.cohort</code></td>
<td>
<p>Cohort size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.cohort</code></td>
<td>
<p>Number of cohort.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>toxprob</code></td>
<td>
<p>Vector of true toxicity probability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effprob</code></td>
<td>
<p>Vector of true efficacy probability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sev.weight</code></td>
<td>
<p>Vector of weight for toxicity category.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res.weight</code></td>
<td>
<p>Vector of weight for efficacy category.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phi</code></td>
<td>
<p>Target toxicity probability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phi1</code></td>
<td>
<p>Highest toxicity probability that is deemed sub-therapeutic such
that dose-escalation should be pursued. The default value is
<code>phi1=phi*0.1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phi2</code></td>
<td>
<p>Lowest toxicity probability that is deemed overly toxic such that
dose de-escalation is needed. The default value is <code>phi2=phi*1.4</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta</code></td>
<td>
<p>Target efficacy probability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta1</code></td>
<td>
<p>Minimum probability deemed efficacious such that the dose
levels with less than delta1 are considered sub-therapeutic.
The default value is <code>delta1=delta*0.6</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.T1</code></td>
<td>
<p>Probability that toxicity event occurs in the late half of
toxicity assessment window. The default value is <code>alpha.T1=0.5</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.E1</code></td>
<td>
<p>Probability that efficacy event occurs in the late half of
assessment window. The default value is <code>alpha.E1=0.5</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau.T</code></td>
<td>
<p>Toxicity assessment windows (days).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau.E</code></td>
<td>
<p>Efficacy assessment windows (days).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>te.corr</code></td>
<td>
<p>Correlation between toxicity and efficacy probability,
specified as Gaussian copula parameter. The default value is
<code>te.corr=0.2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gen.event.time</code></td>
<td>
<p>Method to generate the time to first toxicity and
efficacy outcome. Weibull distribution is used when
<code>gen.event.time="weibull"</code>. Uniform distribution is used when
<code>gen.event.time="uniform"</code>. The default value is
<code>gen.event.time="weibull"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>accrual</code></td>
<td>
<p>Accrual rate (days) (average number of days necessary to
enroll one patient).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gen.enroll.time</code></td>
<td>
<p>Method to generate enrollment time. Uniform
distribution is used when <code>gen.enroll.time="uniform"</code>. Exponential
distribution is used when <code>gen.enroll.time="exponential"</code>. The default
value is <code>gen.enroll.time="uniform"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stopping.npts</code></td>
<td>
<p>Early study termination criteria for the number of
patients. If the number of patients at the current dose reaches this
criteria, the study is terminated. The default value is
<code>stopping.npts=size.cohort*n.cohort</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stopping.prob.T</code></td>
<td>
<p>Early study termination criteria for toxicity,
taking a value between 0 and 1. If the posterior probability that toxicity
outcome is less than the target toxicity probability (<code>phi</code>) is larger than
this criteria, the dose levels are eliminated from the study. The default
value is <code>stopping.prob.T=0.95</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stopping.prob.E</code></td>
<td>
<p>Early study termination criteria for efficacy,
taking a value between 0 and 1. If the posterior probability that efficacy
outcome is less than the minimum efficacy probability (<code>delta1</code>) is larger
than this criteria, the dose levels are eliminated from the study.
The default value is <code>stopping.prob.E=0.99</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estpt.method</code></td>
<td>
<p>Method to estimate the efficacy probability. Fractional
polynomial logistic regression is used when <code>estpt.method="fp.logistic"</code>.
Model averaging of multiple unimodal isotopic regression is used when
<code>estpt.method="multi.iso"</code>. Observed efficacy probability is used when
<code>estpt.method="obs.prob"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obd.method</code></td>
<td>
<p>Method to select the optimal biological dose. Utility
defined by weighted function is used when <code>obd.method="utility.weighted"</code>.
Utility defined by truncated linear function is used when
<code>obd.method="utility.truncated.linear"</code>. Utility defined by scoring is
used when <code>obd.method="utility.scoring"</code>. Highest estimated efficacy
probability is used when <code>obd.method="max.effprob"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w1</code></td>
<td>
<p>Weight for toxicity-efficacy trade-off in utility defined by
weighted function. This must be specified when using
<code>obd.method="utility.weighted"</code>. The default value is <code>w1=0.33</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w2</code></td>
<td>
<p>Weight for penalty imposed on toxic doses in utility defined by
weighted function. This must be specified when using
<code>obd.method="utility.weighted"</code>. The default value is <code>w2=1.09</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plow.ast</code></td>
<td>
<p>Lower threshold of toxicity linear truncated function. This
must be specified when using <code>obd.method="utility.truncated.linear"</code>.
The default value is <code>plow.ast=phi1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pupp.ast</code></td>
<td>
<p>Upper threshold of toxicity linear truncated function. This
must be specified when using <code>obd.method="utility.truncated.linear"</code>.
The default value is <code>pupp.ast=phi2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qlow.ast</code></td>
<td>
<p>Lower threshold of efficacy linear truncated function. This
must be specified when using <code>obd.method="utility.truncated.linear"</code>.
The default value is <code>qlow.ast=delta1/2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qupp.ast</code></td>
<td>
<p>Upper threshold of efficacy linear truncated function. This
must be specified when using <code>obd.method="utility.truncated.linear"</code>.
The default value is <code>qupp.ast=delta</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>psi00</code></td>
<td>
<p>Score for toxicity=no and efficacy=no in utility defined by
scoring. This must be specified when using <code>obd.method="utility.scoring"</code>.
The default value is <code>psi00=40</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>psi11</code></td>
<td>
<p>Score for toxicity=yes and efficacy=yes in utility defined by
scoring. This must be specified when using <code>obd.method="utility.scoring"</code>.
The default value is <code>psi11=60</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.sim</code></td>
<td>
<p>Number of simulated trial. The default value is
<code>n.sim=1000</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed.sim</code></td>
<td>
<p>Seed for random number generator. The default value is
<code>seed.sim=100</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>gboinet</code> is a function which generates the operating
characteristics of the generalized Bayesian optimal interval design for
optimal dose-finding accounting for ordinal graded efficacy and toxicity
(gBOIN-ET design) by a simulation study. Users can specify a
variety of study settings to simulate studies, and choose methods to estimate
the efficacy probability and to select the optimal biological dose. The
operating characteristics of the design are summarized by the percentage of
times that each dose level was selected as optimal biological dose and the
average number of patients who were treated at each dose level. The
percentage of times that the study was terminated and the expected study
duration are also provided.
</p>


<h3>Value</h3>

<p>The <code>gboinet</code> returns a list containing the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>toxprob</code></td>
<td>
<p>True toxicity probability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effprob</code></td>
<td>
<p>True efficacy probability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nETS</code></td>
<td>
<p>Normalized equivalent toxicity score.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nEES</code></td>
<td>
<p>Normalized equivalent efficacy score.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phi</code></td>
<td>
<p>Target toxicity probability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta</code></td>
<td>
<p>Target efficacy probability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda1</code></td>
<td>
<p>Lower toxicity boundary in dose escalation/de-escalation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda2</code></td>
<td>
<p>Upper toxicity boundary in dose escalation/de-escalation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eta1</code></td>
<td>
<p>Lower efficacy boundary in dose escalation/de-escalation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau.T</code></td>
<td>
<p>Toxicity assessment windows (days).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau.E</code></td>
<td>
<p>Efficacy assessment windows (days).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>accrual</code></td>
<td>
<p>Accrual rate (days) (average number of days necessary to
enroll one patient).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estpt.method</code></td>
<td>
<p>Method to estimate the efficacy probability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obd.method</code></td>
<td>
<p>Method to select the optimal biological dose.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.patient</code></td>
<td>
<p>Average number of patients who were treated at each dose
level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop.select</code></td>
<td>
<p>Percentage of times that each dose level was selected as
optimal biological dose.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop.stop</code></td>
<td>
<p>Percentage of times that the study was terminated and
optimal biological dose was not selected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>duration</code></td>
<td>
<p>Expected study duration (days)</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Takeda K, Morita S, Taguri M. gBOIN-ET: The generalized Bayesian optimal
interval design for optimal dose-finding accounting for ordinal graded
efficacy and toxicity in early clinical trials. <em>Biometrical Journal</em> 2022:
64(7):1178-1191.
</p>
<p>Yamaguchi Y, Takeda K, Yoshida S, Maruo K. Optimal biological dose selection
in dose-finding trials with model-assisted designs based on efficacy and
toxicity: a simulation study. <em>Journal of Biopharmaceutical Statistics</em> 2023;
doi: 10.1080/10543406.2023.2202259.
</p>


<h3>Examples</h3>

<pre><code class="language-R">n.dose      &lt;- 6
start.dose  &lt;- 1
size.cohort &lt;- 3
n.cohort    &lt;- 12

toxprob &lt;- rbind(c(0.94,0.87,0.79,0.68,0.62,0.50),
                 c(0.05,0.10,0.15,0.20,0.20,0.20),
                 c(0.01,0.03,0.05,0.10,0.15,0.25),
                 c(0.00,0.00,0.01,0.02,0.03,0.05))
effprob &lt;- rbind(c(0.64,0.52,0.45,0.35,0.20,0.05),
                 c(0.30,0.40,0.40,0.40,0.40,0.15),
                 c(0.05,0.05,0.10,0.15,0.20,0.35),
                 c(0.01,0.03,0.05,0.10,0.20,0.45))

sev.weight &lt;- c(0.00,0.50,1.00,1.50)
res.weight &lt;- c(0.00,0.25,1.00,3.00)

phi   &lt;- 0.33
delta &lt;- 0.70

tau.T   &lt;- 30
tau.E   &lt;- 45
accrual &lt;- 10

estpt.method &lt;- "obs.prob"
obd.method   &lt;- "max.effprob"

n.sim &lt;- 10

gboinet(
  n.dose=n.dose, start.dose=start.dose,
  size.cohort=size.cohort, n.cohort=n.cohort,
  toxprob=toxprob, effprob=effprob,
  sev.weight=sev.weight, res.weight=res.weight,
  phi=phi, delta=delta,
  tau.T=tau.T, tau.E=tau.E, accrual=accrual,
  estpt.method=estpt.method, obd.method=obd.method,
  n.sim=n.sim)
</code></pre>


</div>