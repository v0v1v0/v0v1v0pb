<div class="container">

<table style="width: 100%;"><tr>
<td>big_copy</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Copy as a Filebacked Big Matrix</h2>

<h3>Description</h3>

<p>Deep copy of a Filebacked Big Matrix with possible subsetting.
This should also work for any matrix-like object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">big_copy(
  X,
  ind.row = rows_along(X),
  ind.col = cols_along(X),
  type = typeof(X),
  backingfile = tempfile(tmpdir = getOption("FBM.dir")),
  block.size = block_size(length(ind.row)),
  is_read_only = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>Could be any matrix-like object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ind.row</code></td>
<td>
<p>An optional vector of the row indices that are used.
If not specified, all rows are used. <strong>Don't use negative indices.</strong></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ind.col</code></td>
<td>
<p>An optional vector of the column indices that are used.
If not specified, all columns are used. <strong>Don't use negative indices.</strong></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Type of the Filebacked Big Matrix (default is <code>double</code>). Either
</p>

<ul>
<li> <p><code>"double"</code> (double precision – 64 bits)
</p>
</li>
<li> <p><code>"float"</code> (single precision – 32 bits)
</p>
</li>
<li> <p><code>"integer"</code>
</p>
</li>
<li> <p><code>"unsigned short"</code>: can store integer values from 0 to 65535.
It has vocation to become the basis for a <code>FBM.code65536</code>.
</p>
</li>
<li> <p><code>"raw"</code> or <code>"unsigned char"</code>: can store integer values from 0 to 255.
It is the basis for class FBM.code256 in order to
access 256 arbitrary different numeric values.
It is used in <a href="https://goo.gl/pHCCmo">package <strong>bigsnpr</strong></a>.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>backingfile</code></td>
<td>
<p>Path to the file storing the FBM data on disk.
<strong>An extension ".bk" will be automatically added.</strong> Default stores in the
temporary directory, which you can change using global option "FBM.dir".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>block.size</code></td>
<td>
<p>Maximum number of columns read at once.
Default uses block_size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>is_read_only</code></td>
<td>
<p>Whether the FBM is read-only? Default is <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A copy of <code>X</code> as a new FBM object.
</p>


<h3>Examples</h3>

<pre><code class="language-R">X &lt;- FBM(10, 10, init = 1:100)
X[]
X2 &lt;- big_copy(X, ind.row = 1:5)
X2[]

mat &lt;- matrix(101:200, 10)
X3 &lt;- big_copy(mat, type = "double")  # as_FBM() would be faster here
X3[]

X.code &lt;- big_attachExtdata()
class(X.code)
X2.code &lt;- big_copy(X.code)
class(X2.code)
all.equal(X.code[], X2.code[])

</code></pre>


</div>