<div class="container">

<table style="width: 100%;"><tr>
<td>pIndex</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Probability Index for Survival Time Difference
</h2>

<h3>Description</h3>

<p>{pIndex} is a function to estimate and test differce of survival time among groups.
It is defined as p = Pr{T_1 &lt; T_2 }, where $T_1$ is survival time for subjects in 
group 1 and $T_2$ is surval time in group 2.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pIndex(x, ...)

## S3 method for class 'formula'
pIndex(formula, data, control = list(...),...)
###To estimate probability index for treatment and control groups (define by trt):
#
# fit = pIndex(Surv(time, status) ~ trt)
#
###To estimate probability index difference for treatment and control 
###groups (define by trt) between biomarker postive and biomarker negative
###subjects(i.e. Treatment-biomarker interaction):
#
# fit = pIndex(Surv(time, status) ~ trt+biomarker)
#
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>an object of class "formula"(or one that can be coerced to that class): a sy
mbolic description of the model to be fitted. 
The details of model specification are given under 'Details'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>an optional data frame, list or environment (or object coercible by 
'as.data.frame' to a data frame) containing the variables in the model. 
If not found in data, the variables are taken from environment(formula), typically the enviro
nment from which pIndex is called.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Here covariate x is a design matrix of dimension n * 1 (for two sample test) 
or dimension n * 2 (for treatment * biomarker interaction).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>a list of parameters for controlling the fitting process. 
See 'pIndexControl' for details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to be passed to the low level regression fitting 
functions (see below).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>pIndex(y~x) will estimate probability index of two groups (eg. treatment vs control) define by x. 
pIndex(y~x1 + x2) will estimate the difference of probability index of x1 (eg. treatment vs control)
between biomarker positive and biomarker negative groups (x2).
Function print(x) can be used to print a summary of pIndex results.
</p>


<h3>Value</h3>


<p>pIndex returns an object of class inheriting from "pIndex". 
When B &gt; 0, an object of class "pIndex" is a list containing at least the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>the estimated probability index</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta.b</code></td>
<td>
<p>Bootstrap or Jackknife sample of the probability index</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd</code></td>
<td>
<p>standard deviation of theta based on resampling</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p>(1-alpha) percent confidence interval based on resampling</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>This function is part of the bhm package.
</p>


<h3>Author(s)</h3>

<p>Bingshu E. Chen (bingshu.chen@queensu.ca)
</p>


<h3>References</h3>

<p>Jiang, S., Chen, B. E. and Tu, D.(2016). Inference on treatment-covariate interaction based on a nonparametric measure of treatment effects and censored survival data. Statistics in Medicine. 35, 2715-2725.
</p>


<h3>See Also</h3>



<p><code>bhm, pIndexControl</code>, 
</p>


<h3>Examples</h3>

<pre><code class="language-R">##
## Generate a random data set
n = 50
b = c(0.5, 1, 1.5)
data = gendat.surv(n, c0 = 0.40, beta = b, type='brm')
age = runif(n, 0, 1)*100
tm = data[, 1]
status = data[, 2]
trt = data[, 3]
ki67 = data[, 4]
#
### No run
# 
# fit = pIndex(Surv(tm, status) ~ trt + ki67) 
#
</code></pre>


</div>