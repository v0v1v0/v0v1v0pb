<div class="container">

<table style="width: 100%;"><tr>
<td>treatment.effect</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate patient-specific treatment effect</h2>

<h3>Description</h3>

<p>Function for calculating the patient-specific treatment effect.
Patient-specific treatment effect includes the main effect of treatment and 
treatment-covariate interaction effect (i.e. effect modification). 
Reports odds ratio for the binary outcome.
</p>


<h3>Usage</h3>

<pre><code class="language-R">treatment.effect(
  ipd = NULL,
  samples = NULL,
  newpatient = NULL,
  scale_mean = NULL,
  scale_sd = NULL,
  reference = NULL,
  quantiles = c(0.025, 0.5, 0.975)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ipd</code></td>
<td>
<p>IPD object created from running ipdma.model type function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samples</code></td>
<td>
<p>MCMC samples found from running ipd.run function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newpatient</code></td>
<td>
<p>covariate values of patients that you want to predict treatment effect on. Must have length equal to total number of covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale_mean</code></td>
<td>
<p>option to specify different overall mean compared to what was calculated in IPD object. can be useful when using multiple imputation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale_sd</code></td>
<td>
<p>option to specify different overall standard deviation compared to what was calculated in IPD object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference</code></td>
<td>
<p>reference group used for finding patient-specific treatment effect. This is only used for deft approach</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantiles</code></td>
<td>
<p>quantiles for credible interval of the patient-specific treatment effect</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>patient-specific treatment effect with credible interval at specified quantiles
</p>


<h3>References</h3>

<p>Seo M, White IR, Furukawa TA, et al. Comparing methods for estimating patient-specific treatment effects in individual patient data meta-analysis. <em>Stat Med</em>. 2021;40(6):1553-1573. doi: <a href="https://doi.org/10.1002/sim.8859">10.1002/sim.8859</a>
</p>
<p>Riley RD, Debray TP, Fisher D, et al. Individual participant data meta-analysis to examine interactions between treatment effect and participant-level covariates: Statistical recommendations for conduct and planning. <em>Stat Med</em>. 2020:39(15):2115-2137. doi: <a href="https://doi.org/10.1002/sim.8516">10.1002/sim.8516</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">ds &lt;- generate_ipdma_example(type = "continuous")
ipd &lt;- with(ds, ipdma.model.onestage(y = y, study = studyid, treat = treat, X = cbind(z1, z2), 
response = "normal", shrinkage = "none"))

samples &lt;- ipd.run(ipd, pars.save = c("beta", "gamma", "delta"), n.chains = 3, n.burnin = 500, 
n.iter = 5000)
treatment.effect(ipd, samples, newpatient = c(1,0.5))

</code></pre>


</div>