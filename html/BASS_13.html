<div class="container">

<table style="width: 100%;"><tr>
<td>sobolBasis</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>BASS Sensitivity Analysis</h2>

<h3>Description</h3>

<p>Decomposes the variance of the BASS model into variance due to main effects, two way interactions, and so on, similar to the ANOVA decomposition for linear models.  Uses the Sobol' decomposition, which can be done analytically for MARS models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sobolBasis(
  mod,
  int.order,
  prior = NULL,
  mcmc.use = NULL,
  nind = NULL,
  n.cores = 1,
  parType = "fork",
  plot = F,
  verbose = T
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mod</code></td>
<td>
<p>output from the <code>bassBasis</code> or <code>bassPCA</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>int.order</code></td>
<td>
<p>an integer indicating the highest order of interactions to include in the Sobol decomposition.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prior</code></td>
<td>
<p>a list with the same number of elements as there are inputs to mod.  Each element specifies the prior for the particular input.  Each prior is specified as a list with elements <code>dist</code> (one of <code>c("normal", "student", "uniform")</code>), <code>trunc</code> (a vector of dimension 2 indicating the lower and upper truncation bounds, taken to be the data bounds if omitted), and for "normal" or "student" priors, <code>mean</code> (scalar mean of the Normal/Student, or a vector of means for a mixture of Normals or Students), <code>sd</code> (scalar standard deviation of the Normal/Student, or a vector of standard deviations for a mixture of Normals or Students), <code>df</code> (scalar degrees of freedom of the Student, or a vector of degrees of freedom for a mixture of Students), and <code>weights</code> (a vector of weights that sum to one for the mixture components, or the scalar 1).  If unspecified, a uniform is assumed with the same bounds as are represented in the input to mod.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mcmc.use</code></td>
<td>
<p>an integer indicating which MCMC iteration to use for sensitivity analysis. Defaults to the last iteration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nind</code></td>
<td>
<p>number of Sobol indices to keep (will keep the largest nind).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.cores</code></td>
<td>
<p>number of cores to use (nearly linear speedup for adding cores).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parType</code></td>
<td>
<p>either "fork" or "socket".  Forking is typically faster, but not compatible with Windows. If <code>n.cores==1</code>, <code>parType</code> is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>logical; whether to plot results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical; print progress.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Performs analytical Sobol' decomposition for each MCMC iteration in mcmc.use (each corresponds to a MARS model), yeilding a posterior distribution of sensitivity indices.  Can obtain Sobol' indices as a function of one functional variable.
</p>


<h3>Value</h3>

<p>If non-functional (<code>func.var = NULL</code>), a list with two elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>S</code></td>
<td>
<p>a data frame of sensitivity indices with number of rows matching the length of <code>mcmc.use</code>.  The columns are named with a particular main effect or interaction.  The values are the proportion of variance in the model that is due to each main effect or interaction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T</code></td>
<td>
<p>a data frame of total sensitivity indices with number of rows matching the length of <code>mcmc.use</code>.  The columns are named with a particular variable.</p>
</td>
</tr>
</table>
<p>Otherwise, a list with four elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>S</code></td>
<td>
<p>an array with first dimension corresponding to MCMC samples (same length as <code>mcmc.use</code>), second dimension corresponding to different main effects and interactions (labeled in <code>names.ind</code>), and third dimension corresponding to the grid used for the functional variable.  The elements of the array are sensitivity indices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S.var</code></td>
<td>
<p>same as <code>S</code>, but scaled in terms of total variance rather than percent of variance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names.ind</code></td>
<td>
<p>a vector of names of the main effects and interactions used.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>bassPCA and bassBasis for model fitting and predict.bassBasis for prediction.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># See examples in bass documentation.
</code></pre>


</div>