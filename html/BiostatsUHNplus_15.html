<div class="container">

<table style="width: 100%;"><tr>
<td>rm_covsum_nested</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Outputs a nested version of reportRmd::rm_covsum()</h2>

<h3>Description</h3>

<p>Outputs a nested version of reportRmd::rm_covsum()
</p>


<h3>Usage</h3>

<pre><code class="language-R">rm_covsum_nested(
  data,
  covs,
  maincov = NULL,
  id = NULL,
  caption = NULL,
  tableOnly = FALSE,
  covTitle = "",
  digits = 1,
  digits.cat = 0,
  nicenames = TRUE,
  IQR = FALSE,
  all.stats = FALSE,
  pvalue = TRUE,
  effSize = TRUE,
  p.adjust = "none",
  unformattedp = FALSE,
  show.tests = TRUE,
  just.nested.pvalue = FALSE,
  nCores = NULL,
  nested.test = NULL,
  nsim = NULL,
  testcont = c("rank-sum test", "ANOVA"),
  testcat = c("Chi-squared", "Fisher"),
  full = TRUE,
  include_missing = FALSE,
  percentage = c("column", "row"),
  dropLevels = TRUE,
  excludeLevels = NULL,
  numobs = NULL,
  markup = TRUE,
  sanitize = TRUE,
  chunk_label
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>dataframe containing data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covs</code></td>
<td>
<p>character vector with the names of columns to include in table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maincov</code></td>
<td>
<p>covariate to stratify table by</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>covariates to nest summary by</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>caption</code></td>
<td>
<p>character containing table caption (default is no caption)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tableOnly</code></td>
<td>
<p>Logical, if TRUE then a dataframe is returned, otherwise a
formatted printed object is returned (default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covTitle</code></td>
<td>
<p>character with the names of the covariate (predictor) column.
The default is to leave this empty for output or, for table only output to
use the column name 'Covariate'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>number of digits for summarizing mean data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits.cat</code></td>
<td>
<p>number of digits for the proportions when summarizing
categorical data (default: 0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nicenames</code></td>
<td>
<p>boolean indicating if you want to replace . and _ in strings
with a space</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IQR</code></td>
<td>
<p>boolean indicating if you want to display the inter quantile range
(Q1,Q3) as opposed to (min,max) in the summary for continuous variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all.stats</code></td>
<td>
<p>boolean indicating if all summary statistics (Q1,Q3 +
min,max on a separate line) should be displayed. Overrides IQR.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pvalue</code></td>
<td>
<p>boolean indicating if you want p-values included in the table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effSize</code></td>
<td>
<p>boolean indicating if you want effect sizes included in the
table. Can only be obtained if pvalue is also requested.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.adjust</code></td>
<td>
<p>p-adjustments to be performed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unformattedp</code></td>
<td>
<p>boolean indicating if you would like the p-value to be
returned unformatted (ie not rounded or prefixed with '&lt;'). Best used with
tableOnly = T and outTable function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.tests</code></td>
<td>
<p>boolean indicating if the type of statistical used should
be shown in a column beside the p-values. Ignored if pvalue=FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>just.nested.pvalue</code></td>
<td>
<p>boolean indicating if the just the nested p-value
should be shown in a column, and not unnested p-value, unnested statistical
tests and effect size. Overrides effSize and show.tests arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nCores</code></td>
<td>
<p>number of cores to use for parallel processing if calculating
the nested p-value (if provided).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nested.test</code></td>
<td>
<p>specifies test used for calculating nested p-value from
afex::mixed function. Either <em>parametric bootstrap</em> method
or <em>likelihood ratio test</em> method (default: "LRT"). Parametric bootstrap
takes longer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>specifies number of simulations to use for calculating nested p-value
with <em>parametric bootstrap</em> method used for nested.test (default: 1000).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>testcont</code></td>
<td>
<p>test of choice for continuous variables,one of
<em>rank-sum</em> (default) or <em>ANOVA</em></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>testcat</code></td>
<td>
<p>test of choice for categorical variables,one of
<em>Chi-squared</em> (default) or <em>Fisher</em></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>full</code></td>
<td>
<p>boolean indicating if you want the full sample included in the
table, ignored if maincov is NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_missing</code></td>
<td>
<p>Option to include NA values of maincov. NAs will not
be included in statistical tests</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percentage</code></td>
<td>
<p>choice of how percentages are presented, one of
<em>column</em> (default) or <em>row</em></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dropLevels</code></td>
<td>
<p>logical, indicating if empty factor levels be dropped from
the output, default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>excludeLevels</code></td>
<td>
<p>a named list of covariate levels to exclude from
statistical tests in the form list(varname =c('level1','level2')). These
levels will be excluded from association tests, but not the table. This can
be useful for levels where there is a logical skip (ie not missing, but not
presented). Ignored if pvalue=FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numobs</code></td>
<td>
<p>named list overriding the number of people you expect to have
the covariate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>markup</code></td>
<td>
<p>boolean indicating if you want latex markup</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sanitize</code></td>
<td>
<p>boolean indicating if you want to sanitize all strings to not
break LaTeX</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chunk_label</code></td>
<td>
<p>only used if output is to Word to allow cross-referencing</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A character vector of the table source code, unless tableOnly=TRUE in
which case a data frame is returned
</p>


<h3>See Also</h3>

<p><code>covsum</code>,<code>fisher.test</code>,
<code>chisq.test</code>, <code>wilcox.test</code>,
<code>kruskal.test</code>, <code>anova</code>,
<code>mixed</code> and <code>outTable</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Example 1
data(ae)
rm_covsum_nested(data = ae, id = c("ae_detail", "Subject"), covs = c("AE_SEV_GD", 
"AE_ONSET_DT_INT"), maincov = "CTC_AE_ATTR_SCALE")

# Example 2: set variable labels and other options, save output with markup
data("ae")
lbls &lt;- data.frame(c1=c('AE_SEV_GD','AE_ONSET_DT_INT'),
    c2=c('Adverse event severity grade','Adverse event onset date'))
ae$AE_SEV_GD &lt;- as.numeric(ae$AE_SEV_GD)
ae &lt;- reportRmd::set_labels(ae, lbls)
output_tab &lt;- rm_covsum_nested(data = ae, id = c("ae_detail", "Subject"), 
    covs = c("AE_SEV_GD", "AE_ONSET_DT_INT"), maincov = "CTC_AE_ATTR_SCALE", 
    testcat = "Fisher", percentage = c("col"), show.tests = FALSE, pvalue = TRUE, 
    effSize = FALSE, full = TRUE, IQR = FALSE, nicenames = TRUE, sanitize = TRUE, 
    markup = TRUE, include_missing = TRUE, just.nested.pvalue = TRUE, 
    tableOnly = TRUE)
cat(reportRmd::outTable(tab=output_tab))
cat(reportRmd::outTable(output_tab, format="html"), file = paste("./man/tables/", 
    "output_tab.html", sep=""))
cat(reportRmd::outTable(output_tab, format="latex"), file = paste("./man/tables/", 
    "output_tab.tex", sep=""))

## End(Not run)
</code></pre>


</div>