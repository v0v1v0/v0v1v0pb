<div class="container">

<table style="width: 100%;"><tr>
<td>FitMeanCurves</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fit Pooled Curves</h2>

<h3>Description</h3>

<p>Fits curve to pooled data
</p>


<h3>Usage</h3>

<pre><code class="language-R">FitMeanCurves(
  dat,
  equation,
  k,
  remq0e = FALSE,
  replfree = NULL,
  rem0 = FALSE,
  nrepl = NULL,
  replnum = NULL,
  plotcurves = FALSE,
  method = NULL,
  indpoints = TRUE,
  vartext = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>data frame (long form) of purchase task data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>equation</code></td>
<td>
<p>Character vector of length one. Accepts either "hs" for Hursh and Silberberg (2008) or "koff" for Koffarnus, Franck, Stein, and Bickel (2015).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>A numeric vector of length one. Reflects the range of consumption in log10 units. If none provided, k will be calculated based on the max/min of the entire sample. If k = "fit", k will be a free parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remq0e</code></td>
<td>
<p>If TRUE, removes consumption and price where price == 0. Default value is FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replfree</code></td>
<td>
<p>Optionally replaces price == 0 with specified value. Note, if fitting using equation == "hs", and 0 is first price, 0 gets replaced by replfree. Default value is .01</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rem0</code></td>
<td>
<p>If TRUE, removes all 0s in consumption data prior to analysis. Default value is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrepl</code></td>
<td>
<p>Number of zeros to replace with replacement value (replnum). Can accept either a number or "all" if all zeros should be replaced. Default is to replace the first zero only.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replnum</code></td>
<td>
<p>Value to replace zeros. Default is .01</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotcurves</code></td>
<td>
<p>Boolean whether to create plot. If TRUE, a "plots/" directory is created one level above working directory. Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Character string of length 1. Accepts "Mean" to fit to mean data or "Pooled" to fit to pooled data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indpoints</code></td>
<td>
<p>Boolean whether to plot individual points in gray. Default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vartext</code></td>
<td>
<p>Character vector specifying indices to report on plots. Valid indices include "Q0d", "Alpha", "Q0e", "EV", "Pmaxe", "Omaxe", "Pmaxd", "Omaxd", "K", "Q0se", "Alphase", "R2", "AbsSS"</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Data frame
</p>


<h3>Author(s)</h3>

<p>Brent Kaplan &lt;bkaplan.ku@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Fit aggregated data (mean only) using Hursh &amp; Silberberg, 2008 equation with a k fixed at 2
FitMeanCurves(apt[sample(apt$id, 5), ], "hs", k = 2, method = "Mean")
</code></pre>


</div>