<div class="container">

<table style="width: 100%;"><tr>
<td>DS.macro.inf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Execute MacroInference (mean or mode) on a DS object
</h2>

<h3>Description</h3>

<p>A function that generates macro-estimates with their uncertainty (standard error).</p>


<h3>Usage</h3>

<pre><code class="language-R">DS.macro.inf(DS.GF.obj, num.modes = 1, 
             method = c("mean", "mode"), 
             iters = 25, exposure = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>DS.GF.obj</code></td>
<td>
<p>Object from <code>DS.prior</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.modes</code></td>
<td>
<p>The number of modes indicated by <code>DS.prior</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Returns mean or mode(s) (based on user choice) along with the associated standard error(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iters</code></td>
<td>
<p>Integer value of total number of iterations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exposure</code></td>
<td>
<p>In the case where <code>DS.GF.obj</code> is from a Poisson family with exposure, <code>exposure</code> is the vector of exposures.  Otherwise, the default is <code>NULL</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>DS.GF.macro.obj</code></td>
<td>
<p>Object of class <code>DS.GF.macro</code> associated with either mean or mode.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model.modes</code></td>
<td>
<p>For <code>method = "mode"</code>, returns mode(s) of estimated DS prior.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode.sd</code></td>
<td>
<p>For <code>method = "mode"</code>, provides the bootstrapped standard error for each mode.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boot.modes</code></td>
<td>
<p>For <code>method = "mode"</code>, returns all generated mode(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model.mean</code></td>
<td>
<p>For <code>method = "mean"</code>, returns mean of estimated DS prior.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean.sd</code></td>
<td>
<p>For <code>method = "mean"</code>, provides the bootstrapped standard error for the mean.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boot.mean</code></td>
<td>
<p>For <code>method = "mean"</code>, returns all generated means.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prior.fit</code></td>
<td>
<p>Fitted values of estimated prior imported from the <code>DS.prior</code> object.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Doug Fletcher, Subhadeep Mukhopadhyay</p>


<h3>References</h3>

<p>Mukhopadhyay, S. and Fletcher, D., 2018. "Generalized Empirical Bayes via Frequentist Goodness of Fit," <em>Nature Scientific Reports</em>, 8(1), p.9983, <a href="https://www.nature.com/articles/s41598-018-28130-5">https://www.nature.com/articles/s41598-018-28130-5</a>.</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
### MacroInference: Mode
data(rat)
rat.start &lt;- gMLE.bb(rat$y, rat$n)$estimate
rat.ds &lt;- DS.prior(rat, max.m = 4, rat.start. family = "Binomial")
rat.ds.macro &lt;- DS.macro.inf(rat.ds, num.modes = 2, method = "mode", iters = 5)
rat.ds.macro
plot(rat.ds.macro)
### MacroInference: Mean
data(ulcer)
ulcer.start &lt;- gMLE.nn(ulcer$y, ulcer$se)$estimate
ulcer.ds &lt;- DS.prior(ulcer, max.m = 4, ulcer.start)
ulcer.ds.macro &lt;- DS.macro.inf(ulcer.ds, num.modes = 1, method = "mean", iters = 5)
ulcer.ds.macro
plot(ulcer.ds.macro)
## End(Not run)
</code></pre>


</div>