<div class="container">

<table style="width: 100%;"><tr>
<td>ccf_plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cross-correlation analysis.</h2>

<h3>Description</h3>

<p>Plot the results of cross-correlation analysis using <code>ggplot2</code>
(rather than R base plot) for more flexible modification of the plot.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ccf_plot(
  formula,
  data,
  lag.max = 30,
  sig.level = 0.05,
  xbreaks = seq(-100, 100, 10),
  ybreaks = seq(-1, 1, 0.2),
  ylim = NULL,
  alpha.ns = 1,
  pos.color = "black",
  neg.color = "black",
  ci.color = "blue",
  title = NULL,
  subtitle = NULL,
  xlab = "Lag",
  ylab = "Cross-Correlation"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>Model formula like <code>y ~ x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag.max</code></td>
<td>
<p>Maximum time lag. Defaults to <code>30</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig.level</code></td>
<td>
<p>Significance level. Defaults to <code>0.05</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xbreaks</code></td>
<td>
<p>X-axis breaks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ybreaks</code></td>
<td>
<p>Y-axis breaks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>Y-axis limits. Defaults to <code>NULL</code> to automatically estimate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.ns</code></td>
<td>
<p>Color transparency (opacity: 0~1) for non-significant values.
Defaults to <code>1</code> for no transparency (i.e., opaque color).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pos.color</code></td>
<td>
<p>Color for positive values. Defaults to <code>"black"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>neg.color</code></td>
<td>
<p>Color for negative values. Defaults to <code>"black"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.color</code></td>
<td>
<p>Color for upper and lower bounds of significant values.
Defaults to <code>"blue"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>Plot title. Defaults to an illustration of the formula.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subtitle</code></td>
<td>
<p>Plot subtitle.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>X-axis title. Defaults to <code>"Lag"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>Y-axis title. Defaults to <code>"Cross-Correlation"</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Significant correlations with <em>negative time lags</em> suggest
shifts in a predictor <em>precede</em> shifts in an outcome.
</p>


<h3>Value</h3>

<p>A <code>gg</code> object, which you can further modify using
<code>ggplot2</code> syntax and save using <code>ggsave()</code>.
</p>


<h3>See Also</h3>

<p><code>granger_test</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># resemble the default plot output by `ccf()`
p1 = ccf_plot(chicken ~ egg, data=lmtest::ChickEgg)
p1

# a more colorful plot
p2 = ccf_plot(chicken ~ egg, data=lmtest::ChickEgg, alpha.ns=0.3,
              pos.color="#CD201F",
              neg.color="#21759B",
              ci.color="black")
p2

</code></pre>


</div>