<div class="container">

<table style="width: 100%;"><tr>
<td>filter_vpts</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Filter a time series of vertical profiles ('vpts') by a start and end time.
Use argument night = TRUE to select only time stamps between sunset and sunrise,
or night = FALSE to select daytime (sunrise to sunset). Selection for night and day uses
<code>check_night()</code>.</h2>

<h3>Description</h3>

<p>Filter a time series of vertical profiles ('vpts') by a start and end time.
Use argument night = TRUE to select only time stamps between sunset and sunrise,
or night = FALSE to select daytime (sunrise to sunset). Selection for night and day uses
<code>check_night()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">filter_vpts(x, min, max, nearest, night, elev = -0.268, offset = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>vpts</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min</code></td>
<td>
<p>POSIXct date or character. Minimum datetime to be included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max</code></td>
<td>
<p>POSIXct date or character. Datetime up to this maximum included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nearest</code></td>
<td>
<p>POSIXct date or character. If specified, <code>min</code> and <code>max</code> are
ignored and the profile (<code>vp</code>) nearest to the specified datetime is
returned that matches the day/night selection criteria.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>night</code></td>
<td>
<p>When <code>TRUE</code> selects only nighttime profiles, when <code>FALSE</code>
selects only daytime profiles, as classified by <code>check_night()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>elev</code></td>
<td>
<p>Numeric (vector). Sun elevation in degrees defining nighttime.
May also be a numeric vector of length two, with first element giving
sunset elevation, and second element sunrise elevation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>Numeric (vector). Time duration in seconds by which to shift
the start and end of nighttime. May also be a numeric vector of length two,
with first element added to moment of sunset and second element added to
moment of sunrise. See <code>check_night()</code> for details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Returns profiles for which min &lt;= timestamp profile &lt; max. Selection for night and day
occurs by check_night.
</p>


<h3>Value</h3>

<p>A <code>vpts</code> object, or a <code>vp</code> object when <code>nearest</code> is specified.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code>summary.vpts()</code>
</p>
</li>
<li> <p><code>check_night()</code>
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R"># Select profiles later than 02 Sep 2016

# Select the profile nearest to 2016-09-01 03:00 UTC
filter_vpts(example_vpts, nearest = "2016-09-01 03:00")

# Select profiles between than 01:00 and 03:00 UTC on 02 Sep 2016
filter_vpts(example_vpts, min = "2016-09-02 01:00", max = "2016-09-02 03:00")

# Select daytime profiles (i.e. profiles between sunrise and sunset)
filter_vpts(example_vpts, night = FALSE)

# Select nighttime profiles, with nights starting and ending at
# civil twilight (when the sun is 6 degrees below the horizon)
filter_vpts(example_vpts, night = TRUE, elev = -6)

# Select nighttime profiles from 3h after sunset to 2h before sunrise
filter_vpts(example_vpts, night = TRUE, offset = c(3, -2)*3600)

</code></pre>


</div>