<div class="container">

<table style="width: 100%;"><tr>
<td>R2txtJG</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Save a transcript of commands and/or output to a text file. </h2>

<h3>Description</h3>

<p>These functions save a transcript of your commands and their output to
a script file.
</p>
<p>They work as combinations of <code>sink</code> and <code>history</code> with a
couple of extra bells and whistles.
</p>


<h3>Usage</h3>

<pre><code class="language-R">txtStart(file, commands=TRUE, results=TRUE, append=FALSE, cmdfile,
          visible.only=TRUE)

txtOut(Filename=NULL)

txtStop()

txtComment(txt,cmdtxt)

txtSkip(expr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p> Text file to save transcript in </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Filename</code></td>
<td>
<p>A filename to be given for the <code>txtOut</code> command. If this is not specified, the user will be prompted for a filename. If the user presses the enter key, a filename will be automatically generated that is based on the current date and time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>commands</code></td>
<td>
<p> Logical, should the commands be echoed to the
transcript file </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>results</code></td>
<td>
<p> Logical, should the results be saved in the transcript
file </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p> Logical, should we append to <code>file</code> or replace it </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cmdfile</code></td>
<td>
<p> A filename to store commands such that it can be
<code>source</code>d or copied and pasted from </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>visible.only</code></td>
<td>
<p> Should non-printed output be included, not
currently implemented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>txt</code></td>
<td>
<p>Text of a comment to be inserted into <code>file</code> </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cmdtxt</code></td>
<td>
<p>Text of a comment to be inserted into <code>cmdfile</code> </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>An expression to be executed without being included in
<code>file</code> or <code>cmdfile</code> </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions are used to create transcript/command files of your R
session.  In the original <span class="pkg">TeachingDemos</span> package from which the functions were obtained, there are 3 sets of functions. Those starting with
"txt",those starting with "etxt", and those starting with
wdtxt.  
</p>
<p>The "txt" functions
create a plain text transcript while the "etxt" functions
create a text file with extra escapes and commands so that it
can be post processed with enscript (an external program) to
create a postscript file and can include graphics as well.  The
postscript file can be converted to pdf or other format file.
The "wdtxt" functions will insert the commands and results into
a Microsoft Word document. 
</p>
<p>Users wishing to have the additional functionality that the "etxt" and "wdtxt" functions provide are advised to make use of the <span class="pkg">TeachingDemos</span> package.
</p>
<p>If <code>results</code> is TRUE and <code>commands</code> is FALSE then the result
is similar to the results of <code>sink</code>.  If <code>commands</code>
is true as well then the results will show both the commands
and results similar to the output on the screen.  If both
<code>commands</code> and <code>results</code> are FALSE then pretty much
the only thing these functions will accomplish is to waste some
computing time.
</p>
<p>If <code>cmdfile</code> is
specified then an additional file is created with the commands
used (similar to the <code>history</code> command), this file can be
used with <code>source</code> or copied and
pasted to the terminal.
</p>
<p>The Start function specifies the file/directory to create and
starts the transcript, 
The prompts are changed to remind you
that the commands/results are being copied to the transcript.
The Stop function stops the recording and resets the prompts.
</p>
<p>The txtOut function is a short cut for the txtStart command that uses the current date and time in the filenames for the transcript and command files. This function is not part of the <span class="pkg">TeachingDemos</span> package.
</p>
<p>The R parser strips comments and does some reformatting so the
transcript file may not match exactly with the terminal
output.  Use the <code>txtComment</code> functions to add a comment.  This will show up as a line offset
by whitespace in the transcript file.
If <code>cmdtxt</code> is specified then that line
will be inserted into <code>cmdfile</code> preceded by a hash symbol  so it
will be skipped if sourced or copied.
</p>
<p>The <code>txtSkip</code>  function will run the
code in <code>expr</code> but will not include the commands or
results in the transcript file (this can be used for side
computations, or requests for help, etc.).
</p>


<h3>Value</h3>

<p>Most of these commands do not return anything of use.  The exception is:
</p>
<p><code>txtSkip</code> returns the value of <code>expr</code>.
</p>


<h3>Note</h3>

<p>These commands do not do any fancy formatting of output, just what you
see in the regular terminal window.  If you want more formatted output
then you should look into <code>Sweave</code> or the use of markdown documents..
</p>
<p>Do not use these functions in combination with the <span class="pkg">R2HTML</span> package or <code>sink</code>.
</p>


<h3>Author(s)</h3>

<p> Greg Snow, <a href="mailto:greg.snow@imail.org">greg.snow@imail.org</a> is the original author, but Jonathan Godfrey <a href="mailto:a.j.godfrey@massey.ac.nz">a.j.godfrey@massey.ac.nz</a> is responsible for the implementation in the <span class="pkg">BrailleR</span> package (including the <code>txtOut()</code> function), and should therefore be your first point of contact with any problems. If you find the functions useful, you may wish to send  a vote of thanks in Greg's direction.</p>


<h3>See Also</h3>

<p><code>sink</code>, <code>history</code>,
<code>Sweave</code>, the odfWeave package, the R2HTML package, the
R2wd package </p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
txtStart()
txtComment('This is todays transcript')
date()
x &lt;- rnorm(25)
summary(x)
stem(x)
txtSkip(?hist)
hist(x)
Sys.Date()
Sys.time()

## End(Not run)
</code></pre>


</div>