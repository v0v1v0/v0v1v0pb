<div class="container">

<table style="width: 100%;"><tr>
<td>prepare_test_message</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prepare a email test message object</h2>

<h3>Description</h3>

<p>Create an email test message object, which is helpful for sending a test
message with the <code>smtp_send()</code> function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">prepare_test_message(incl_ggplot = FALSE, incl_image = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>incl_ggplot</code></td>
<td>
<p>An option to include a ggplot plot within the body of the
test message. This requires that the <span class="pkg">ggplot2</span> package is installed. By
default, this is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>incl_image</code></td>
<td>
<p>An option to include a test image within the body of the
test message. By default, this is <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An <code>email_message</code> object.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Create a credentials file to send
# a test message via Gmail's SMTP
# (this file is named "gmail_secret")

# create_smtp_creds_file(
#   file = "gmail_secret",
#   user = "sender@email.com",
#   provider = "gmail"
# )

# Send oneself a test message to
# test these new SMTP settings and
# to ensure that the message appears
# correctly in the email client

# prepare_test_message() %&gt;%
#   smtp_send(
#     from = "sender@email.com",
#     to = "sender@email.com",
#     subject = "Test Message",
#     credentials = creds_file(
#       file = "gmail_secret"
#       )
#     )

</code></pre>


</div>