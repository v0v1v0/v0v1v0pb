<div class="container">

<table style="width: 100%;"><tr>
<td>benchr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>High Precise Measurement of R Expressions Execution Time</h2>

<h3>Description</h3>

<p>Package <span class="pkg">benchr</span> provides an infrastructure (framework) for precise
measurement of R expressions execution time.
</p>


<h3>Details</h3>

<p>To measure execution time, <span class="pkg">benchr</span> provides function
<code>benchmark()</code>, as well as a number of additional methods for
analysis and representation of results.
</p>
<p>For precise time measurement we use a cross-platform monotone clock, provided
by C++11 standard in header file <code>chrono</code>. The timer accuracy depends on the
implementation by the compiler in use, the OS and the hardware. Most
commonly, the precision is one micro- or nanosecond. We provide the
opportunity to get the timer accuracy (time interval between two consecutive
timer ticks) via function <code>timer_precision()</code>. This accuracy is
also listed in the output of implicit or explicit <code>print</code> call.
</p>
<p>We estimate the timer overhead before the actual measurement by running
multiple (<code>2*10^5</code> by default) calls to an empty function. By doing that, we not
only estimate the overhead, but also produce a warm-up effect on the
processor, taking it out from idle state. After the actual measurement
results are adjusted by the timer overhead.
</p>
<p>Time intervals are measured in seconds and stored as <code style="white-space: pre;">⁠long double⁠</code>,
which lets us capture a wide range of possible values from
<code>.Machine$double.xmin</code> to <code>.Machine$double.xmax</code>. This is quite
enough to operate both within very small (nanoseconds) and very big time
frames (e.g. the maximum time interval possible is
<code>.Machine$double.xmax / 3600</code> hours).
</p>
<p>It should be noted that the R session is not an isolated container with
strictly bounded resources, therefore the execution time can be influenced by
various factors, which may lead to outliers. In order to increase measurement
reliability, we repeat executions multiple times (100 repetitions for each
expression by default). This approach allows to collect enough data for
statistical analysis in time difference.
</p>
<p>We have also implemented several execution regimes in order to minimize the
probability of systematic errors in measurements. By default, a random order
of execution is being used. There is also a block order of execution, when
the first expression is repeated a fixed number of times, then the second and
so on. In such regime one can decrease the influence of allocators and
garbage collection, since the memory is allocated only at the beginning of
each block. The third option is to execute expressions in the order, provided
by the user.
</p>
<p>Note that we do not make any checks regarding return objects, i.e. one can
compare not only algorithms with the same result, but also the same algorithm
with different input parameters (e.g. input data sets of different size).
</p>
<p>We also do not check whether the expressions are <code>language</code> objects (see
<code>is.language()</code>) and do not coerce to that type.
</p>


<h3>Package options</h3>

<p>accessible through function arguments. We allow to modify these parameters
via package options. We have tried to set optimal default values, which you
may consider changing in some cases. Here's a complete list of package options:
</p>

<dl>
<dt><span class="option">benchr.warmup</span></dt>
<dd>
<p>Number of iterations for timer overhead
estimation (<code>2*10^5</code> by default).</p>
</dd>
<dt><span class="option">benchr.print_details</span></dt>
<dd>
<p>Whether additional information
on the measurement parameters should be displayed (<code>FALSE</code> by default).</p>
</dd>
<dt><span class="option">benchr.use_ggplot</span></dt>
<dd>
<p>Whether <span class="pkg">ggplot2</span> package should be
used to produce plots, if the package is installed (<code>TRUE</code> by default).</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Artem Klevtsov <a href="mailto:a.a.klevtsov@gmail.com">a.a.klevtsov@gmail.com</a> (<a href="https://orcid.org/0000-0003-0492-6647">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li>
<p> Anton Antonov <a href="mailto:tonytonov@gmail.com">tonytonov@gmail.com</a> [contributor]
</p>
</li>
<li>
<p> Philipp Upravitelev <a href="mailto:upravitelev@gmail.com">upravitelev@gmail.com</a> [contributor]
</p>
</li>
</ul>
<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://gitlab.com/artemklevtsov/benchr">https://gitlab.com/artemklevtsov/benchr</a>
</p>
</li>
<li>
<p> Report bugs at <a href="https://gitlab.com/artemklevtsov/benchr/issues">https://gitlab.com/artemklevtsov/benchr/issues</a>
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R"># Benchmark expressions
res &lt;- benchmark(
  rep(1:10, each = 10),
  rep.int(1:10, rep.int(10, 10))
)
# Aggregated statistics
mean(res)
summary(res)
# Plot results
boxplot(res)
</code></pre>


</div>