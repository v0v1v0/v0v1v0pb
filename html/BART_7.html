<div class="container">

<table style="width: 100%;"><tr>
<td>bartModelMatrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a matrix out of a vector or data.frame</h2>

<h3>Description</h3>

<p>The external BART functions operate on matrices in memory.  Therefore,
if the user submits a vector or data.frame, then this function converts
it to a matrix.  Also, it determines the number of cutpoints necessary
for each column when asked to do so.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bartModelMatrix(X, numcut=0L, usequants=FALSE, type=7,
                rm.const=FALSE, cont=FALSE, xinfo=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>A vector or data.frame to create the matrix from. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numcut</code></td>
<td>
<p>The maximum number of cutpoints to consider.
If <code>numcut=0</code>, then just return a matrix; otherwise,
return a list containing a matrix <code>X</code>, a vector <code>numcut</code>
and a list <code>xinfo</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>usequants</code></td>
<td>
<p> If <code>usequants</code> is <code>FALSE</code>, then the
cutpoints in <code>xinfo</code> are generated uniformly; otherwise,
if <code>TRUE</code>, then quantiles are used for the cutpoints. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p> Determines which quantile algorithm is employed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rm.const</code></td>
<td>
<p> Whether or not to remove constant variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cont</code></td>
<td>
<p> Whether or not to assume all variables are continuous.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xinfo</code></td>
<td>
<p> You can provide the cutpoints to BART or let BART
choose them for you.  To provide them, use the <code>xinfo</code>
argument to specify a list (matrix) where the items (rows) are the
covariates and the contents of the items (columns) are the
cutpoints.  </p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>class.ind</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
set.seed(99)

a &lt;- rbinom(10, 4, 0.4)

table(a)

x &lt;- runif(10)

df &lt;- data.frame(a=factor(a), x=x)

b &lt;- bartModelMatrix(df)

b

b &lt;- bartModelMatrix(df, numcut=9)

b

b &lt;- bartModelMatrix(df, numcut=9, usequants=TRUE)

b

## Not run: 
    f &lt;- bartModelMatrix(as.character(a))

## End(Not run)
</code></pre>


</div>