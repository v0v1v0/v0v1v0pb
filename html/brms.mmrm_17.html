<div class="container">

<table style="width: 100%;"><tr>
<td>brm_marginal_draws_average</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Average marginal MCMC draws across time points.</h2>

<h3>Description</h3>

<p>Simple un-weighted arithmetic mean of
marginal MCMC draws across time points.
</p>


<h3>Usage</h3>

<pre><code class="language-R">brm_marginal_draws_average(draws, data, times = NULL, label = "average")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>draws</code></td>
<td>
<p>List of posterior draws from <code>brm_marginal_draws()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A classed data frame from <code>brm_data()</code>, or an informative
prior archetype from a function like <code>brm_archetype_successive_cells()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>Character vector of discrete time point levels
over which to average the MCMC samples within treatment group levels.
Set to <code>NULL</code> to average across all time points. Levels are automatically
sanitized with <code>make.names(unique = FALSE, allow_ = TRUE)</code> to ensure
agreement with <code>brms</code> variable names in downstream computations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>Character of length 1, time point label for the averages.
Automatically sanitized with <code>make.names(unique = FALSE, allow_ = TRUE)</code>.
Must not conflict with any existing time point labels in the data
after the label and time points are sanitized.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A named list of tibbles of MCMC draws of the marginal posterior
distribution of each treatment group and time point
(or group-by-subgroup-by-time, if applicable).
See <code>brm_marginal_draws()</code> for the full details of the return value.
The only difference is that <code>brm_marginal_draws_average()</code> returns
a single pseudo-time-point to represent the average across
multiple real time points.
</p>


<h3>Separation string</h3>

<p>Post-processing in <code>brm_marginal_draws()</code> names each of the
group-by-time marginal means with the delimiting character string
from <code>Sys.getenv("BRM_SEP", unset = "|")</code>. Neither the column names
nor element names of the group and time variables can contain
this string. To set a custom string yourself, use
<code>Sys.setenv(BRM_SEP = "YOUR_CUSTOM_STRING")</code>.
</p>


<h3>See Also</h3>

<p>Other marginals: 
<code>brm_marginal_data()</code>,
<code>brm_marginal_draws()</code>,
<code>brm_marginal_grid()</code>,
<code>brm_marginal_probabilities()</code>,
<code>brm_marginal_summaries()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (identical(Sys.getenv("BRM_EXAMPLES", unset = ""), "true")) {
set.seed(0L)
data &lt;- brm_data(
  data = brm_simulate_simple()$data,
  outcome = "response",
  group = "group",
  time = "time",
  patient = "patient",
  reference_group = "group_1",
  reference_time = "time_1"
)
formula &lt;- brm_formula(
  data = data,
  baseline = FALSE,
  baseline_time = FALSE
)
tmp &lt;- utils::capture.output(
  suppressMessages(
    suppressWarnings(
      model &lt;- brm_model(
        data = data,
        formula = formula,
        chains = 1,
        iter = 100,
        refresh = 0
      )
    )
  )
)
draws &lt;- brm_marginal_draws(data = data, formula = formula, model = model)
brm_marginal_draws_average(draws = draws, data = data)
brm_marginal_draws_average(
  draws = draws,
  data = data,
  times = c("time_1", "time_2"),
  label = "mean"
)
}
</code></pre>


</div>