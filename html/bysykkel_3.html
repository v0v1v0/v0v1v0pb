<div class="container">

<table style="width: 100%;"><tr>
<td>get_api_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get real-time data from the city bike APIs in Norway</h2>

<h3>Description</h3>

<p><code>get_api_data</code> gets real-time data on bike availability, stations, and
system from the API for
</p>

<ul>
<li> <p><a href="https://oslobysykkel.no/en/open-data/realtime">Oslo City Bike</a>,
</p>
</li>
<li> <p><a href="https://bergenbysykkel.no/en/open-data/realtime">Bergen City Bike</a>
</p>
</li>
<li> <p><a href="https://trondheimbysykkel.no/en/open-data/realtime">Trondheim City Bike</a>
</p>
</li>
</ul>
<p>Please read the API documentation for each City Bike API before using
this function.
</p>
<p>The real-time data is provided in the GBFS (General Bikeshare Feed
Specification) format, which you can read more about on
<a href="https://github.com/NABSA/gbfs/blob/master/gbfs.md">here</a>.
</p>
<p>The data is provided according to the Norwegian License for Open Government
Data 2.0 <a href="https://data.norge.no/nlod/en/2.0">NLOD 2.0</a>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_api_data(client_id, data, city, return_df = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>client_id</code></td>
<td>
<p>A string. The string should represent a client identifier to access the
API. The client identifier must be of the form <code>"myname-myapp"</code> or
<code>"mycompany-myservice"</code>, such that the city bike service knows
who is accessing the API, and for what purpose(s). Please visit the website
of the API service that you want to access to learn how to correctly specify
the <code>client_id</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A string. The data that you want to get from the API. The options are
"availability", "stations", and "system".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>city</code></td>
<td>
<p>A string. The city, or city bike service API, that you want to get data
from. The options are "Oslo", "Bergen", or "Trondheim".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_df</code></td>
<td>
<p>Either <code>TRUE</code> or <code>FALSE</code>. Instructs the function on whether to
return only a tibble (if set to <code>TRUE</code>).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>return_df = FALSE</code>, then the function returns a <code>list</code> that
contains two elements: a data frame with the
"main" data, and the datetime (POSIX) for the API request. If
<code>return_df = TRUE</code>, then the function returns only a tibble.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# Get data on bike "availability"
oslo_api_data &lt;- get_api_data(client_id = "mycompany-myservice",
                              data      = "availability",
                              city      = "Oslo")

# Get data on bike "availability", but return a tibble
oslo_winter_bike &lt;- get_api_data(client_id = "myname-myapp",
                                 data      = "availability",
                                 city      = "Oslo",
                                 return_df = TRUE)


## End(Not run)

</code></pre>


</div>