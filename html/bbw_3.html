<div class="container">

<table style="width: 100%;"><tr>
<td>bootBW</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Blocked Weighted Bootstrap</h2>

<h3>Description</h3>

<p>The <strong>blocked weighted bootstrap (BBW)</strong> is an estimation technique for
use with data from two-stage cluster sampled surveys in which either prior
weighting (e.g. <strong>population proportional sampling</strong> or <strong>PPS</strong> as
used in <strong>SMART</strong> surveys) or posterior weighting (e.g. as used in
<strong>RAM</strong> and <strong>S3M</strong> surveys).
</p>


<h3>Usage</h3>

<pre><code class="language-R">bootBW(x, w, statistic, params, outputColumns, replicates = 400)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A data frame with primary sampling unit (PSU) in column named <code>psu</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>A data frame with primary sampling unit (PSU) in column named <code>psu</code>
and survey weight (i.e. PSU population) in column named <code>pop</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>statistic</code></td>
<td>
<p>A function operating on data in <code>x</code> (see example)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>Parameters (named columns in <code>x</code>) passed to the function
specified in <code>statistic</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outputColumns</code></td>
<td>
<p>Names of columns in output data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replicates</code></td>
<td>
<p>Number of bootstrap replicates</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame with:
</p>

<ul>
<li>
<p> ncol = length(outputColumns)
</p>
</li>
<li>
<p> nrow = replicates
</p>
</li>
<li>
<p> names = outputColumns
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R"># Example function - estimate a proportion for a binary (0/1) variable):

oneP &lt;- function(x, params) {
  v1 &lt;- params[1]
  v1Data &lt;- x[[v1]]
  oneP &lt;- mean(v1Data, na.rm = TRUE)
  return(oneP)
}

# Example call to bootBW function using RAM-OP test data:

bootP &lt;- bootBW(x = indicatorsHH,
                w = villageData,
                statistic = oneP,
                params = "anc1",
                outputColumns = "anc1",
                replicates = 9)

# Example estimate with 95% CI:

quantile(bootP, probs = c(0.500, 0.025, 0.975), na.rm = TRUE)

</code></pre>


</div>