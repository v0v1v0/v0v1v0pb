<div class="container">

<table style="width: 100%;"><tr>
<td>get.oc.comb</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate operating characteristics for drug combination trials</h2>

<h3>Description</h3>

<p>Obtain the operating characteristics of the BOIN design or waterfall design for drug combination
trials. The BOIN design is to find a MTD, and the waterfall design is to find the MTD contour
(i.e., multple MTDs in the dose matrix)
</p>


<h3>Usage</h3>

<pre><code class="language-R">get.oc.comb(target, p.true, ncohort, cohortsize, n.earlystop=NULL, startdose=c(1, 1),
                   titration=FALSE,p.saf=0.6*target, p.tox=1.4*target, cutoff.eli=0.95,
                   extrasafe=FALSE,offset=0.05, ntrial=1000, mtd.contour=FALSE,
                   boundMTD=FALSE, seed=6)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>the target DLT rate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.true</code></td>
<td>
<p>a <code>J*K</code> matrix <code>(J&lt;=K)</code> containing the true toxicity probabilities of
combinations with <code>J</code> dose levels of agent A and <code>K</code> dose levels of agent B</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncohort</code></td>
<td>
<p>a <code>1*J</code> vector specifying the number of cohorts for each of <code>J</code> subtrials
if <code>mtd.contour=TRUE</code>; Otherwise, a scalar specifying the total number of cohorts for
the trial.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cohortsize</code></td>
<td>
<p>the cohort size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.earlystop</code></td>
<td>
<p>the early stopping parameter. If the number of patients treated at the current
dose reaches <code>n.earlystop</code>, stop the trial or subtrial and select the MTD based on
the observed data. When the waterfall design is used to find the MTD contour,
<code>n.earlystop=12</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>startdose</code></td>
<td>
<p>the starting dose combination level for drug combination trial</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>titration</code></td>
<td>
<p>set <code>titration=TRUE</code> to perform dose escalation with cohort size = 1 to accelerate dose escalation at the begining of the trial.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.saf</code></td>
<td>
<p>the highest toxicity probability that is deemed subtherapeutic (i.e. below the MTD)
such that dose escalation should be undertaken.
The default value is <code>p.saf=0.6*target</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.tox</code></td>
<td>
<p>the lowest toxicity probability that is deemed overly toxic such that deescalation
is required. The default value is <code>p.tox=1.4*target</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff.eli</code></td>
<td>
<p>the cutoff to eliminate an overly toxic dose for safety. We recommend the
default value of (<code>cutoff.eli=0.95</code>) for general use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extrasafe</code></td>
<td>
<p>set <code>extrasafe=TRUE</code> to impose a more stringent stopping rule</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>a small positive number (between 0 and 0.5) to control how strict the stopping
rule is when <code>extrasafe=TRUE</code>. A larger value leads to a more strict stopping
rule. The default value <code>offset=0.05</code> generally works well.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ntrial</code></td>
<td>
<p>the total number of trials to be simulated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mtd.contour</code></td>
<td>
<p>set <code>mtd.contour=TRUE</code> to select the MTD contour (claiming multiple MTDs).
Otherwise, BOIN design is used to search for a single MTD.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boundMTD</code></td>
<td>
<p>set <code>boundMTD=TRUE</code> to impose the condition: the isotonic estimate of toxicity
probability for the selected MTD must be less than de-escalation boundary.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>the random seed for simulation</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The operating characteristics of the BOIN design or waterfall design are generated by
simulating trials under the prespecified true toxicity probabilities of the investigational dose
combinations. If <code>titration=TRUE</code>, we perform dose escalation with cohort size = 1 at the begining of the trial:
starting from <code>startdose</code>, if no toxicity is observed, we escalate the dose;
otherwise, the titration is completed and we switch to cohort size = <code>cohortsize</code>.
Titration accelerates the dose escalation and is useful when low doses are believed to be safe.
</p>
<p>The BOIN and waterfall designs have two built-in stopping rules:
(1) stop the trial/subtrial if the lowest dose is eliminated due to toxicity, and no dose should
be selected as the MTD; and (2) stop the trial/subtrial and select the MTD if the number of
patients treated at the current dose reaches <code>n.earlystop</code>. The first stopping rule is a safety
rule to protect patients from the case in which all doses are overly toxic. The rationale for
the second stopping rule is that when there is a large number (i.e., <code>n.earlystop</code>) of
patients assigned to a dose, it means that the dose-finding algorithm has approximately converged.
Thus, we can stop the trial/subtrial early and select the MTD to save sample size and reduce the
trial duration.
</p>
<p>For some applications, investigators may prefer a more strict safety stopping rule than rule
(1) for extra safety when the lowest dose is overly toxic.
This can be achieved by setting <code>extrasafe=TRUE</code>,
which imposes the following more strict safety stopping rule:
stop the trial if (i) the number of patients treated at the lowest dose <code>&gt;=3</code>,
and (ii) <code class="reqn">Pr(toxicity\ rate\ of\ the\ lowest\ dose &gt; \code{target} | data) &gt; \code{cutoff.eli}-\code{offset}</code>.
As a tradeoff, the strong stopping rule will decrease the MTD selection percentage
when the lowest dose actually is the MTD.
</p>


<h3>Value</h3>

<p><code>get.oc.comb()</code> returns the operating characteristics of the BOIN combination or
waterfall design as a list. For the BOIN combination design, including:
(1) true toxicity probability at each dose level (<code>$p.true</code>),
(2) selection percentage at each dose level (<code>$selpercent</code>),
(3) the number of patients treated at each dose level (<code>$npatients</code>)
(4) the number of toxicities observed at each dose level (<code>$ntox</code>),
(5) the total number of patients in the trial (<code>$totaln</code>),
(6) the total number of toxicities observed for the trial (<code>$totaltox</code>)
(7) the pecentage of correct selection (<code>$pcs</code>),
(8) the total percentage of patients treated at the MTD (<code>$npercent</code>).
(9) the percentage of early stopping without selecting the MTD (<code>$percentstop</code>)
For the the waterfall design, including:
(1) true toxicity probability at each dose level (<code>$p.true</code>),
(2) selection percentage of dose combinations (<code>$selpercent</code>),
(3) the number of patients treated at each dose combination (<code>$npatients</code>)
(4) the number of toxicities observed at each dose combination (<code>$ntox</code>),
(5) the total number of patients in the trial (<code>$totaln</code>),
(6) the total number of toxicities observed for the trial (<code>$totaltox</code>)
(7) the total percentage of correct selection at the MTD contour (<code>$pcs.contour</code>),
(8) the total percentage of patients treated at MTD contour
(<code>$npercent.contour</code>)
(9) the total percentage of patients treated above MTD contour
(<code>$npercent.above.contour</code>)
(10) the total percentage of patients treated below MTD contour
(<code>$npercent.below.contour</code>)
</p>


<h3>Note</h3>

<p>We should avoid setting the values of <code>p.saf</code> and <code>p.tox</code> very close to the
<code>target</code>. This is because the small sample sizes of typical phase I trials prevent us from
differentiating the target DLT rate from the rates close to it. The default values provided by
<code>get.oc()</code> are strongly recommended, and generally yield excellent operating characteristics.
</p>


<h3>Author(s)</h3>

<p>Suyu Liu, Liangcai Zhang, Yanhong Zhou, and Ying Yuan
</p>


<h3>References</h3>

<p>Liu S. and Yuan, Y. (2015). Bayesian Optimal Interval Designs for Phase I Clinical
Trials, <em>Journal of the Royal Statistical Society: Series C</em>, 64, 507-523.
</p>
<p>Lin R. and Yin, G. (2017). Bayesian Optimal Interval Designs for Dose Finding in
Drug-combination Trials, <em>Statistical Methods in Medical Research</em>, 26, 2155-2167.
</p>
<p>Yan, F., Zhang, L., Zhou, Y., Pan, H., Liu, S. and Yuan, Y. (2020).BOIN: An R Package
for Designing Single-Agent and Drug-Combination Dose-Finding Trials Using Bayesian Optimal
Interval Designs. <em>Journal of Statistical Software</em>, 94(13),1-32.&lt;doi:10.18637/jss.v094.i13&gt;.
</p>
<p>Zhang L. and Yuan, Y. (2016). A Simple Bayesian Design to Identify the Maximum
Tolerated Dose Contour for Drug Combination Trials, <em>Statistics in Medicine</em>, 35, 4924-4936.
</p>


<h3>See Also</h3>

<p>Tutorial: <a href="http://odin.mdacc.tmc.edu/~yyuan/Software/BOIN/BOIN2.6_tutorial.pdf">http://odin.mdacc.tmc.edu/~yyuan/Software/BOIN/BOIN2.6_tutorial.pdf</a>
</p>
<p>Paper: <a href="http://odin.mdacc.tmc.edu/~yyuan/Software/BOIN/paper.pdf">http://odin.mdacc.tmc.edu/~yyuan/Software/BOIN/paper.pdf</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
###### drug-combination trial ######

##### combination trial to find a single MTD  ######

## get the operating characteristics for BOIN design
p.true &lt;- matrix(c(0.01,0.03,0.10,0.20,0.30,
                 0.03,0.05,0.15,0.30,0.60,
                 0.08,0.10,0.30,0.60,0.75), byrow=TRUE, ncol=5)

oc.comb &lt;- get.oc.comb(target=0.3, p.true, ncohort=20, cohortsize=3,
   n.earlystop=12, startdose=c(1,1), ntrial=100)

summary(oc.comb)
plot(oc.comb)


## get the operating characteristics with titration for BOIN design
oc.comb &lt;- get.oc.comb(target=0.3, p.true, ncohort=20, cohortsize=3,
   n.earlystop=12, startdose=c(1,1), titration=TRUE, ntrial=100)
summary(oc.comb)
plot(oc.comb)


##### combination trial to find the MTD contour ######

## find the MTD contour using waterfall design
oc.comb &lt;- get.oc.comb(target=0.3, p.true, ncohort=c(10,5,5), cohortsize=3,
   n.earlystop=12, startdose=c(1,1), ntrial=100, mtd.contour=TRUE)

summary(oc.comb)
plot(oc.comb)

</code></pre>


</div>