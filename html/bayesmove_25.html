<div class="container">

<table style="width: 100%;"><tr>
<td>plot_breakpoints</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot breakpoints over a time series of each movement variable</h2>

<h3>Description</h3>

<p>Visualize the breakpoints estimated by the segmentation model as they relate
to either the original (continuous) or discretized data. These plots assist
in determining whether too many or too few breakpoints were estimated as well
as whether the user needs to redefine how they discretized their data before
analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_breakpoints(data, as_date = FALSE, var_names, var_labels = NULL, brkpts)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A list where each element stores a data frame for a given animal
ID. Each of these data frames contains columns for the ID, date or time1
generated by <code>filter_time</code>, as well as each of the movement
variables analyzed by <code>segment_behavior</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as_date</code></td>
<td>
<p>logical. If <code>TRUE</code>, plots breakpoints and data streams
over the date. By default, this is set to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_names</code></td>
<td>
<p>A vector of the column names for the movement variables to
be plotted over time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_labels</code></td>
<td>
<p>A vector of the labels to be plotted on the y-axis for each
movement variable.  Set to <code>NULL</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>brkpts</code></td>
<td>
<p>A data frame that contains the breakpoints associated with each
animal ID. This data frame is returned by <code>get_breakpts</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A line plot per animal ID for each movement variable showing how the estimated
breakpoints relate to the underlying data. Depending on the user input for
<code>var_names</code>, this may either be on the scale of the original
continuous data or the discretized data.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

#load data
data(tracks.list)

#subset only first track
tracks.list&lt;- tracks.list[1]

#only retain id and discretized step length (SL) and turning angle (TA) columns
tracks.list2&lt;- purrr::map(tracks.list,
                   subset,
                  select = c(id, SL, TA))


set.seed(1)

# Define model params
alpha&lt;- 1
ngibbs&lt;- 1000
nbins&lt;- c(5,8)

#future::plan(future::multisession)  #run all MCMC chains in parallel
dat.res&lt;- segment_behavior(data = tracks.list2, ngibbs = ngibbs, nbins = nbins,
                           alpha = alpha)


# Determine MAP iteration for selecting breakpoints and store breakpoints
MAP.est&lt;- get_MAP(dat = dat.res$LML, nburn = ngibbs/2)
brkpts&lt;- get_breakpts(dat = dat.res$brkpts, MAP.est = MAP.est)


#run function
plot_breakpoints(data = tracks.list, as_date = FALSE, var_names = c("step","angle"),
    var_labels = c("Step Length (m)", "Turning Angle (rad)"), brkpts = brkpts)


</code></pre>


</div>