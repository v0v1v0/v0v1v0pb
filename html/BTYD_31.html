<div class="container">

<table style="width: 100%;"><tr>
<td>bgnbd.ExpectedCumulativeTransactions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>BG/NBD Expected Cumulative Transactions</h2>

<h3>Description</h3>

<p>Calculates the expected cumulative total repeat transactions by all customers
for the calibration and holdout periods.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bgnbd.ExpectedCumulativeTransactions(
  params,
  T.cal,
  T.tot,
  n.periods.final,
  hardie = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>BG/NBD parameters - a vector with r, alpha, a, and b, in that
order. r and alpha are unobserved parameters for the NBD transaction
process. a and b are unobserved parameters for the Beta geometric dropout
process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T.cal</code></td>
<td>
<p>a vector to represent customers' calibration period lengths
(in other words, the "T.cal" column from a customer-by-sufficient-statistic
matrix).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T.tot</code></td>
<td>
<p>end of holdout period. Must be a single value, not a vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.periods.final</code></td>
<td>
<p>number of time periods in the calibration and
holdout periods. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hardie</code></td>
<td>
<p>if TRUE, use h2f1 instead of hypergeo.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function automatically divides the total period up into n.periods.final
time intervals. n.periods.final does not have to be in the same unit of time
as the T.cal data. For example: - if your T.cal data is in weeks, and you
want cumulative transactions per week, n.periods.final would equal T.star. -
if your T.cal data is in weeks, and you want cumulative transactions per day,
n.periods.final would equal T.star * 7.
</p>
<p>The holdout period should immediately follow the calibration period. This
function assume that all customers' calibration periods end on the same date,
rather than starting on the same date (thus customers' birth periods are
determined using max(T.cal) - T.cal rather than assuming that it is 0).
</p>


<h3>Value</h3>

<p>Vector of expected cumulative total repeat transactions by all
customers.
</p>


<h3>See Also</h3>

<p><code>bgnbd.Expectation</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(cdnowSummary)

cal.cbs &lt;- cdnowSummary$cbs
# cal.cbs already has column names required by method

params &lt;- c(0.243, 4.414, 0.793, 2.426)

# Returns a vector containing cumulative repeat transactions for 273 days.
# All parameters are in weeks; the calibration period lasted 39 weeks.
bgnbd.ExpectedCumulativeTransactions(params,
                                     T.cal = cal.cbs[,"T.cal"],
                                     T.tot = 39,
                                     n.periods.final = 273,
                                     hardie = TRUE)
</code></pre>


</div>