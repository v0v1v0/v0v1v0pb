<div class="container">

<table style="width: 100%;"><tr>
<td>update_model.bgmfit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Update model</h2>

<h3>Description</h3>

<p>The <strong>update_model()</strong> is a wrapper around the
<code>update()</code> function in the <span class="pkg">brms</span> package which refits the model
as per the user specified updated arguments.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'bgmfit'
update_model(
  model,
  newdata = NULL,
  recompile = NULL,
  expose_function = FALSE,
  verbose = FALSE,
  check_newargs = FALSE,
  envir = NULL,
  ...
)

update_model(model, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>An object of class <code>bgmfit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>An optional <code>data.frame</code> to be used when updating the
model. If <code>NULL</code> (default), the data used in the original model fit is
re used. Note that data-dependent default priors are not updated
automatically.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recompile</code></td>
<td>
<p>A logical to indicate whether the Stan model should be
recompiled. When <code>NULL</code> (default), <strong>update_model()</strong> tries to
figure out internally whether recompilation is required or not. Setting
<code>recompile</code> to <code>FALSE</code> will ignore Stan code changing arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expose_function</code></td>
<td>
<p>An optional logical argument to indicate whether to
expose Stan functions (default <code>FALSE</code>). Note that if user has already
exposed Stan functions during model fit by setting <code>expose_function =
  TRUE</code> in the <code>bsitar()</code>, then those exposed functions are saved and can be
used during post processing of the posterior draws and therefore
<code>expose_function</code> is by default set as <code>FALSE</code> in all post
processing functions except <code>optimize_model()</code>. For <code>optimize_model()</code>, the
default setting is <code>expose_function = NULL</code>. The reason is that each
optimized model has different Stan function and therefore it need to be re
exposed and saved. The <code>expose_function = NULL</code> implies that the
setting for <code>expose_function</code> is taken from the original <code>model</code>
fit. Note that <code>expose_function</code> must be set to <code>TRUE</code> when
adding <code>fit criteria</code> and/or <code>bayes_R2</code> during model
optimization.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>An optional argument (logical, default <code>FALSE</code>) to
indicate whether to print information collected during setting up the
object(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_newargs</code></td>
<td>
<p>A logical (default <code>FALSE</code>) to check whether
arguments in the original <code>model</code> fit and the <code>update_model</code> are
same. When <code>check_newargs = TRUE</code> and arguments are same, it implies
that update is not needed and hence the original <code>model</code> object is
returned along with the message if <code>verbose = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envir</code></td>
<td>
<p>Environment used for function evaluation. The default is
<code>NULL</code> which will set <code>parent.frame()</code> as default environment.
Note that since most of post processing functions are based on <span class="pkg">brms</span>,
the functions needed for evaluation should be in the <code>.GlobalEnv</code>.
Therefore, it is strongly recommended to set <code> envir = globalenv()</code>
(or <code>envir = .GlobalEnv</code>). This is particularly true for the
derivatives such as velocity curve.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed to <code>brms</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is an adapted version of the <strong>update()</strong> function from
available the the<span class="pkg">brms</span> package.
</p>


<h3>Value</h3>

<p>An updated object of class <code>brmsfit</code>.
</p>


<h3>Author(s)</h3>

<p>Satpal Sandhu  <a href="mailto:satpal.sandhu@bristol.ac.uk">satpal.sandhu@bristol.ac.uk</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">


# Fit Bayesian SITAR model 

# To avoid mode estimation which takes time, the Bayesian SITAR model fit to 
# the 'berkeley_exdata' has been saved as an example fit ('berkeley_exfit').
# See 'bsitar' function for details on 'berkeley_exdata' and 'berkeley_exfit'.

# Check and confirm whether model fit object 'berkeley_exfit' exists
 berkeley_exfit &lt;- getNsObject(berkeley_exfit)

model &lt;- berkeley_exfit

# Update model
# Note that in case all arguments supplied to the update_model() call are 
# same as the original model fit (checked via check_newargs = TRUE), then  
# original model object is returned.   
# To explicitly get this information whether model is being updated or not, 
# user can set verbose = TRUE. The verbose = TRUE also useful in getting the
# information regarding what all arguments have been changed as compared to
# the original model.

model2 &lt;- update_model(model, df = 5, check_newargs = TRUE, verbose = TRUE)



</code></pre>


</div>