<div class="container">

<table style="width: 100%;"><tr>
<td>boot.weights.stsrs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bootstrap Weights Methods for Survey Data</h2>

<h3>Description</h3>

<p>The function <code>boot.weights.stsrs</code> applies one of the following bootstrap weights methods on complete (full response) survey data selected under either SRSWOR or STSRSWOR: Rao, Wu and Yue (1992), Bertail and Combris (1997), Chipperfield and Preston (2007) and Beaumont and Patak (2012)
</p>


<h3>Usage</h3>

<pre><code class="language-R">boot.weights.stsrs(
  data,
  population.size,
  R,
  parameter = "total",
  bootstrap.method = "Rao.Wu.Yue",
  boot.sample.size = NULL,
  distribution.adjust = NULL,
  epsilon = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A vector, matrix or data frame. If it is a matrix or data frame then the column of study variable has to be named <code>study.variable</code>.  If the sampling design is STSRSWOR, a column identifying strata named <code>stratum</code> has to be included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>population.size</code></td>
<td>
<p>A vector of stratum population sizes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>The number of bootstrap replicates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameter</code></td>
<td>
<p>One of the following population parameters can be applied: <code>"total"</code> (population total), <code>"mean"</code> (population mean), <code>"quartile.25"</code> (population 1st quartile), <code>"quartile.50"</code> or <code>"median"</code> (population median) or <code>"quartile.75"</code> (population 3rd quartile). If the parameter of interest is the population mean or total, the HT-estimator is applied. If the parameter of interest is a population quartile, the estimator in Sarndal, Swensson, and Wretman (1992, Chapter 5) is applied. The default is the population total.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bootstrap.method</code></td>
<td>
<p>One of the following bootstrap methods can be applied: <code>"Rao.Wu.Yue"</code> (Rao, Wu and Yue, 1992),<code>"Bertail.Combris"</code> (Bertail and Combris, 1997), <code>"Chipperfield.Preston"</code> (Chipperfield and Preston, 2007) or <code>"Beaumont.Patak"</code> (Beaumont and Patak, 2012). The default is <code>"Rao.Wu.Yue"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boot.sample.size</code></td>
<td>
<p>A vector of bootstrap sample sizes within strata only required for the method of Rao, Wu and Yue (1992). The length of this vector has to be the same as the number of strata. The default is NULL. If the method of Rao, Wu and Yue (1992) is applied and <code>boot.sample.size</code> is not specified, the bootstrap sample size will be <code>nh-1</code> within each stratum, where <code>nh</code> is the original sample size within stratum <code>h</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distribution.adjust</code></td>
<td>
<p>The default is NULL. A distribution should be specified for the method of Bertail and Combris (1997) and Beaumont and Patak (2012) to generate the bootstrap weight adjustments if epsilon is NULL. One of the following distribution can be used: <code>"Normal"</code>, <code>"Lognormal"</code>, <code>"Exponential"</code> or <code>"Uniform"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epsilon</code></td>
<td>
<p>The default is NULL. If either Bertail and Combris (1997) or Beaumont and Patak (2012) is applied and <code>distribution.adjust</code> is NULL, a value must be given to epsilon so that Eq(5) in Beaumont and Patak (2012) can be used to generate the bootstrap weight adjustments.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>boot.statistic</code> A vector of bootstrap statistics
</p>
<p><code>boot.var</code> The bootstrap variance estimator of the estimator of parameter of interest.
</p>
<p><code>boot.mean</code> The average of the bootstrap estimator of the parameter of interest.
</p>
<p><code>boot.sample</code> A list of results for each iteration. That includes a column of original sample values, a column of bootstrap weight adjustments, a column of bootstrap weights and a column of stratum identifier.
</p>


<h3>References</h3>

<p>Beaumont, J.-F. and Patak, Z. (2012). On the generalized bootstrap for sample surveys with special attention to Poisson sampling. International Statistical Review 80 (1), 127–148.
</p>
<p>Bertail, P. and Combris, P. (1997). Bootstrap généralisé d’un sondage. Annales d’économie et de statistique 46, 49–83.
</p>
<p>Chipperfield, J. and Preston, J. (2007). Efficient bootstrap for business surveys. Survey Methodology 33 (2), 167–172.
</p>
<p>Rao, J. N. K., Wu, C. F. J. and Yue, K. (1992). Some recent work on resampling methods for complex surveys. Survey Methodology 18 (2), 209–217.
</p>
<p>Särndal, C.-E., Swensson, B. and Wretman, J. (1992). Model-Assisted Survey Sampling. NewYork: Springer.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
R&lt;- 20

data(data_samp_srs)
population_size&lt;- 6000
# The sampling fraction is about 30%.
# data_samp_srs is a sample taken from data_pop available in the package.

boot.RWY&lt;- boot.weights.stsrs(data_samp_srs, population_size, R)
boot.RWY$boot.var

boot.CP&lt;- boot.weights.stsrs(data_samp_srs, population_size, R,
           bootstrap.method="Chipperfield.Preston")
boot.CP$boot.var

boot.BP.med&lt;- boot.weights.stsrs(data_samp_srs, population_size, R,
               parameter="median", bootstrap.method="Beaumont.Patak",
               distribution.adjust="Exponential")
boot.BP.med$boot.var
boot.BP.med$boot.sample[[5]]


data(data_samp_stsrs)
population_size_st&lt;- c(4500, 6300, 3500, 2000, 1500)
# The overall sampling fraction is about 30%.
# data_samp_stsrs is a sample taken from data_pop_st available in the package.

boot.RWY.st&lt;- boot.weights.stsrs(data_samp_stsrs, population_size_st, R)
boot.RWY.st$boot.var
boot.RWY.st$boot.statistic



</code></pre>


</div>