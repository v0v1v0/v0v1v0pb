<div class="container">

<table style="width: 100%;"><tr>
<td>mcmc.PlotTrackingCum</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tracking Cumulative Transactions Plot for Pareto/GGG, Pareto/NBD (HB) and
Pareto/NBD (Abe)</h2>

<h3>Description</h3>

<p>Plots the actual and expected cumulative total repeat transactions by all
customers for the calibration and holdout periods, and returns this
comparison in a matrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mcmc.PlotTrackingCum(
  draws,
  T.cal,
  T.tot,
  actual.cu.tracking.data,
  xlab = "Week",
  ylab = "Cumulative Transactions",
  xticklab = NULL,
  title = "Tracking Cumulative Transactions",
  ymax = NULL,
  sample_size = 10000,
  covariates = NULL,
  legend = c("Actual", "Model")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>draws</code></td>
<td>
<p>MCMC draws as returned by <code>*.mcmc.DrawParameters</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T.cal</code></td>
<td>
<p>A vector to represent customers' calibration period lengths (in
other words, the <code>T.cal</code> column from a
customer-by-sufficient-statistic matrix). Considering rounding in order to
speed up calculations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T.tot</code></td>
<td>
<p>End of holdout period. Must be a single value, not a vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>actual.cu.tracking.data</code></td>
<td>
<p>A vector containing the cumulative number of
repeat transactions made by customers for each period in the total time
period (both calibration and holdout periods).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>Descriptive label for the x axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>Descriptive label for the y axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xticklab</code></td>
<td>
<p>A vector containing a label for each tick mark on the x axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>Title placed on the top-center of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ymax</code></td>
<td>
<p>Upper boundary for y axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample_size</code></td>
<td>
<p>Sample size for estimating the probability distribution.
See <code>mcmc.ExpectedCumulativeTransactions</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariates</code></td>
<td>
<p>(optional) Matrix of covariates, for Pareto/NBD (Abe)
model, passed to <code>abe.GenerateData</code> for simulating data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>plot legend, defaults to 'Actual' and 'Model'.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The expected transactions need to be sampled. Due to this sampling, the
return result varies from one call to another. Larger values of
<code>sample_size</code> will generate more stable results.
</p>


<h3>Value</h3>

<p>Matrix containing actual and expected cumulative repeat transactions.
</p>


<h3>See Also</h3>

<p><code>mcmc.PlotTrackingInc</code>
<code>mcmc.ExpectedCumulativeTransactions</code> <code>elog2cum</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data("groceryElog")
cbs &lt;- elog2cbs(groceryElog, T.cal = "2006-12-31")
cum &lt;- elog2cum(groceryElog)
param.draws &lt;- pnbd.mcmc.DrawParameters(cbs)
mat &lt;- mcmc.PlotTrackingCum(param.draws,
  T.cal = cbs$T.cal,
  T.tot = max(cbs$T.cal + cbs$T.star),
  actual.cu.tracking.data = cum)

## End(Not run)
</code></pre>


</div>