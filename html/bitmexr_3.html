<div class="container">

<table style="width: 100%;"><tr>
<td>bucket_trades</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bucketed trade data</h2>

<h3>Description</h3>

<p><code>bucket_trades()</code> retrieves open high low close (OHLC) data for the specified symbol/time frame.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bucket_trades(
  binSize = "1m",
  partial = "false",
  symbol = "XBTUSD",
  count = 1000,
  reverse = "true",
  filter = NULL,
  columns = NULL,
  start = NULL,
  startTime = NULL,
  endTime = NULL,
  use_auth = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>binSize</code></td>
<td>
<p>character string.
The time interval to bucket by, must be one of: <code>"1m"</code>, <code>"5m"</code>, <code>"1h"</code> or <code>"1d"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>partial</code></td>
<td>
<p>character string. Either <code>"true"</code> of <code>"false"</code>.
If <code>"true"</code>, will send in-progress (incomplete) bins for the current time period.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symbol</code></td>
<td>
<p>a character string for the instrument symbol.
Use <code>available_symbols()</code> to see available symbols.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>count</code></td>
<td>
<p>an optional integer to specify the number of rows to return.
Maximum of 1000 (the default) per request.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reverse</code></td>
<td>
<p>an optional character string. Either <code>"true"</code> of <code>"false"</code>.
If <code>"true"</code>, result will be ordered with starting with the newest (defaults to <code>"true"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter</code></td>
<td>
<p>an optional character string for table filtering.
Send JSON key/value pairs, such as <code>"{'key':'value'}"</code>. See examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>columns</code></td>
<td>
<p>an optional character vector of column names to return.
If <code>NULL</code>, all columns will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>an optional integer. Can be used to specify the starting point for results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>startTime</code></td>
<td>
<p>an optional character string.
Starting date for results in the format <code>"yyyy-mm-dd"</code> or <code>"yyyy-mm-dd hh-mm-ss"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endTime</code></td>
<td>
<p>an optional character string.
Ending date for results in the format <code>"yyyy-mm-dd"</code> or <code>"yyyy-mm-dd hh-mm-ss"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_auth</code></td>
<td>
<p>logical. Use <code>TRUE</code> to enable authentication with API key.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The API will only return 1000 rows per call. If the desired time frame requires more than one API call,
consider using <code>map_bucket_trades()</code>.
</p>


<h3>Value</h3>

<p><code>bucket_trades()</code> returns a <code>data.frame</code> containing:
</p>

<ul>
<li>
<p>timestamp: POSIXct. Date and time of trade.
</p>
</li>
<li>
<p>symbol: character. Instrument ticker.
</p>
</li>
<li>
<p>open: numeric. Opening price for the bucket.
</p>
</li>
<li>
<p>high: numeric. Highest price in the bucket.
</p>
</li>
<li>
<p>low: numeric. Lowest price in the bucket.
</p>
</li>
<li>
<p>close: numeric. Closing price of the bucket.
</p>
</li>
<li>
<p>trades: numeric. Number of trades executed within the bucket.
</p>
</li>
<li>
<p>volume: numeric. Volume in USD.
</p>
</li>
<li>
<p>vwap: numeric. Volume weighted average price.
</p>
</li>
<li>
<p>lastSize: numeric. Size of the last trade executed.
</p>
</li>
<li>
<p>turnover: numeric. How many satoshi were exchanged.
</p>
</li>
<li>
<p>homeNotional: numeric. BTC value of the bucket.
</p>
</li>
<li>
<p>foreignNotional: numeric. USD value of the bucket.
</p>
</li>
</ul>
<h3>References</h3>

<p>urlhttps://www.bitmex.com/api/explorer/#!/Trade/Trade_getBucketed
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# Return most recent data for symbol `"ETHUSD"` for 1 hour buckets

bucket_trades(
  binSize = "1h",
  symbol = "ETHUSD",
  count = 10
)

## End(Not run)
</code></pre>


</div>