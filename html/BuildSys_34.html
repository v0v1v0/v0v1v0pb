<div class="container">

<table style="width: 100%;"><tr>
<td>initProjectFromFolder</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Initialise an S4 <code>BSysProject</code> Instance based on a Project Folder
</h2>

<h3>Description</h3>

<p>Calling <code>initProjectFromFolder</code> initialises a project specification in an S4 <code>BSysProject</code> object instance. That
object instance can then be used to compile and debug the resulting shared library. A new <code>BSysProject</code> object instance
can be constructed by calling <code>new("BSysProject", ...)</code> where the argument list (...) is the same as for <code>initProjectFromFolder</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'BSysProject'
initProjectFromFolder(.Object,
                      WorkingFolder = "NULL",
                      Name = "",
                      SourceFiles = "NULL",
                      SourceName = "src",
                      IncludeName = "include",
                      ObjName = "obj",
                      InstallLibraryName = as.character(NULL),
                      InstallIncludeName = as.character(NULL),
                      Flat = TRUE,
                      Packages = as.character(c()),
                      Includes = as.character(c()),
                      Defines = as.character(c()),
                      Libraries = as.character(c()),
                      CFLAGS = as.character(c()),
                      CXXFLAGS = as.character(c()),
                      FFLAGS = as.character(c()),
                      LDFLAGS = as.character(c()),
                      LDLIBS = as.character(c()),
                      DEFINES = as.character(c()),
                      Debug = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.Object</code></td>
<td>

<p><code>.Object</code> is an S4 object instance of class <code>BSysProject</code> that the code project will be based off.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>WorkingFolder</code></td>
<td>

<p>The path to the root folder of the project, either relative or absolute and must be supplied.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Name</code></td>
<td>

<p>The name given to the project and will form the basename of the shared library.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SourceFiles</code></td>
<td>

<p>The a list of file names in WorkingFolder that should be compiled as part of the project or <code>NULL</code>. If <code>NULL</code> 
then all compilable source files in WorkingFolder are included. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SourceName</code></td>
<td>

<p>The sub-path / sub-drectory of the source folder (containing <code>.c</code>, <code>.cpp</code> files) in the project.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IncludeName</code></td>
<td>

<p>The sub-path / sub-drectory of the include folder (containing <code>.h</code>, <code>.hpp</code> files) in the project.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ObjName</code></td>
<td>

<p>The sub-path / sub-drectory of the object folder (containing the compiled <code>.o</code> files) in the project.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>InstallLibraryName</code></td>
<td>

<p>The sub-path / sub-drectory of the folder to install the compiled shared library to.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>InstallIncludeName</code></td>
<td>

<p>The sub-path / sub-drectory of the folder to install the shared library header files to.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Flat</code></td>
<td>

<p>A <code>Boolean</code> determining if the project is assumed <em>flat</em> or <em>heirarchical</em>. If <em>flat</em>
then all the source and include files are assumed to reside in the <code>WorkingFolder</code>, otherwise they
are assumed to be in the sub-folders descibed by the <code>SourceName</code>, <code>IncludeName</code> and <code>ObjName</code>
arguments.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Packages</code></td>
<td>

<p>A <code>string list</code> that names the packages that this library is depenedent on (C/C++ include dependencies)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Includes</code></td>
<td>

<p>A <code>string list</code> that contains the include paths of external dependencies of the library code
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Defines</code></td>
<td>

<p>A <code>string list</code> that contains preprocessor (<em>#defines</em>) defines required to compile the code
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Libraries</code></td>
<td>

<p>A <code>string list</code> that names the additional library dependencies needed to link the library. The format is as required
by <em>gcc</em>. For instance, <code>"-L/usr/local/lib -lexpat"</code> would constitute a single item in the list.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CFLAGS</code></td>
<td>

<p>A <code>string list</code> naming additional <em>gcc</em> flags to apply when compiling <code>.c</code> files
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CXXFLAGS</code></td>
<td>

<p>A <code>string list</code> naming additional <em>gcc</em> flags to apply when compiling <code>.cpp</code> files
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FFLAGS</code></td>
<td>

<p>A <code>string list</code> naming additional <em>gcc</em> flags to apply when compiling <code>.f</code> files
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LDFLAGS</code></td>
<td>

<p>A <code>string list</code> naming additional <em>gcc</em> flags to apply when linking <code>.o</code> files
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LDLIBS</code></td>
<td>

<p>A <code>string list</code> naming additional <em>gcc</em> linker flags to apply when linking <code>.o</code> files
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DEFINES</code></td>
<td>

<p>A <code>string list</code> that contains preprocessor (<em>#defines</em>) defines supplied when compiling the code
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Debug</code></td>
<td>

<p>A <code>Boolean</code> that indicates whether to create a debug build
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>initProjectFromFolder</code> constructs a project specification by scanning the <code>WorkingFolder</code>
and relevant <code>sourceName</code> sub path for source files to add to the project. If the <code>SourceFiles</code>
is included the the source file scan is omitted and only the named source files included. The named files
are assumed relative to the Working Folder so if a hierarchical project is being created then the relative
path to the source folder will need to be included in the <code>SourceFiles</code> list. Any <code>.c</code>, <code>.cpp</code>
and <code>.f</code> files it finds are added to the project. In the case of Fortran files the following extensions
are scanned; <code>.f</code>, <code>.for</code>, <code>.f90</code>, <code>.f95</code> and <code>.f77</code>. Any added files are scanned 
for include directives and those includes are added as project dependencies. If the dependency is not found 
in the path described by the <code>includeName</code> it is regarded as an external dependency.
</p>
<p>If the external dependency is known (<code>TMB.hpp</code> for example) then the appropriate <code>Includes</code>,
<code>Defines</code> and <code>Libraries</code> are added to the project definition. <code>BuildSys</code> is currently
aware of <code>TMB</code>, <code>Rcpp</code>, <code>RcppEigen</code> and the <code>BLAS</code> library support in R. External
dependencies not know to <code>BuildSys</code> need to be handle by adding the appropriate <code>Includes</code>,
<code>Defines</code> and <code>Libraries</code> to the Project manually with the arguments provided above.
</p>
<p><code>initProjectFromFolder</code> has useful defaults meaning in most cases very few arguments need be provided.
At most, the <code>WorkingFolder</code> and <code>Name</code> arguments will be required but if the project has only
a single source file then even <code>Name</code> can be omitted as the name will be inferred from the source file name.
</p>


<h3>Value</h3>

<p>returns an S4 object instance of class <code>BSysProject</code> that describes the code project.
</p>


<h3>Note</h3>

<p>see <code>BuildSys-package</code> for examples of use.
</p>


<h3>Author(s)</h3>

<p>Paavo Jumppanen [aut, cre]
</p>
<p>Maintainer: Paavo Jumppanen &lt;paavo.jumppanen@csiro.au&gt;
</p>


<h3>See Also</h3>

<p><code>make</code>
<code>buildMakefile</code>
<code>vcDebug</code>
<code>loadLibrary</code>
<code>unloadLibrary</code>
<code>libraryPath</code>
<code>sourcePath</code>
<code>includePath</code>
<code>objPath</code>
<code>installLibraryPath</code>
<code>installIncludePath</code>
<code>BuildSys-package</code>
</p>


</div>