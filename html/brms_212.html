<div class="container">

<table style="width: 100%;"><tr>
<td>log_lik.brmsfit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute the Pointwise Log-Likelihood</h2>

<h3>Description</h3>

<p>Compute the Pointwise Log-Likelihood
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'brmsfit'
log_lik(
  object,
  newdata = NULL,
  re_formula = NULL,
  resp = NULL,
  ndraws = NULL,
  draw_ids = NULL,
  pointwise = FALSE,
  combine = TRUE,
  add_point_estimate = FALSE,
  cores = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A fitted model object of class <code>brmsfit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>An optional data.frame for which to evaluate predictions. If
<code>NULL</code> (default), the original data of the model is used. <code>NA</code>
values within factors (excluding grouping variables) are interpreted as if
all dummy variables of this factor are zero. This allows, for instance, to
make predictions of the grand mean when using sum coding. <code>NA</code> values
within grouping variables are treated as a new level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>re_formula</code></td>
<td>
<p>formula containing group-level effects to be considered in
the prediction. If <code>NULL</code> (default), include all group-level effects;
if <code>NA</code> or <code>~0</code>, include no group-level effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resp</code></td>
<td>
<p>Optional names of response variables. If specified, predictions
are performed only for the specified response variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ndraws</code></td>
<td>
<p>Positive integer indicating how many posterior draws should
be used. If <code>NULL</code> (the default) all draws are used. Ignored if
<code>draw_ids</code> is not <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw_ids</code></td>
<td>
<p>An integer vector specifying the posterior draws to be used.
If <code>NULL</code> (the default), all draws are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pointwise</code></td>
<td>
<p>A flag indicating whether to compute the full
log-likelihood matrix at once (the default), or just return
the likelihood function along with all data and draws
required to compute the log-likelihood separately for each
observation. The latter option is rarely useful when
calling <code>log_lik</code> directly, but rather when computing
<code>waic</code> or <code>loo</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>combine</code></td>
<td>
<p>Only relevant in multivariate models.
Indicates if the log-likelihoods of the submodels should
be combined per observation (i.e. added together; the default)
or if the log-likelihoods should be returned separately.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_point_estimate</code></td>
<td>
<p>For internal use only. Ensures compatibility
with the <code>loo_subsample</code> method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>Number of cores (defaults to <code>1</code>). On non-Windows systems,
this argument can be set globally via the <code>mc.cores</code> option.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to <code>prepare_predictions</code>
that control several aspects of data validation and prediction.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>NA</code> values within factors in <code>newdata</code>,
are interpreted as if all dummy variables of this factor are
zero. This allows, for instance, to make predictions of the grand mean
when using sum coding.
</p>
<p>In multilevel models, it is possible to
allow new levels of grouping factors to be used in the predictions.
This can be controlled via argument <code>allow_new_levels</code>.
New levels can be sampled in multiple ways, which can be controlled
via argument <code>sample_new_levels</code>. Both of these arguments are
documented in <code>prepare_predictions</code> along with several
other useful arguments to control specific aspects of the predictions.
</p>


<h3>Value</h3>

<p>Usually, an S x N matrix containing the pointwise log-likelihood
draws, where S is the number of draws and N is the number
of observations in the data. For multivariate models and if
<code>combine</code> is <code>FALSE</code>, an S x N x R array is returned,
where R is the number of response variables.
If <code>pointwise = TRUE</code>, the output is a function
with a <code>draws</code> attribute containing all relevant
data and posterior draws.
</p>


</div>