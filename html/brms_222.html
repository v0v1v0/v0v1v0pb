<div class="container">

<table style="width: 100%;"><tr>
<td>loo.brmsfit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Efficient approximate leave-one-out cross-validation (LOO)</h2>

<h3>Description</h3>

<p>Perform approximate leave-one-out cross-validation based
on the posterior likelihood using the <span class="pkg">loo</span> package.
For more details see <code>loo</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'brmsfit'
loo(
  x,
  ...,
  compare = TRUE,
  resp = NULL,
  pointwise = FALSE,
  moment_match = FALSE,
  reloo = FALSE,
  k_threshold = 0.7,
  save_psis = FALSE,
  moment_match_args = list(),
  reloo_args = list(),
  model_names = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>brmsfit</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>More <code>brmsfit</code> objects or further arguments
passed to the underlying post-processing functions.
In particular, see <code>prepare_predictions</code> for further
supported arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compare</code></td>
<td>
<p>A flag indicating if the information criteria
of the models should be compared to each other
via <code>loo_compare</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resp</code></td>
<td>
<p>Optional names of response variables. If specified, predictions
are performed only for the specified response variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pointwise</code></td>
<td>
<p>A flag indicating whether to compute the full
log-likelihood matrix at once or separately for each observation.
The latter approach is usually considerably slower but
requires much less working memory. Accordingly, if one runs
into memory issues, <code>pointwise = TRUE</code> is the way to go.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>moment_match</code></td>
<td>
<p>Logical; Indicate whether <code>loo_moment_match</code>
should be applied on problematic observations. Defaults to <code>FALSE</code>.
For most models, moment matching will only work if you have set
<code>save_pars = save_pars(all = TRUE)</code> when fitting the model with
<code>brm</code>. See <code>loo_moment_match.brmsfit</code> for more
details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reloo</code></td>
<td>
<p>Logical; Indicate whether <code>reloo</code>
should be applied on problematic observations. Defaults to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k_threshold</code></td>
<td>
<p>The Pareto <code class="reqn">k</code> threshold for which observations
<code>loo_moment_match</code> or <code>reloo</code> is applied if
argument <code>moment_match</code> or <code>reloo</code> is <code>TRUE</code>.
Defaults to <code>0.7</code>.
See <code>pareto_k_ids</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_psis</code></td>
<td>
<p>Should the <code>"psis"</code> object created internally be saved
in the returned object? For more details see <code>loo</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>moment_match_args</code></td>
<td>
<p>Optional named <code>list</code> of additional arguments
passed to <code>loo_moment_match</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reloo_args</code></td>
<td>
<p>Optional named <code>list</code> of additional arguments passed to
<code>reloo</code>. This can be useful, among others, to control
how many chains, iterations, etc. to use for the fitted sub-models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model_names</code></td>
<td>
<p>If <code>NULL</code> (the default) will use model names
derived from deparsing the call. Otherwise will use the passed
values as model names.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>See <code>loo_compare</code> for details on model comparisons.
For <code>brmsfit</code> objects, <code>LOO</code> is an alias of <code>loo</code>.
Use method <code>add_criterion</code> to store
information criteria in the fitted model object for later usage.
</p>


<h3>Value</h3>

<p>If just one object is provided, an object of class <code>loo</code>.
If multiple objects are provided, an object of class <code>loolist</code>.
</p>


<h3>References</h3>

<p>Vehtari, A., Gelman, A., &amp; Gabry J. (2016). Practical Bayesian model
evaluation using leave-one-out cross-validation and WAIC. In Statistics
and Computing, doi:10.1007/s11222-016-9696-4. arXiv preprint arXiv:1507.04544.
</p>
<p>Gelman, A., Hwang, J., &amp; Vehtari, A. (2014).
Understanding predictive information criteria for Bayesian models.
Statistics and Computing, 24, 997-1016.
</p>
<p>Watanabe, S. (2010). Asymptotic equivalence of Bayes cross validation
and widely applicable information criterion in singular learning theory.
The Journal of Machine Learning Research, 11, 3571-3594.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# model with population-level effects only
fit1 &lt;- brm(rating ~ treat + period + carry,
            data = inhaler)
(loo1 &lt;- loo(fit1))

# model with an additional varying intercept for subjects
fit2 &lt;- brm(rating ~ treat + period + carry + (1|subject),
            data = inhaler)
(loo2 &lt;- loo(fit2))

# compare both models
loo_compare(loo1, loo2)

## End(Not run)

</code></pre>


</div>