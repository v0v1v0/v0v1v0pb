<div class="container">

<table style="width: 100%;"><tr>
<td>update_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Update data frames</h2>

<h3>Description</h3>

<p>This function compares two versions of the same data frame and detect changes
as additions, deleted entries or updates (modified entries).
</p>
<p>A method to compare lib_df objects is also provided as well as a
replace method.
</p>


<h3>Usage</h3>

<pre><code class="language-R">update_data(object, revision, key, ...)

## S4 method for signature 'data.frame,data.frame,character'
update_data(
  object,
  revision,
  key,
  add = FALSE,
  delete = FALSE,
  update = FALSE,
  ...
)

## S4 method for signature 'lib_df,lib_df,missing'
update_data(object, revision, key, ...)

update_data(object, key, ...) &lt;- value

## S4 replacement method for signature 'data.frame,character,data.frame'
update_data(object, key, ...) &lt;- value

## S4 replacement method for signature 'lib_df,missing,lib_df'
update_data(object, key, ...) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A data frame or a lib_df object representing the
original version.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>revision</code></td>
<td>
<p>The updated version of 'object' to be compared.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>A character value indicating the column used as identifier. This
variable have to be in both versions otherwise this function will
retrieve an error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed among methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delete, add, update</code></td>
<td>
<p>Logical value indicating whether the action
should be carried out. If all are <code>'FALSE'</code>, this function will just
report differences as done by compare_df.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>The updated version of 'object' in the replace methods.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Either an invisible output with a print in the console or an updated object
of class lib_df.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Adding an ID to data set iris
iris2 &lt;- iris
iris2$id &lt;- 1:nrow(iris2)

# rows to add using mean values per species
iris_mod &lt;- aggregate(cbind(
  Sepal.Length, Sepal.Width, Petal.Length,
  Petal.Width
) ~ Species, data = iris2, FUN = mean)
iris_mod$id &lt;- (1:nrow(iris_mod)) + nrow(iris2)
iris_mod &lt;- do.call(rbind, list(iris2, iris_mod[, colnames(iris2)]))

# delete some entries
iris_mod &lt;- iris_mod[-c(15, 75, 105, 145), ]

# modify entries
iris_mod$Petal.Length[c(20, 30)] &lt;- 0
iris_mod$Petal.Width[c(20, 50)] &lt;- 0

# just a comparison
update_data(iris2, iris_mod, key = "id")

# do update
iris2 &lt;- update_data(iris2, iris_mod,
  key = "id", delete = TRUE, add = TRUE,
  update = TRUE
)
</code></pre>


</div>