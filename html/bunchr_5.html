<div class="container">

<table style="width: 100%;"><tr>
<td>bunch_viewer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Visualizing a histogram and potential excluded areas</h2>

<h3>Description</h3>

<p>This function is meant to aid find excluded bins and analysis area for a
bunching study. It displays a histogram with borders. Optionally, you can get
the actual histogram back. This is convenient, as the kink/notch point is set
as the center of a bin.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bunch_viewer(earnings, zstar = NA, cf_start = 10, cf_end = 50,
  exclude_before = 2, exclude_after = 20, binw = NA, trimy = TRUE,
  report = FALSE, title = "Count Histogram", varname = "Running Variable")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>earnings</code></td>
<td>
<p>Vector of earnings, hopefully a very large one</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zstar</code></td>
<td>
<p>Place of notch/kink (critical earning point)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cf_start</code></td>
<td>
<p>Number of bins before the kink bin where counter-factual
histogram should start.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cf_end</code></td>
<td>
<p>Number of bins after the kink bin where counter-factual
histogram should start.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude_before</code></td>
<td>
<p>Number of excluded bins before the kink bin.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude_after</code></td>
<td>
<p>Number of excluded bins after the kink bin.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binw</code></td>
<td>
<p>Bin width.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trimy</code></td>
<td>
<p>Logical. Should the y-axis be trimmed to better show off-bunching
histogram?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>report</code></td>
<td>
<p>Should the function return the actual histogram?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>Title for Plot output</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varname</code></td>
<td>
<p>Name for running variable, to be desplayed in the plot</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A plot, the actual histogram if report is set to TRUE.
</p>


<h3>See Also</h3>

<p><code>bunch</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">ability_vec &lt;- 4000 * rbeta(100000, 2, 5)
earning_vec &lt;- sapply(ability_vec, earning_fun, 0.2, 0.1, 0.2, 0, 1000)
bunch_viewer(earning_vec, 1000, 20, 40, 2, 2, 20, trimy = TRUE, report = FALSE)

</code></pre>


</div>