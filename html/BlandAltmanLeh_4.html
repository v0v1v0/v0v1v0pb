<div class="container">

<table style="width: 100%;"><tr>
<td>bland.altman.stats</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate statistics for Bland-Altman-Plot</h2>

<h3>Description</h3>

<p>Does the computation for Bland Altman plots. This will usually be called from
graphic functions like <code>bland.altman.plot</code> but will be usefull for 
customized plot (see examples for color coded BA plot). Offers symmetric 
confidence intervalls for bias and upper and lower limits.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bland.altman.stats(group1, group2, two = 1.96, mode = 1, conf.int = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>group1</code></td>
<td>
<p>vector of numerics to be compared to group2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group2</code></td>
<td>
<p>vector of numerics to be compared to group1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>two</code></td>
<td>
<p>numeric defines how many standard deviations from mean are to be 
computed, defaults to 1.96 as this gives proper 95 percent CI. However, in the
original publication a factor of 2 is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p>if 1 then difference group1 minus group2 is used, if 2 then
group2 minus group1 is used. Defaults to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int</code></td>
<td>
<p>usefull</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>means</code> vector of means, i. e. data for the x axis
</p>
<p><code>diffs</code> vector of differences, i. e. data for the y axis
</p>
<p><code>groups</code> data.frame containing pairwise complete cases of group1 and 
group2. NAs are removed.
</p>
<p><code>based.on</code> count of pairwise complete cases in groups
</p>
<p><code>lower.limit</code> lower limit for BA plot
</p>
<p><code>mean.diffs</code> mean of differences, also called 'bias'
</p>
<p><code>upper.limit</code> upper limit for BA plot
</p>
<p><code>lines</code> vector containing y values where to draw horizontal 
lines, i. e. mean of differences minus "two" standard deviations, mean of 
differences and mean of differences plus "two" standard deviations (i. e.
<code>c(lower.limit, mean.diffs, upper.limit</code>). This is convenient for 
printing.
</p>
<p><code>CI.lines</code> vector of confidence intervalls for the values of 
lines (based on the assumption of normal distribution of differences 
<code>diffs</code>).
</p>
<p><code>two</code> the argument 'two'
</p>
<p><code>critical.diff</code> critical difference, i. e. 'two' times standard 
deviation of differences, equals half the difference of lower.limit and 
upper.limit
</p>


<h3>Author(s)</h3>

<p>Bernhard Lehnert &lt;bernhard.lehnert@uni-greifswald.de&gt;
</p>


<h3>See Also</h3>

<p><code>bland.altman.plot</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># simple calculation of stats:
a &lt;- rnorm(20)
b &lt;- jitter(a)
print(bland.altman.stats(a, b))
print(bland.altman.stats(a, b)$critical.diff)

# drawing Bland-Altman-Plot with color coding sex:
example.data &lt;- data.frame(sex = gl(2,6,labels=c("f","m")),
                 m1 = c(16,10,14,18,16,15,18,19,14,11,11,17),
                 m2 = c(18, 9,15,19,19,13,19,20,14,11,13,17))
ba &lt;- bland.altman.stats(example.data$m1, example.data$m2)
plot(ba$means, ba$diffs, col=example.data$sex, ylim=c(-4,4))
abline(h=ba$lines, lty=2)
              
# compute 95%-CIs for the bias and upper and lower limits of PEFR data as 
# in Bland&amp;Altman 1986
bland.altman.stats(bland.altman.PEFR[,1],bland.altman.PEFR[,3])$CI.lines
# apparently wrong results? CAVE: Bland&amp;Altman are using two=2, thus
bland.altman.stats(bland.altman.PEFR[,1],bland.altman.PEFR[,3], two=2)$CI.lines
</code></pre>


</div>