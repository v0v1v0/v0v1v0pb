<div class="container">

<table style="width: 100%;"><tr>
<td>make_mask</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Mask out invalid data</h2>

<h3>Description</h3>

<p>Mask out data locations that are invalid (missing data, low mean, or low
variance) for any session.
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_mask(data, meanTol = 1e-06, varTol = 1e-06, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A list of sessions, where each session is a list with elements
<code>BOLD</code>, <code>design</code>, and optionally <code>nuisance</code>. See
<code>?is.BfMRI.sess</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meanTol, varTol</code></td>
<td>
<p>Tolerance for mean and variance of each data location.
Locations which do not meet these thresholds are masked out of the analysis.
Defaults: <code>1e-6</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Print messages counting how many locations are removed?
Default: <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A logical vector indicating locations that are valid across all sessions.
</p>


<h3>Examples</h3>

<pre><code class="language-R">nT &lt;- 30
nV &lt;- 400
BOLD1 &lt;- matrix(rnorm(nT*nV), nrow=nT)
BOLD1[,seq(30,50)] &lt;- NA
BOLD2 &lt;- matrix(rnorm(nT*nV), nrow=nT)
BOLD2[,65] &lt;- BOLD2[,65] / 1e10
data &lt;- list(sess1=list(BOLD=BOLD1, design=NULL), sess2=list(BOLD=BOLD2, design=NULL))
make_mask(data)

</code></pre>


</div>