<div class="container">

<table style="width: 100%;"><tr>
<td>brms_tidiers</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tidying methods for a brms model</h2>

<h3>Description</h3>

<p>These methods tidy the estimates from
<code>brmsfit-objects</code>
(fitted model objects from the <span class="pkg">brms</span> package) into a summary.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'brmsfit'
tidy(
  x,
  parameters = NA,
  effects = c("fixed", "ran_pars"),
  robust = FALSE,
  conf.int = TRUE,
  conf.level = 0.95,
  conf.method = c("quantile", "HPDinterval"),
  rhat = FALSE,
  ess = FALSE,
  fix.intercept = TRUE,
  exponentiate = FALSE,
  ...
)

## S3 method for class 'brmsfit'
glance(x, looic = FALSE, ...)

## S3 method for class 'brmsfit'
augment(x, data = stats::model.frame(x), newdata = NULL, se.fit = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Fitted model object from the <span class="pkg">brms</span> package. See
<code>brmsfit-class</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameters</code></td>
<td>
<p>Names of parameters for which a summary should be
returned, as given by a character vector or regular expressions.
If <code>NA</code> (the default) summarized parameters are specified
by the <code>effects</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effects</code></td>
<td>
<p>A character vector including one or more of <code>"fixed"</code>,
<code>"ran_vals"</code>, or <code>"ran_pars"</code>.
See the Value section for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>robust</code></td>
<td>
<p>Whether to use median and median absolute deviation of
the posterior distribution, rather
than mean and standard deviation, to derive point estimates and uncertainty</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int</code></td>
<td>
<p>If <code>TRUE</code> columns for the lower (<code>conf.low</code>)
and upper bounds (<code>conf.high</code>) of posterior uncertainty intervals are included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>Defines the range of the posterior uncertainty conf.int,
such that <code>100 * conf.level</code>% of the parameter's posterior distributio
lies within the corresponding interval.
Only used if <code>conf.int = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.method</code></td>
<td>
<p>method for computing confidence intervals
("quantile" or "HPDinterval")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rhat</code></td>
<td>
<p>whether to calculate the *Rhat* convergence metric
(<code>FALSE</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ess</code></td>
<td>
<p>whether to calculate the *effective sample size* (ESS) convergence metric
(<code>FALSE</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fix.intercept</code></td>
<td>
<p>rename "Intercept" parameter to "(Intercept)", to match
behaviour of other model types?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exponentiate</code></td>
<td>
<p>whether to exponentiate the fixed-effect coefficient estimates and confidence intervals (common for logistic regression); if <code>TRUE</code>, also scales the standard errors by the exponentiated coefficient, transforming them to the new scale</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra arguments, not used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>looic</code></td>
<td>
<p>Should the LOO Information Criterion (and related info) be
included? See <code>loo.stanfit</code> for details. (This
can be slow for models fit to large datasets.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>new data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se.fit</code></td>
<td>
<p>return standard errors of fit?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>All tidying methods return a <code>data.frame</code> without rownames.
The structure depends on the method chosen.
</p>
<p>When <code>parameters = NA</code>, the <code>effects</code> argument is used
to determine which parameters to summarize.
</p>
<p>Generally, <code>tidy.brmsfit</code> returns
one row for each coefficient, with at least three columns:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>term</code></td>
<td>
<p>The name of the model parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimate</code></td>
<td>
<p>A point estimate of the coefficient (mean or median).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>std.error</code></td>
<td>
<p>A standard error for the point estimate (sd or mad).</p>
</td>
</tr>
</table>
<p>When <code>effects = "fixed"</code>, only population-level
effects are returned.
</p>
<p>When <code>effects = "ran_vals"</code>, only group-level effects are returned.
In this case, two additional columns are added:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>The name of the grouping factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>The name of the level of the grouping factor.</p>
</td>
</tr>
</table>
<p>Specifying <code>effects = "ran_pars"</code> selects the
standard deviations and correlations of the group-level parameters.
</p>
<p>If <code>conf.int = TRUE</code>, columns for the <code>lower</code> and
<code>upper</code> bounds of the posterior conf.int computed.
</p>


<h3>Note</h3>

<p>The names ‘fixed’, ‘ran_pars’, and ‘ran_vals’
(corresponding to "non-varying", "hierarchical", and "varying" respectively
in previous versions of the package), while technically inappropriate in
a Bayesian setting where "fixed" and "random" effects are not well-defined,
are used for compatibility with other (frequentist) mixed model types.
</p>
<p>At present, the components of parameter estimates are separated by parsing the column names of <code>as_draws</code> (e.g. <code>r_patient[1,Intercept]</code> for the random effect on the intercept for patient 1, or <code>b_Trt1</code> for the fixed effect <code>Trt1</code>. We try to detect underscores in parameter names and warn, but detection may be imperfect.
</p>


<h3>See Also</h3>

<p><code>brms</code>, <code>brmsfit-class</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"> ## original model
 ## Not run: 
    brms_crossedRE &lt;- brm(mpg ~ wt + (1|cyl) + (1+wt|gear), data = mtcars,
           iter = 500, chains = 2)
 
## End(Not run)
 
   ## too slow for CRAN (&gt;5 seconds)
   ## load stored object
   load(system.file("extdata", "brms_example.rda", package="broom.mixed"))

   fit &lt;- brms_crossedRE
   tidy(fit)
   tidy(fit, parameters = "^sd_", conf.int = FALSE)
   tidy(fit, effects = "fixed", conf.method="HPDinterval")
   tidy(fit, effects = "ran_vals")
   tidy(fit, effects = "ran_pars", robust = TRUE)
   if (require("posterior")) {
     tidy(fit, effects = "ran_pars", rhat = TRUE, ess = TRUE)
   }
   # glance method
   glance(fit)
   ## this example will give a warning that it should be run with
   ## reloo=TRUE; however, doing this will fail
   ## because the \code{fit} object has been stripped down to save space
   suppressWarnings(glance(fit, looic = TRUE, cores = 1))
   head(augment(fit))


</code></pre>


</div>