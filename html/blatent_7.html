<div class="container">

<table style="width: 100%;"><tr>
<td>blatentSyntax</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Syntax specifications for blatent</h2>

<h3>Description</h3>

<p>The blatent model syntax provides the specifications for a Bayesian latent variable model.
</p>


<h3>Details</h3>

<p>The model syntax, encapsulated in quotation marks, consists of up to three components:
</p>

<ol>
<li> <p><em><b>Model Formulae:</b></em> R model-like formulae specifying the model for all observed and latent variables in the model. See <code>formula</code> for
R formula specifics. Blatent model formulae differ only in that more than one variable can be provided to the left of the <code>~</code>.
</p>
<p>In this section of syntax, there are no differences between latent and observed variables. Model statements are formed using
the linear predictor for each variable. This means that to specify a measurement model, the latent variables will appear to the right-hand side of the <code>~</code>.
</p>
<p>Examples:
</p>

<ul>
<li>
<p> Measurement model where one latent variable (LV) predicts ten items (item1-item10, implying item1, item2, ..., item10):
</p>
<p><code>item1-item10 ~ LV</code>
</p>
</li>
<li>
<p> One observed variable (X) predicting another observed variable (Y):
</p>
<p><code>Y ~ X</code>
</p>
</li>
<li>
<p> Two items (itemA and itemB) measuring two latent variables (LV1, LV2) with a latent variable interaction:
</p>
<p><code>itemA itemB ~ LV1 + LV2 + LV1:LV2</code>
</p>
</li>
<li>
<p> Two items (itemA and itemB) measuring two latent variables (LV1, LV2) with a latent variable interaction (R <code>formula</code> shorthand):
</p>
<p><code>itemA itemB ~ LV1*LV2</code>
</p>
</li>
<li>
<p> Measurement model with seven items (item1-item7) measuring three latent variables (A1, A2, A3) from Chapter 9 of Rupp, Templin, Henson (2010):
</p>
<p><code>item1 ~ A1</code>
</p>
<p><code>item2 ~ A2</code>
</p>
<p><code>item3 ~ A3</code>
</p>
<p><code>item4 ~ A1 + A2 + A1:A2</code>
</p>
<p><code>item5 ~ A1 + A3 + A1:A3</code>
</p>
<p><code>item6 ~ A2 + A3 + A2:A3</code>
</p>
<p><code>item7 ~ A1 + A2 + A3 + A1:A2 + A1:A3 + A2:A3 + A1:A2:A3</code>
</p>
</li>
</ul>
</li>
<li> <p><em><b>Latent Variable Specifications:</b></em> Latent variables are declared using a unevaluated function call to
the <code>latent</code> function. Here, only the latent variables are declared along with options for their estimation.
See <code>latent</code> for more information.
</p>
<p><code>A1 A2 A3 &lt;- latent(unit = 'rows', distribution = 'mvbernoulli', structure = 'joint', type = 'ordinal', jointName = 'class')</code>
</p>
<p>Additionally, blatent currently uses a Bayesian Inference Network style of specifying the distributional associations between
latent variables: Model statements must be given to specify any associations between latent variables. By default,
all latent variables are independent, which is a terrible assumption. To fix this, for instance, as shown in
Hu and Templin (2020), the following syntax will give a model that is equivalent to the saturated model for a DCM:
</p>
<pre>
  # Structural Model
  A1 ~ 1
  A2 ~ A1
  A3 ~ A1 + A2 + A1:A2
  </pre>
</li>
<li> <p><em><b>Observed Variable Specifications:</b></em> Observed variables are declared using a unevaluated function call to
the <code>observed</code> function. Here, only the observed variables are declared along with options for their estimation.
See <code>observed</code> for more information.
</p>
<p><code>item1-item7 &lt;- observed(distribution = 'bernoulli', link = 'probit')</code>
</p>
</li>
</ol>
<p>Continuing with the syntax example from above, the full syntax for the model in Chapter 9 of Rupp, Templin, Henson (2010) is:
</p>
<pre>
modelText = "
# Measurement Model

item1 ~ A1
item2 ~ A2
item3 ~ A3
item4 ~ A1 + A2 + A1:A2
item5 ~ A1 + A3 + A1:A3
item6 ~ A2 + A3 + A2:A3
item7 ~ A1 + A2 + A3 + A1:A2 + A1:A3 + A2:A3 + A1:A2:A3

# Structural Model
A1 ~ 1
A2 ~ A1
A3 ~ A1 + A2 + A1:A2

A1 A2 A3 &lt;- latent(unit = 'rows', distribution = 'bernoulli', structure = 'univariate', type = 'ordinal')

# Observed Variable Specifications:
item1-item7 &lt;- observed(distribution = 'bernoulli', link = 'probit')
"</pre>


<h3>References</h3>

<p>Rupp, A. A., Templin, J., &amp; Henson, R. A. (2010). Diagnostic Measurement: Theory, Methods, and Applications. New York: Guilford.
</p>
<p>Hu, B., &amp; Templin, J. (2020). Using diagnostic classification models to validate attribute hierarchies and
evaluate model fit in Bayesian networks. Multivariate Behavioral Research. https://doi.org/10.1080/00273171.2019.1632165
</p>


</div>