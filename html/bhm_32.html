<div class="container">

<table style="width: 100%;"><tr>
<td>pIndexControl</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Auxiliary function for pIndex fitting</h2>

<h3>Description</h3>

<p>Auxiliary function for <code>pIndex</code> fitting. 
Typically only used internally by 'pIndexFit', but may be used to construct a control argument to either function. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">  pIndexControl(method = c("Efron", "Elc", "Elw", "Pic"), 
                model = c("default", "local", "threshold"), 
	        ci = c("Bootstrap", "Jackknife"), weights = NULL, 
		kernel = NULL, h = 0.1, w  = seq(0.05, 0.95, 0.05), 
		alpha = 0.05, B = 0, pct = 0.5, tau=NULL) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>choose either ‘Efron’ for Efron method, 
‘Elc’ for conditional empirical likelihood, 
‘Elw’ for weighted empirical likelihood method, and 
‘Pic’ for piecewise exponential distribution. The default value is ‘Efron’</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>‘default’ for default pIndex model, ‘local’ for kernel method, ‘threshold’ for threshold method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p>Method to construct confidence interval, ‘Bootstrap’ for Bootstrap method and 
‘Jackknife’ for Jackknife method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>case weight</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kernel</code></td>
<td>
<p>kernel funtion types, including "gaussian", "epanechnikov", "rectangular", "triangular", "biweiht", "cosine", "optcosine". The default value is ‘gaussian’</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p>bandwidth, defaul is 0.1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>percentile of biomarker value for local fit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>number of Bootstrap sample</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>significance level (e.g. alpha=0.05)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pct</code></td>
<td>
<p>Percentile of threshold (i.e. the cut point), default is 0.5</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau</code></td>
<td>
<p>maximum time tau to be used for pIndex</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Control is used in model fitting of ‘pIndex’.
</p>


<h3>Value</h3>

<p>This function checks the internal consisitency and returns a list of value as inputed to control model fit of pIndex.
</p>


<h3>Note</h3>

<p>Based on code from Bingshu E. Chen.
</p>


<h3>Author(s)</h3>

<p>Bingshu E. Chen</p>


<h3>See Also</h3>

<p><code>bhm, pIndex</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## To calculate the probability index for a biomarker with conditional empirical likelihood method, 
## and the corresponding 90 percent CI using Bootstrap method with 10000 bootstrap sample

ctl = pIndexControl(method = 'Elc', ci = 'Bootstrap', B = 10000, alpha = 0.1)

##
## then fit the following model
##
#  fit = pIndex(y~x1 + x2, family = 'surv', control = ctl)
##
</code></pre>


</div>