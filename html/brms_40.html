<div class="container">

<table style="width: 100%;"><tr>
<td>bayes_factor.brmsfit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bayes Factors from Marginal Likelihoods</h2>

<h3>Description</h3>

<p>Compute Bayes factors from marginal likelihoods.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'brmsfit'
bayes_factor(x1, x2, log = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x1</code></td>
<td>
<p>A <code>brmsfit</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x2</code></td>
<td>
<p>Another <code>brmsfit</code> object based on the same responses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p>Report Bayes factors on the log-scale?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to
<code>bridge_sampler</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Computing the marginal likelihood requires samples
of all variables defined in Stan's <code>parameters</code> block
to be saved. Otherwise <code>bayes_factor</code> cannot be computed.
Thus, please set <code>save_all_pars = TRUE</code> in the call to <code>brm</code>,
if you are planning to apply <code>bayes_factor</code> to your models.
</p>
<p>The computation of Bayes factors based on bridge sampling requires
a lot more posterior samples than usual. A good conservative
rule of thumb is perhaps 10-fold more samples (read: the default of 4000
samples may not be enough in many cases). If not enough posterior
samples are provided, the bridge sampling algorithm tends to be unstable,
leading to considerably different results each time it is run.
We thus recommend running <code>bayes_factor</code>
multiple times to check the stability of the results.
</p>
<p>More details are provided under
<code>bridgesampling::bayes_factor</code>.
</p>


<h3>See Also</h3>

<p><code>
  bridge_sampler,
  post_prob
</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# model with the treatment effect
fit1 &lt;- brm(
  count ~ zAge + zBase + Trt,
  data = epilepsy, family = negbinomial(),
  prior = prior(normal(0, 1), class = b),
  save_all_pars = TRUE
)
summary(fit1)

# model without the treatment effect
fit2 &lt;- brm(
  count ~ zAge + zBase,
  data = epilepsy, family = negbinomial(),
  prior = prior(normal(0, 1), class = b),
  save_all_pars = TRUE
)
summary(fit2)

# compute the bayes factor
bayes_factor(fit1, fit2)

## End(Not run)

</code></pre>


</div>