<div class="container">

<table style="width: 100%;"><tr>
<td>detStructAddVarLabels</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Functions to preprocess determinant structures</h2>

<h3>Description</h3>

<p>These functions are used in conjunction with the
<code>determinantStructure</code> family of funtions to conveniently work
with determinant structures.
</p>


<h3>Usage</h3>

<pre><code class="language-R">detStructAddVarLabels(
  determinantStructure,
  varLabelDf,
  varNameCol = "varNames.cln",
  leftAnchorCol = "leftAnchors",
  rightAnchorCol = "rightAnchors",
  subQuestionCol = "subQuestions",
  questionTextCol = "questionText"
)

detStructAddVarNames(determinantStructure, names)

detStructComputeProducts(determinantStructure, data, append = TRUE)

detStructComputeScales(
  determinantStructure,
  data,
  append = TRUE,
  separator = "_"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>determinantStructure</code></td>
<td>
<p>The <code>determinantStructure</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varLabelDf</code></td>
<td>
<p>The variable label dataframe as generated by the
<code>processLSvarLabels</code> in the <code>userfriendlyscience</code> package.  It is also possible
to specify a 'homemade' dataframe, in which case the column names have to
specified (see the next arguments).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varNameCol</code></td>
<td>
<p>The name of the column of the <code>varLabelDf</code> that
contains the variable name. Only needs to be changed from the default value
if <code>varLabelDf</code> is not a dataframe as produced by
<code>processLSvarLabels</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leftAnchorCol</code></td>
<td>
<p>The name of the column of the <code>varLabelDf</code> that
contains the left anchor. Only needs to be changed from the default value if
<code>varLabelDf</code> is not a dataframe as produced by
<code>processLSvarLabels</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rightAnchorCol</code></td>
<td>
<p>The name of the column of the <code>varLabelDf</code> that
contains the right anchor. Only needs to be changed from the default value
if <code>varLabelDf</code> is not a dataframe as produced by
<code>processLSvarLabels</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subQuestionCol</code></td>
<td>
<p>The name of the column of the <code>varLabelDf</code> that
contains the subquestion. Only needs to be changed from the default value if
<code>varLabelDf</code> is not a dataframe as produced by
<code>processLSvarLabels</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>questionTextCol</code></td>
<td>
<p>The name of the column of the <code>varLabelDf</code> that
contains the question text. Only needs to be changed from the default value
if <code>varLabelDf</code> is not a dataframe as produced by
<code>processLSvarLabels</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p>A character vector with the variable names. These are matched
against the regular expressions as specified in the
<code>determinantStructure</code> object, and any matches will be stored in
the <code>determinantStructure</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The dataframe containing the data; the variables names specified
in <code>names</code> (when calling <code>detStructAddVarNames</code>) must be present
in this dataframe.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>Whether to only return the products or scales, or whether to
append these to the dataframe and return the entire dataframe.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>separator</code></td>
<td>
<p>The separator to use when constructing the scale variables
names.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This family of functions will be explained more in detail in a forthcoming
paper.
</p>


<h3>Value</h3>

<p><code>detStructAddVarLabels</code> and <code>detStructAddVarNames</code> just
change the <code>determinantStructure</code> object;
<code>detStructComputeProducts</code> and <code>detStructComputeScales</code> return
either the dataframe with the new variables appended (if <code>append</code> =
<code>TRUE</code>) or just a dataframe with the new variables (if <code>append</code> =
<code>FALSE</code>).
</p>


<h3>References</h3>

<p>(Forthcoming)
</p>


<h3>See Also</h3>

<p><code>determinantStructure</code>, <code>determinantVar</code>,
<code>subdeterminants</code>, <code>subdeterminantProducts</code>,
<code>detStructCIBER</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">### Create some bogus determinant data
detStudy &lt;- mtcars[, c(1, 3:7)];
names(detStudy) &lt;- c('rUse_behav',
                     'rUse_intention',
                     'rUse_attitude1',
                     'rUse_attitude2',
                     'rUse_expAtt1',
                     'rUse_expAtt2');

### Specify the determinant structure

### First a subdeterminant
expAtt &lt;-
  behaviorchange::subdeterminants("Subdeterminants",
                                  "expAtt");

### Then two determinants
attitude &lt;-
  behaviorchange::determinantVar("Determinant",
                                 "attitude",
                                 expAtt);

intention &lt;-
  behaviorchange::determinantVar("ProximalDeterminant",
                                 "intention",
                                 attitude);

### Then the entire determinant strcture
detStruct &lt;-
  behaviorchange::determinantStructure('Behavior',
                                       list('behav',
                                       behaviorRegEx = 'rUse'),
                                       intention);

### Add the variable names
behaviorchange::detStructAddVarNames(detStruct,
                                     names(detStudy));

### Add the determinant scale variable to the dataframe
detStudyPlus &lt;-
  behaviorchange::detStructComputeScales(detStruct,
                                         data=detStudy);

### Show its presence
names(detStudyPlus);
mean(detStudyPlus$rUse_Determinant);

</code></pre>


</div>