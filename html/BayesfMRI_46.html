<div class="container">

<table style="width: 100%;"><tr>
<td>make_HRFs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Make HRFs</h2>

<h3>Description</h3>

<p>Create HRF design matrix columns from onsets and durations
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_HRFs(
  onsets,
  TR,
  duration,
  dHRF = c(0, 1, 2),
  dHRF_as = c("auto", "nuisance", "task"),
  downsample = 100,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>onsets</code></td>
<td>
<p><code class="reqn">L</code>-length list in which the name of each element is the
name of the corresponding task, and the value of each element is a matrix of
onsets (first column) and durations (second column) for each stimuli (each
row) of the corresponding task.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TR</code></td>
<td>
<p>Temporal resolution of the data, in seconds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>duration</code></td>
<td>
<p>The number of volumes in the fMRI data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dHRF</code></td>
<td>
<p>Set to <code>1</code> to add the temporal derivative of each column
in the design matrix, <code>2</code> to add the second derivatives too, or
<code>0</code> to not add any columns. Default: <code>1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dHRF_as</code></td>
<td>
<p>Only applies if <code>dHRF &gt; 0</code>. Model the temporal
derivatives as <code>"nuisance"</code> signals to regress out, <code>"tasks"</code>, or
<code>"auto"</code> to treat them as tasks unless the total number of columns in
the design matrix (i.e. the total number of tasks, times <code>dHRF+1</code>), would be
<code>&gt;=10</code>, the limit for INLA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>downsample</code></td>
<td>
<p>Downsample factor for convolving stimulus boxcar or stick
function with canonical HRF. Default: <code>100</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>If applicable, print a message saying how the HRF derivatives
will be modeled? Default: <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>List with the design matrix and/or the nuisance matrix containing the
HRF-convolved stimuli as columns, depending on <code>dHRF_as</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">onsets &lt;- list(taskA=cbind(c(2,17,23),4)) # one task, 3 four sec-long stimuli
TR &lt;- .72 # .72 seconds per volume, or (1/.72) Hz
duration &lt;- 300 # session is 300 volumes long (300*.72 seconds long)
make_HRFs(onsets, TR, duration)

</code></pre>


</div>