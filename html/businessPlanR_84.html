<div class="container">

<table style="width: 100%;"><tr>
<td>loan,-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>S4 Class loan</h2>

<h3>Description</h3>

<p>This is a special case of the generic class <code>transaction</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'loan'
initialize(
  .Object,
  type,
  category,
  name,
  amount,
  period,
  interest,
  first_month = format(Sys.Date(), "%Y.%m"),
  schedule = c("annuity", "amortization", "maturity"),
  due_month = NA,
  valid_types = "default",
  value
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.Object</code></td>
<td>
<p>The object to initialize.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A character string defining the type of transaction as defined by <code>valid_types</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>category</code></td>
<td>
<p>A character string, custom category for this transaction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>A character string, custom name or ID for this transaction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>amount</code></td>
<td>
<p>Numeric, the amount of money loaned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>period</code></td>
<td>
<p>Integer, number of months to fully repay the loan.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interest</code></td>
<td>
<p>Numeric, the nominal interest rate per annum (a value between 0 and 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>first_month</code></td>
<td>
<p>Character string in <code>YYYY.MM</code> format,
defining the initial date of the loan.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>schedule</code></td>
<td>
<p>One of the following, defining the repayment schedule:
</p>

<ul>
<li>
<p><code>"annuity"</code>: Equal rates of total repayment over <code>period</code>,
thereby interest is relatively higher
and principal payment relatively lower at the beginning.
</p>
</li>
<li>
<p><code>"amortization"</code>: Repayment of equal rates of principal payment with decreasing interest and total payments over <code>period</code>.
</p>
</li>
<li>
<p><code>"maturity"</code>: Repayment of the full loan amount at the end of <code>period</code>,
until then only payment of interest.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>due_month</code></td>
<td>
<p>Integer value defining the first month of principal repayment. The selected <code>schedule</code> will not begin before this month,
until then only interest rates are due.
Beware that this is a different behaviour of this argument compared to <code>transaction</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>valid_types</code></td>
<td>
<p>A character string,
the model types defined by <code>set_types</code> to be used for validation.
If <code>"default"</code>, pre-defined example types are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>A valid data frame to be used as the value slot directly,
omitting calculation via <code>amount</code>, <code>period</code>, <code>interest</code>, etc.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In contrast to <code>revenue</code> or <code>expense</code>,
the time range of this class of objects is defined by details of the loan as specified. Only when used as
an aspect of an <code>operations</code> class object,
this range is adjusted
to fit that particular object.
</p>


<h3>Slots</h3>


<dl>
<dt><code>type</code></dt>
<dd>
<p>A character string,
for valid values see <code>valid_types</code>. You might use all valid types pre-defined for either
<code>revenue</code> or <code>expense</code>,
considering that you might be the loan giver or receiver.</p>
</dd>
<dt><code>category</code></dt>
<dd>
<p>A character string, custom category for this loan.</p>
</dd>
<dt><code>name</code></dt>
<dd>
<p>A character string, custom name or ID for this loan.</p>
</dd>
<dt><code>value</code></dt>
<dd>
<p>Data frame containing an amortization schedule for the loan,
each month in a row named <code>YYYY.MM</code>.
It has a row for each month and the columns <code>balance_start</code>, <code>interest</code>,
<code>principal</code>, <code>total</code>,
<code>cumsum</code>, and <code>balance_remain</code>.</p>
</dd>
<dt><code>valid_types</code></dt>
<dd>
<p>A character string, the model types defined by
<code>set_types</code> to be used for validation.</p>
</dd>
</dl>
<h3>Constructor function</h3>

<p>Should you need to manually generate objects of this class, the constructor function 
<code>loan(...)</code> can be used instead of
<code>new("loan", ...)</code>.
</p>


<h3>NA</h3>

<p>Should you need to manually generate objects of this class, the constructor function 
<code>loan(...)</code> can be used instead of
<code>new("loan", ...)</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">loan_2019 &lt;- loan(
    type="Interest",
    category="Bank",
    name="New office",
    amount=10000,
    period=60,
    interest=0.075,
    first_month="2019.04",
    schedule=c("amortization")
)

# turn loan object into an expense
loan_as_expense_2019 &lt;- as_transaction(
    loan_2019,
    to="expense",
    aspect="interest"
)
</code></pre>


</div>