<div class="container">

<table style="width: 100%;"><tr>
<td>axe-spark</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Axing a spark object.</h2>

<h3>Description</h3>

<p>spark objects are created from the <span class="pkg">sparklyr</span> package,
a <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> interface for Apache Spark. The axe methods available
for spark objects are designed such that interoperability
is maintained. In other words, for a multilingual machine
learning team, butchered spark objects instantiated from
<span class="pkg">sparklyr</span> can still be serialized to disk, work in
Python, be deployed on Scala, etc. It is also worth noting
here that spark objects created from <span class="pkg">sparklyr</span> have a
lot of metadata attached to it, including but not limited
to the formula, dataset, model, index labels, etc. The
axe functions provided are for parsing down the model
object both prior saving to disk, or loading from disk.
Traditional <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> save functions are not available for these
objects, so functionality is provided in <code>sparklyr::ml_save</code>.
This function gives the user the option to keep either the
<code>pipeline_model</code> or the <code>pipeline</code>, so both of these
objects are retained from butchering, yet removal of one or the
other might be conducive to freeing up memory on disk.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'ml_model'
axe_call(x, verbose = FALSE, ...)

## S3 method for class 'ml_model'
axe_ctrl(x, verbose = FALSE, ...)

## S3 method for class 'ml_model'
axe_data(x, verbose = FALSE, ...)

## S3 method for class 'ml_model'
axe_fitted(x, verbose = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A model object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Print information each time an axe method is executed.
Notes how much memory is released and what functions are
disabled. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Any additional arguments related to axing.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Axed spark object.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(sparklyr)

sc &lt;- spark_connect(master = "local")

iris_tbls &lt;- sdf_copy_to(sc, iris, overwrite = TRUE) %&gt;%
  sdf_random_split(train = 2/3, validation = 2/3, seed = 2018)

train &lt;- iris_tbls$train
spark_fit &lt;- ml_logistic_regression(train, Species ~ .)

out &lt;- butcher(spark_fit, verbose = TRUE)

spark_disconnect(sc)

</code></pre>


</div>