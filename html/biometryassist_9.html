<div class="container">

<table style="width: 100%;"><tr>
<td>design</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a complete experimental design with graph of design layout and skeletal ANOVA table</h2>

<h3>Description</h3>

<p>Create a complete experimental design with graph of design layout and skeletal ANOVA table
</p>


<h3>Usage</h3>

<pre><code class="language-R">design(
  type,
  treatments,
  reps,
  nrows,
  ncols,
  brows = NA,
  bcols = NA,
  byrow = TRUE,
  sub_treatments = NULL,
  fac.names = NULL,
  fac.sep = c("", " "),
  plot = TRUE,
  rotation = 0,
  size = 4,
  margin = FALSE,
  save = FALSE,
  savename = paste0(type, "_design"),
  plottype = "pdf",
  seed = TRUE,
  quiet = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The type of design. Supported design types are <code>crd</code>, <code>rcbd</code>, <code>lsd</code>, <code style="white-space: pre;">⁠crossed:&lt;type&gt;⁠</code> where <code style="white-space: pre;">⁠&lt;type&gt;⁠</code> is one of the previous types, and <code>split</code>. See Details for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatments</code></td>
<td>
<p>A vector containing the treatment names or labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reps</code></td>
<td>
<p>The number of replicates. Ignored for Latin Square Designs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrows</code></td>
<td>
<p>The number of rows in the design.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncols</code></td>
<td>
<p>The number of columns in the design.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>brows</code></td>
<td>
<p>For RCBD and Split Plot designs. The number of rows in a block.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bcols</code></td>
<td>
<p>For RCBD and Split Plot designs. The number of columns in a block.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>byrow</code></td>
<td>
<p>For split-plot only. Logical (default <code>TRUE</code>). Provides a way to arrange plots within whole-plots when there are multiple possible arrangements.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub_treatments</code></td>
<td>
<p>A vector of treatments for sub-plots in a split plot design.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fac.names</code></td>
<td>
<p>Allows renaming of the <code>A</code> level of factorial designs (i.e. those using <code>agricolae::design.ab()</code>) by passing (optionally named) vectors of new labels to be applied to the factors within a list. See examples and details for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fac.sep</code></td>
<td>
<p>The separator used by <code>fac.names</code>. Used to combine factorial design levels. If a vector of 2 levels is supplied, the first separates factor levels and label, and the second separates the different factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>Logical (default <code>TRUE</code>). If <code>TRUE</code>, display a plot of the generated design. A plot can always be produced later using <code>autoplot()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rotation</code></td>
<td>
<p>Rotate the text output as Treatments within the plot. Allows for easier reading of long treatment labels. Takes positive and negative values being number of degrees of rotation from horizontal.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>Increase or decrease the text size within the plot for treatment labels. Numeric with default value of 4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin</code></td>
<td>
<p>Logical (default <code>FALSE</code>). Expand the plot to the edges of the plotting area i.e. remove white space between plot and axes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save</code></td>
<td>
<p>One of <code>FALSE</code> (default)/<code>"none"</code>, <code>TRUE</code>/<code>"both"</code>, <code>"plot"</code> or <code>"workbook"</code>. Specifies which output to save.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>savename</code></td>
<td>
<p>A file name for the design to be saved to. Default is the type of the design combined with "_design".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plottype</code></td>
<td>
<p>The type of file to save the plot as. Usually one of <code>"pdf"</code>, <code>"png"</code>, or <code>"jpg"</code>. See <code>ggplot2::ggsave()</code> for all possible options.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Logical (default <code>TRUE</code>). If <code>TRUE</code>, return the seed used to generate the design. If a numeric value, use that value as the seed for the design.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>Logical (default <code>FALSE</code>). Hide the output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters passed to <code>ggplot2::ggsave()</code> for saving the plot.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The designs currently supported by <code>type</code> are Completely Randomised designs (<code>crd</code>), Randomised Complete Block designs (<code>rcbd</code>), Latin Square Designs (<code>lsd</code>), Factorial with crossed structure (use <code style="white-space: pre;">⁠crossed:&lt;type&gt;⁠</code> where <code style="white-space: pre;">⁠&lt;type&gt;⁠</code> is one of the previous types e.g. <code>crossed:crd</code>) and Split Plot designs (<code>split</code>). Nested factorial designs are supported through manual setup, see Examples.
</p>
<p>If <code>save = TRUE</code> (or <code>"both"</code>), both the plot and the workbook will be saved to the current working directory, with filename given by <code>savename</code>. If one of either <code>"plot"</code> or <code>"workbook"</code> is specified, only that output is saved. If <code>save = FALSE</code> (the default, or equivalently <code>"none"</code>), nothing will be output.
</p>
<p><code>fac.names</code> can be supplied to provide more intuitive names for factors and their levels in factorial and split plot designs. They can be specified in a list format, for example <code>fac.names = list(A_names = c("a", "b", "c"), B_names = c("x", "y", "z"))</code>. This will result a design output with a column named <code>A_names</code> with levels <code style="white-space: pre;">⁠a, b, c⁠</code> and another named <code>B_names</code> with levels <code style="white-space: pre;">⁠x, y, z⁠</code>. Labels can also be supplied as a character vector (e.g. <code>c("A", "B")</code>) which will result in only the treatment column names being renamed. Only the first two elements of the list will be used, except in the case of a 3-way factorial design.
</p>
<p><code>...</code> allows extra arguments to be passed to <code>ggsave()</code> for output of the plot. The details of possible arguments can be found in  <code>ggplot2::ggsave()</code>.
</p>


<h3>Value</h3>

<p>A list containing a data frame with the complete design (<code style="white-space: pre;">⁠$design⁠</code>), a ggplot object with plot layout (<code style="white-space: pre;">⁠$plot.des⁠</code>), the seed (<code style="white-space: pre;">⁠$seed⁠</code>, if <code>return.seed = TRUE</code>), and the <code>satab</code> object (<code style="white-space: pre;">⁠$satab⁠</code>), allowing repeat output of the <code>satab</code> table via <code>cat(output$satab)</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Completely Randomised Design
des.out &lt;- design(type = "crd", treatments = c(1, 5, 10, 20),
                  reps = 5, nrows = 4, ncols = 5, seed = 42)

# Randomised Complete Block Design
des.out &lt;- design("rcbd", treatments = LETTERS[1:11], reps = 4,
                  nrows = 11, ncols = 4, brows = 11, bcols = 1, seed = 42)

# Latin Square Design
# Doesn't require reps argument
des.out &lt;- design(type = "lsd", c("S1", "S2", "S3", "S4"),
                  nrows = 4, ncols = 4, seed = 42)

# Factorial Design (Crossed, Completely Randomised)
des.out &lt;- design(type = "crossed:crd", treatments = c(3, 2),
                  reps = 3, nrows = 6, ncols = 3, seed = 42)

# Factorial Design (Crossed, Completely Randomised), renaming factors
des.out &lt;- design(type = "crossed:crd", treatments = c(3, 2),
                  reps = 3, nrows = 6, ncols = 3, seed = 42,
                  fac.names = list(N = c(50, 100, 150),
                                   Water = c("Irrigated", "Rain-fed")))

# Factorial Design (Crossed, Randomised Complete Block Design),
# changing separation between factors
des.out &lt;- design(type = "crossed:rcbd", treatments = c(3, 2),
                  reps = 3, nrows = 6, ncols = 3,
                  brows = 6, bcols = 1,
                  seed = 42, fac.sep = c(":", "_"))

# Factorial Design (Nested, Latin Square)
trt &lt;- c("A1", "A2", "A3", "A4", "B1", "B2", "B3")
des.out &lt;- design(type = "lsd", treatments = trt,
                  nrows = 7, ncols = 7, seed = 42)

# Split plot design
des.out &lt;- design(type = "split", treatments = c("A", "B"), sub_treatments = 1:4,
                  reps = 4, nrows = 8, ncols = 4, brows = 4, bcols = 2, seed = 42)

# Alternative arrangement of the same design as above
des.out &lt;- design(type = "split", treatments = c("A", "B"), sub_treatments = 1:4,
                  reps = 4, nrows = 8, ncols = 4, brows = 4, bcols = 2,
                  byrow = FALSE, seed = 42)

</code></pre>


</div>