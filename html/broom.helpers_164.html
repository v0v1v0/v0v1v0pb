<div class="container">

<table style="width: 100%;"><tr>
<td>tidy_avg_comparisons</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Marginal Contrasts with <code>marginaleffects::avg_comparisons()</code>
</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
Use <code>marginaleffects::avg_comparisons()</code> to estimate marginal contrasts and
return a tibble tidied in a way that it could be used by <code>broom.helpers</code>
functions. See <code>marginaleffects::avg_comparisons()</code> for a list of supported
models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tidy_avg_comparisons(x, conf.int = TRUE, conf.level = 0.95, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>(a model object, e.g. <code>glm</code>)<br>
A model to be tidied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int</code></td>
<td>
<p>(<code>logical</code>)<br>
Whether or not to include a confidence interval in the tidied output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>(<code>numeric</code>)<br>
The confidence level to use for the confidence interval (between <code>0</code> ans <code>1</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters passed to
<code>marginaleffects::avg_comparisons()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By default, <code>marginaleffects::avg_comparisons()</code> estimate average marginal
contrasts: a contrast is computed for each observed value in the original
dataset (counterfactual approach) before being averaged.
Marginal Contrasts at the Mean could be computed by specifying
<code>newdata = "mean"</code>. The <code>variables</code> argument can be used to select the
contrasts to be computed. Please refer to the documentation page of
<code>marginaleffects::avg_comparisons()</code>.
</p>
<p>See also <code>tidy_marginal_contrasts()</code> for taking into account interactions.
For more information, see <code>vignette("marginal_tidiers", "broom.helpers")</code>.
</p>


<h3>See Also</h3>

<p><code>marginaleffects::avg_comparisons()</code>
</p>
<p>Other marginal_tieders: 
<code>tidy_all_effects()</code>,
<code>tidy_avg_slopes()</code>,
<code>tidy_ggpredict()</code>,
<code>tidy_marginal_contrasts()</code>,
<code>tidy_marginal_means()</code>,
<code>tidy_marginal_predictions()</code>,
<code>tidy_margins()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Average Marginal Contrasts

df &lt;- Titanic |&gt;
  dplyr::as_tibble() |&gt;
  tidyr::uncount(n) |&gt;
  dplyr::mutate(Survived = factor(Survived, c("No", "Yes")))
mod &lt;- glm(
  Survived ~ Class + Age + Sex,
  data = df, family = binomial
)
tidy_avg_comparisons(mod)
tidy_plus_plus(mod, tidy_fun = tidy_avg_comparisons)

mod2 &lt;- lm(Petal.Length ~ poly(Petal.Width, 2) + Species, data = iris)
tidy_avg_comparisons(mod2)

# Custumizing the type of contrasts
tidy_avg_comparisons(
  mod2,
  variables = list(Petal.Width = 2, Species = "pairwise")
)

# Marginal Contrasts at the Mean
tidy_avg_comparisons(mod, newdata = "mean")
tidy_plus_plus(mod, tidy_fun = tidy_avg_comparisons, newdata = "mean")

</code></pre>


</div>