<div class="container">

<table style="width: 100%;"><tr>
<td>survivalBACT</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Time-to-event outcome for Bayesian Adaptive Trials</h2>

<h3>Description</h3>

<p>Simulation for time-to-event outcome for Bayesian Adaptive trial with
different inputs to control for power, sample size, type 1 error rate, etc.
</p>


<h3>Usage</h3>

<pre><code class="language-R">survivalBACT(
  hazard_treatment,
  cutpoint = NULL,
  hazard_control = NULL,
  N_total,
  breaks = NULL,
  time0 = NULL,
  treatment0 = NULL,
  event0 = NULL,
  lambda = 0.3,
  lambda_time = NULL,
  interim_look = NULL,
  EndofStudy,
  prior = c(0.1, 0.1),
  block = 2,
  rand_ratio = c(1, 1),
  prop_loss_to_followup = 0.1,
  alternative = "greater",
  h0 = 0,
  futility_prob = 0.05,
  expected_success_prob = 0.9,
  prob_ha = 0.95,
  N_impute = 10,
  number_mcmc = 10000,
  discount_function = "identity",
  alpha_max = 1,
  fix_alpha = FALSE,
  weibull_scale = 0.135,
  weibull_shape = 3,
  method = "fixed"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>hazard_treatment</code></td>
<td>
<p>vector. Constant hazard rates under the treatment arm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutpoint</code></td>
<td>
<p>vector. The change-point vector indicating time when the hazard rates change.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hazard_control</code></td>
<td>
<p>vector. Constant hazard rates under the control arm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N_total</code></td>
<td>
<p>scalar. Total sample size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>vector. Breaks (interval starts) used to compose the breaks of the piecewise
exponential model. Do not include zero. Default breaks are the quantiles of the input
times.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time0</code></td>
<td>
<p>vector. Historical exposure time for the subjects. It must be the same length
as the treatment variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatment0</code></td>
<td>
<p>vector. the historical treatment assignment for patients,
1 for treatment group and 0 for control group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event0</code></td>
<td>
<p>vector. Historical status indicator, normally 0=alive, 1=dead.
Other choices are TRUE/FALSE (TRUE = death) or 1/2 (2=death).
For censored data, the status indicator is 0=right censored, 1 = event at time.
Although unusual, the event indicator can be omitted, in which case
all subjects are assumed to have an event.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>vector. Enrollment rates across simulated enrollment times. See
<code>enrollment</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda_time</code></td>
<td>
<p>vector. Enrollment time(s) at which the enrollment rates
change. Must be same length as lambda. See <code>enrollment</code> for
more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interim_look</code></td>
<td>
<p>vector. Sample size for each interim look. Note: the
maximum sample size should not be included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>EndofStudy</code></td>
<td>
<p>scalar. Length of the study.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prior</code></td>
<td>
<p>vector. Prior values of the gamma rate, Gamma(a0, b0). The default is
set to Gamma(.1, .1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>block</code></td>
<td>
<p>scalar. Block size for generating the randomization schedule.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rand_ratio</code></td>
<td>
<p>vector. Randomization allocation for the ratio of control
to treatment. Integer values mapping the size of the block. See
<code>randomization</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop_loss_to_followup</code></td>
<td>
<p>scalar. Overall oroportion of subjects lost to
follow-up.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>character. The string specifying the alternative
hypothesis, must be one of <code>"greater"</code> (default), <code>"less"</code> or
<code>"two.sided"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h0</code></td>
<td>
<p>scalar. Threshold for comparing two mean values. Default is
<code>h0=0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>futility_prob</code></td>
<td>
<p>scalar. Probability of stopping early for futility.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expected_success_prob</code></td>
<td>
<p>scalar. Probability of stopping early for success.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob_ha</code></td>
<td>
<p>scalar. Probability of alternative hypothesis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N_impute</code></td>
<td>
<p>scalar. Number of imputations for Monte Carlo simulation of
missing data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>number_mcmc</code></td>
<td>
<p>scalar. Number of Monte Carlo Markov Chain draws in
sampling posterior.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>discount_function</code></td>
<td>
<p>character. If incorporating historical data, specify
the discount function. Currently supports the Weibull function
(<code>discount_function="weibull"</code>), the scaled-Weibull function
(<code>discount_function="scaledweibull"</code>), and the identity function
(<code>discount_function="identity"</code>). The scaled-Weibull discount function
scales the output of the Weibull CDF to have a max value of 1. The identity
discount function uses the posterior probability directly as the discount
weight. Default value is <code>"identity"</code>. See <code>bdpnormal</code> for
more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_max</code></td>
<td>
<p>scalar. Maximum weight the discount function can apply.
Default is 1. For a two-arm trial, users may specify a vector of two values
where the first value is used to weight the historical treatment group and
the second value is used to weight the historical control group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fix_alpha</code></td>
<td>
<p>logical. Fix alpha at alpha_max? Default value is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weibull_scale</code></td>
<td>
<p>scalar. Scale parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 0.135. For a two-arm trial, users may specify a vector of two
values where the first value is used to estimate the weight of the
historical treatment group and the second value is used to estimate the
weight of the historical control group. Not used when discount_function =
"identity".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weibull_shape</code></td>
<td>
<p>scalar. Shape parameter of the Weibull discount function
used to compute alpha, the weight parameter of the historical data. Default
value is 3. For a two-arm trial, users may specify a vector of two values
where the first value is used to estimate the weight of the historical
treatment group and the second value is used to estimate the weight of the
historical control group. Not used when discount_function = "identity".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>character. Analysis method with respect to estimation of the weight
paramter alpha. Default method "<code>mc</code>" estimates alpha for each
Monte Carlo iteration. Alternate value "<code>fixed</code>" estimates alpha once
and holds it fixed throughout the analysis.  See the the
<code>bdpsurvival</code> vignette <br><code>vignette("bdpsurvival-vignette", package="bayesDP")</code> for more details.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list of output for a single trial simulation.
</p>

<dl>
<dt><code>lambda_treatment</code></dt>
<dd>
<p>vector. The input parameter of constant hazard rates in the
treatment group.</p>
</dd>
<dt><code>cutpoint_treatment</code></dt>
<dd>
<p>vector. The change-point vector when the constant hazard rate(s) changes for
the treatment group.</p>
</dd>
<dt><code>lambda_control</code></dt>
<dd>
<p>vector. The input parameter of constant hazard rates in the
control group.</p>
</dd>
<dt><code>cutpoint_control</code></dt>
<dd>
<p>vector. The change-point vector when the constant hazard rate(s) changes for
the control group.</p>
</dd>
<dt><code>prob_of_accepting_alternative</code></dt>
<dd>
<p>scalar. The input parameter of probability threshold of accepting the
alternative.</p>
</dd>
<dt><code>margin</code></dt>
<dd>
<p>scalar. The margin input value of difference between mean estimate of treatment
and mean estimate of the control.</p>
</dd>
<dt><code>alternative</code></dt>
<dd>
<p>character. The input parameter of alternative hypothesis. </p>
</dd>
<dt><code>interim_look</code></dt>
<dd>
<p>vector. The sample size for each interim look.</p>
</dd>
<dt><code>N_treatment</code></dt>
<dd>
<p>scalar. The number of patients enrolled in the treatment group for
each simulation.</p>
</dd>
<dt><code>event_treatment</code></dt>
<dd>
<p>scalar. The number of events in the treatment group for
each simulation.</p>
</dd>
<dt><code>N_control</code></dt>
<dd>
<p>scalar. The number of patients enrolled in the control group for
each simulation.</p>
</dd>
<dt><code>event_control</code></dt>
<dd>
<p>scalar. The number of events in the control group for
each simulation.</p>
</dd>
<dt><code>N_enrolled</code></dt>
<dd>
<p>vector. The number of patients enrolled in the trial (sum of control
and experimental group for each simulation. )</p>
</dd>
<dt><code>N_complete</code></dt>
<dd>
<p>scalar. The number of patients who completed the trial and had no
loss to follow-up.</p>
</dd>
<dt><code>post_prob_accept_alternative</code></dt>
<dd>
<p>vector. The final probability of accepting the alternative
hypothesis after the analysis is done.</p>
</dd>
<dt><code>est_final</code></dt>
<dd>
<p>scalar. The final estimate of the difference in posterior estimate of
treatment and posterior estimate of the control group.</p>
</dd>
<dt><code>stop_futility</code></dt>
<dd>
<p>scalar. Did the trial stop for futility during imputation of patient
who had loss to follow up? 1 for yes and 0 for no.</p>
</dd>
<dt><code>stop_expected_success</code></dt>
<dd>
<p>scalar. Did the trial stop for early success during imputation of patient
who had loss to follow up? 1 for yes and 0 for no.</p>
</dd>
<dt><code>est_interim</code></dt>
<dd>
<p>scalar. The interim estimate of the difference in posterior estimate of
treatment and posterior estimate of the control group.</p>
</dd>
</dl>
</div>