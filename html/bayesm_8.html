<div class="container">

<table style="width: 100%;"><tr>
<td>createX</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create X Matrix for Use in Multinomial Logit and Probit Routines</h2>

<h3>Description</h3>

<p><code>createX</code> makes up an X matrix in the form expected by Multinomial
Logit (<code>rmnlIndepMetrop</code> and <code>rhierMnlRwMixture</code>)
and Probit (<code>rmnpGibbs</code> and <code>rmvpGibbs</code>) routines.  
Requires an array of alternative-specific variables and/or an
array of "demographics" (or variables constant across alternatives) which
may vary across choice occasions. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">createX(p, na, nd, Xa, Xd, INT = TRUE, DIFF = FALSE, base=p)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p> integer number of choice alternatives </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na</code></td>
<td>
<p> integer number of alternative-specific vars in <code>Xa</code>  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nd</code></td>
<td>
<p> integer number of non-alternative specific vars </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Xa</code></td>
<td>
 <p><code class="reqn">n x p*na</code> matrix of alternative-specific vars </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Xd</code></td>
<td>
 <p><code class="reqn">n x nd</code> matrix of non-alternative specific vars </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>INT</code></td>
<td>
<p> logical flag for inclusion of intercepts </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DIFF</code></td>
<td>
<p> logical flag for differencing wrt to base alternative </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p> integer index of base choice alternative </p>
</td>
</tr>
</table>
<p>Note: <code>na</code>, <code>nd</code>, <code>Xa</code>, <code>Xd</code> can be <code>NULL</code> to indicate lack of <code>Xa</code> or <code>Xd</code> variables.
</p>


<h3>Value</h3>

<p><code>X</code> matrix of dimension <code class="reqn">n*(p-DIFF) x [(INT+nd)*(p-1) + na]</code>.</p>


<h3>Note</h3>

<p><code>rmnpGibbs</code> assumes that the <code>base</code> alternative is the default.</p>


<h3>Author(s)</h3>

<p>Peter Rossi, Anderson School, UCLA, <a href="mailto:perossichi@gmail.com">perossichi@gmail.com</a>.</p>


<h3>References</h3>

<p> For further discussion, see <em>Bayesian Statistics and Marketing</em> by Rossi, Allenby, and McCulloch. </p>


<h3>See Also</h3>

<p><code>rmnlIndepMetrop</code>, <code>rmnpGibbs</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">na=2; nd=1; p=3
vec = c(1, 1.5, 0.5, 2, 3, 1, 3, 4.5, 1.5)
Xa = matrix(vec, byrow=TRUE, ncol=3)
Xa = cbind(Xa,-Xa)
Xd = matrix(c(-1,-2,-3), ncol=1)
createX(p=p, na=na, nd=nd, Xa=Xa, Xd=Xd)
createX(p=p, na=na, nd=nd, Xa=Xa, Xd=Xd, base=1)
createX(p=p, na=na, nd=nd, Xa=Xa, Xd=Xd, DIFF=TRUE)
createX(p=p, na=na, nd=nd, Xa=Xa, Xd=Xd, DIFF=TRUE, base=2)
createX(p=p, na=na, nd=NULL, Xa=Xa, Xd=NULL)
createX(p=p, na=NULL, nd=nd, Xa=NULL, Xd=Xd)
</code></pre>


</div>