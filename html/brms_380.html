<div class="container">

<table style="width: 100%;"><tr>
<td>residuals.brmsfit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Posterior Draws of Residuals/Predictive Errors</h2>

<h3>Description</h3>

<p>This method is an alias of <code>predictive_error.brmsfit</code>
with additional arguments for obtaining summaries of the computed draws.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'brmsfit'
residuals(
  object,
  newdata = NULL,
  re_formula = NULL,
  method = "posterior_predict",
  type = c("ordinary", "pearson"),
  resp = NULL,
  ndraws = NULL,
  draw_ids = NULL,
  sort = FALSE,
  summary = TRUE,
  robust = FALSE,
  probs = c(0.025, 0.975),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An object of class <code>brmsfit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>An optional data.frame for which to evaluate predictions. If
<code>NULL</code> (default), the original data of the model is used. <code>NA</code>
values within factors (excluding grouping variables) are interpreted as if
all dummy variables of this factor are zero. This allows, for instance, to
make predictions of the grand mean when using sum coding. <code>NA</code> values
within grouping variables are treated as a new level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>re_formula</code></td>
<td>
<p>formula containing group-level effects to be considered in
the prediction. If <code>NULL</code> (default), include all group-level effects;
if <code>NA</code> or <code>~0</code>, include no group-level effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Method used to obtain predictions. Can be set to
<code>"posterior_predict"</code> (the default), <code>"posterior_epred"</code>,
or <code>"posterior_linpred"</code>. For more details, see the respective
function documentations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The type of the residuals,
either <code>"ordinary"</code> or <code>"pearson"</code>.
More information is provided under 'Details'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resp</code></td>
<td>
<p>Optional names of response variables. If specified, predictions
are performed only for the specified response variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ndraws</code></td>
<td>
<p>Positive integer indicating how many posterior draws should
be used. If <code>NULL</code> (the default) all draws are used. Ignored if
<code>draw_ids</code> is not <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw_ids</code></td>
<td>
<p>An integer vector specifying the posterior draws to be used.
If <code>NULL</code> (the default), all draws are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>Logical. Only relevant for time series models.
Indicating whether to return predicted values in the original
order (<code>FALSE</code>; default) or in the order of the
time series (<code>TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary</code></td>
<td>
<p>Should summary statistics be returned
instead of the raw values? Default is <code>TRUE</code>..</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>robust</code></td>
<td>
<p>If <code>FALSE</code> (the default) the mean is used as
the measure of central tendency and the standard deviation as
the measure of variability. If <code>TRUE</code>, the median and the
median absolute deviation (MAD) are applied instead.
Only used if <code>summary</code> is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p>The percentiles to be computed by the <code>quantile</code>
function. Only used if <code>summary</code> is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to <code>prepare_predictions</code>
that control several aspects of data validation and prediction.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Residuals of type <code>'ordinary'</code> are of the form <code class="reqn">R = Y -
  Yrep</code>, where <code class="reqn">Y</code> is the observed and <code class="reqn">Yrep</code> is the predicted response.
Residuals of type <code>pearson</code> are of the form <code class="reqn">R = (Y - Yrep) /
  SD(Yrep)</code>, where <code class="reqn">SD(Yrep)</code> is an estimate of the standard deviation of
<code class="reqn">Yrep</code>.
</p>


<h3>Value</h3>

<p>An <code>array</code> of predictive error/residual draws. If
<code>summary = FALSE</code> the output resembles those of
<code>predictive_error.brmsfit</code>. If <code>summary = TRUE</code> the output
is an N x E matrix, where N is the number of observations and E denotes
the summary statistics computed from the draws.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
## fit a model
fit &lt;- brm(rating ~ treat + period + carry + (1|subject),
           data = inhaler, cores = 2)

## extract residuals/predictive errors
res &lt;- residuals(fit)
head(res)

## End(Not run)

</code></pre>


</div>