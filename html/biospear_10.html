<div class="container">

<table style="width: 100%;"><tr>
<td>simdata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generation of data sets with survival outcome</h2>

<h3>Description</h3>

<p>This function simulates a data set with survival outcome with given active biomarkers (prognostic and/or interacting with the treatment).
</p>


<h3>Usage</h3>

<pre><code class="language-R">simdata(n, p, q.main, q.inter, prob.tt, m0, alpha.tt, beta.main,
  beta.inter, b.corr, b.corr.by, wei.shape, recr, fu, timefactor,
  active.main, active.inter)

simdataV(traindata, Nvalid)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>the sample size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>the number of biomarkers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q.main</code></td>
<td>
<p>the number of true prognostic biomarkers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q.inter</code></td>
<td>
<p>the number of true biomarkers interacting with the
treatement.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob.tt</code></td>
<td>
<p>the treatement assignement probability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m0</code></td>
<td>
<p>the baseline median survival time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.tt</code></td>
<td>
<p>the effect of the treatment (in log-scale).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta.main</code></td>
<td>
<p>the effect of the prognostic biomarkers (in log-scale).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta.inter</code></td>
<td>
<p>the effect of the biomarkers interacting with the
treatment (in log-scale).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b.corr</code></td>
<td>
<p>the correlation between biomarker blocks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b.corr.by</code></td>
<td>
<p>the size of the blocks of correlated biomarkers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wei.shape</code></td>
<td>
<p>the shape parameter of the Weibull distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recr</code></td>
<td>
<p>the recruitment period duration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fu</code></td>
<td>
<p>the follow-up period duration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timefactor</code></td>
<td>
<p>the scale multiplicative factor for times (i.e. 1 = times in years).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>active.main</code></td>
<td>
<p>the list of the prognostic biomarkers (not
mandatory).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>active.inter</code></td>
<td>
<p>the list of the biomarkers interacting with the
treatment (not mandatory).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>traindata</code></td>
<td>
<p>the training set returned by <code>simdata</code>,
used to generate the new validation data set with the same characteristics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Nvalid</code></td>
<td>
<p>the sample size of the new validation data set.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>simdata</code> function generates <code>p</code> Gaussian unit-variance (<code class="reqn">\sigma</code> = 1) biomarkers including autoregressive correlation (<code class="reqn">\sigma</code>_ij = <code>b.corr</code>^|i-j|) within <code>b.corr.by</code>-biomarker blocks. The number of active biomarkers and their effect sizes (in log-scale) can be specified using <code>q.main</code> and <code>beta.main</code> for the true prognostic biomarkers and using <code>q.inter</code> and <code>beta.inter</code> for the true treatment-effect modifiers. A total of <code>n</code> patients is generated and randomly assigned to the experimental (coded as +0.5, with probability <code>prob.tt</code>) and control treatment (coded as -0.5). The treatment effect is specified using <code>alpha.tt</code> (in log-scale). Survival times are generated using a Weibull with shape <code>wei.shape</code> (i.e. 1 = exponential distribution) and patient-specific scale depending on the baseline median survival time <code>m0</code> and the biomarkers values of the patient.
Censor status is generated by considering independant censoring from a U(<code>fu</code>, <code>fu</code> + <code>recr</code>) distribution, reflecting a trial with <code>recr</code> years of accrual and <code>fu</code> years of follow-up.
Another data set with the same characteristics as the one generated by <code>simdata</code> can be obtained by using the <code>simdataV</code> function.
</p>


<h3>Value</h3>

<p>A simulated <code>data.frame</code> object.
</p>


<h3>Author(s)</h3>

<p>Nils Ternes, Federico Rotolo, and Stefan Michiels<br>
Maintainer: Nils Ternes <a href="mailto:nils.ternes@yahoo.com">nils.ternes@yahoo.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  set.seed(123456)
  sdata &lt;- simdata(
    n = 500, p = 100, q.main = 5, q.inter = 5,
    prob.tt = 0.5, alpha.tt = -0.5,
    beta.main = c(-0.5, -0.2), beta.inter = c(-0.7, -0.4),
    b.corr = 0.6, b.corr.by = 10,
    m0 = 5, wei.shape = 1, recr = 4, fu = 2,
    timefactor = 1,
    active.inter = c("bm003", "bm021", "bm044", "bm049", "bm097"))

  newdata &lt;- simdataV(
    traindata = sdata,
    Nvalid = 500)
</code></pre>


</div>