<div class="container">

<table style="width: 100%;"><tr>
<td>PPC-scatterplots</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>PPC scatterplots</h2>

<h3>Description</h3>

<p>Scatterplots of the observed data <code>y</code> vs. simulated/replicated data
<code>yrep</code> from the posterior predictive distribution. See the
<strong>Plot Descriptions</strong> and <strong>Details</strong> sections, below.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ppc_scatter(
  y,
  yrep,
  ...,
  facet_args = list(),
  size = 2.5,
  alpha = 0.8,
  ref_line = TRUE
)

ppc_scatter_avg(y, yrep, ..., size = 2.5, alpha = 0.8, ref_line = TRUE)

ppc_scatter_avg_grouped(
  y,
  yrep,
  group,
  ...,
  facet_args = list(),
  size = 2.5,
  alpha = 0.8,
  ref_line = TRUE
)

ppc_scatter_data(y, yrep)

ppc_scatter_avg_data(y, yrep, group = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A vector of observations. See <strong>Details</strong>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yrep</code></td>
<td>
<p>An <code>S</code> by <code>N</code> matrix of draws from the posterior (or prior)
predictive distribution. The number of rows, <code>S</code>, is the size of the
posterior (or prior) sample used to generate <code>yrep</code>. The number of columns,
<code>N</code> is the number of predicted observations (<code>length(y)</code>). The columns of
<code>yrep</code> should be in the same order as the data points in <code>y</code> for the plots
to make sense. See the <strong>Details</strong> and <strong>Plot Descriptions</strong> sections for
additional advice specific to particular plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Currently unused.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet_args</code></td>
<td>
<p>A named list of arguments (other than <code>facets</code>) passed
to <code>ggplot2::facet_wrap()</code> or <code>ggplot2::facet_grid()</code>
to control faceting. Note: if <code>scales</code> is not included in <code>facet_args</code>
then <strong>bayesplot</strong> may use <code>scales="free"</code> as the default (depending
on the plot) instead of the <strong>ggplot2</strong> default of <code>scales="fixed"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size, alpha</code></td>
<td>
<p>Arguments passed to <code>ggplot2::geom_point()</code> to control the
appearance of the points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref_line</code></td>
<td>
<p>If <code>TRUE</code> (the default) a dashed line with intercept 0 and
slope 1 is drawn behind the scatter plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>A grouping variable of the same length as <code>y</code>.
Will be coerced to factor if not already a factor.
Each value in <code>group</code> is interpreted as the group level pertaining
to the corresponding observation.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For Binomial data, the plots may be more useful if
the input contains the "success" <em>proportions</em> (not discrete
"success" or "failure" counts).
</p>


<h3>Value</h3>

<p>The plotting functions return a ggplot object that can be further
customized using the <strong>ggplot2</strong> package. The functions with suffix
<code style="white-space: pre;">⁠_data()⁠</code> return the data that would have been drawn by the plotting
function.
</p>


<h3>Plot Descriptions</h3>


<dl>
<dt><code>ppc_scatter()</code></dt>
<dd>
<p>For each dataset (row) in <code>yrep</code> a scatterplot is generated showing <code>y</code>
against that row of <code>yrep</code>. For this plot <code>yrep</code> should only contain a
small number of rows.
</p>
</dd>
<dt><code>ppc_scatter_avg()</code></dt>
<dd>
<p>A single scatterplot of <code>y</code> against the average values of <code>yrep</code>, i.e.,
the points <code style="white-space: pre;">⁠(x,y) = (mean(yrep[, n]), y[n])⁠</code>, where each <code>yrep[, n]</code> is
a vector of length equal to the number of posterior draws. Unlike
for <code>ppc_scatter()</code>, for <code>ppc_scatter_avg()</code> <code>yrep</code> should contain many
draws (rows).
</p>
</dd>
<dt><code>ppc_scatter_avg_grouped()</code></dt>
<dd>
<p>The same as <code>ppc_scatter_avg()</code>, but a separate plot is generated for
each level of a grouping variable.
</p>
</dd>
</dl>
<h3>References</h3>

<p>Gelman, A., Carlin, J. B., Stern, H. S., Dunson, D. B., Vehtari,
A., and Rubin, D. B. (2013). <em>Bayesian Data Analysis.</em> Chapman &amp; Hall/CRC
Press, London, third edition. (Ch. 6)
</p>


<h3>See Also</h3>

<p>Other PPCs: 
<code>PPC-censoring</code>,
<code>PPC-discrete</code>,
<code>PPC-distributions</code>,
<code>PPC-errors</code>,
<code>PPC-intervals</code>,
<code>PPC-loo</code>,
<code>PPC-overview</code>,
<code>PPC-test-statistics</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">y &lt;- example_y_data()
yrep &lt;- example_yrep_draws()
p1 &lt;- ppc_scatter_avg(y, yrep)
p1

# don't draw line x=y
ppc_scatter_avg(y, yrep, ref_line = FALSE)

p2 &lt;- ppc_scatter(y, yrep[20:23, ], alpha = 0.5, size = 1.5)
p2

# give x and y axes the same limits
lims &lt;- ggplot2::lims(x = c(0, 160), y = c(0, 160))
p1 + lims
p2 + lims

# for ppc_scatter_avg_grouped the default is to allow the facets
# to have different x and y axes
group &lt;- example_group_data()
ppc_scatter_avg_grouped(y, yrep, group)

# let x-axis vary but force y-axis to be the same
ppc_scatter_avg_grouped(y, yrep, group, facet_args = list(scales = "free_x"))

</code></pre>


</div>