<div class="container">

<table style="width: 100%;"><tr>
<td>banam</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bayesian estimation of the network autocorrelation model</h2>

<h3>Description</h3>

<p>The <code>banam</code> function can be used for Bayesian estimation of the
network autocorrelation model (NAM). In the case of a single weight matrix, a flat prior,
the independence Jeffreys prior, and a normal prior can be specified for the network autocorrelation
parameter. In the case of multiple weight matrices, a multivariate normal prior can be specified.
</p>


<h3>Usage</h3>

<pre><code class="language-R">banam(
  y,
  X,
  W,
  prior = "flat",
  prior.mean = NULL,
  prior.Sigma = NULL,
  postdraws = 5000,
  burnin = 1000
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric vector containing the observations of the outcome variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>The design matrix of the predictor variables. If absent a column of ones
is automatically to model the intercept.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>W</code></td>
<td>
<p>A weight matrix (in the case of a NAM with a single weight matrix) or
a list of weight matrices (in the case of a NAM with multiple weight matrices).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prior</code></td>
<td>
<p>A character string specifying which prior to use in the case of a
NAM with a single weight matrix. The options are 'flat', 'IJ', and 'normal',
for a flat prior, the independence Jeffreys prior, and a normal prior, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prior.mean</code></td>
<td>
<p>A scalar (or vector) specifying the prior mean(s) of the network
autocorrelation(s). The default prior mean is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prior.Sigma</code></td>
<td>
<p>A scalar (or matrix) specifying the prior variance (or prior covariance
matrix) of the network autocorrelation(s). In the univariate case, the default prior variance
is 1e6. In the multivariate case, the default prior covariance matrix is the identity matrix
times 1e6.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>postdraws</code></td>
<td>
<p>An integer specifying the number of posterior draws after burn-in.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>burnin</code></td>
<td>
<p>An integer specifying the number of draws for burn-in.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The output is an object of class <code>banam</code>. For users of <code>BANAM</code>, the following
are the useful objects:
</p>

<ul>
<li> <p><code>rho.draws</code> Matrix of posterior draws for the network autocorrelation parameter(s).
</p>
</li>
<li> <p><code>beta.draws</code> Matrix of posterior draws for the coefficients.
</p>
</li>
<li> <p><code>sigma2.draws</code> Matrix of posterior draws for the error variance.
</p>
</li>
<li> <p><code>summarystats</code> Table with summary statistics of the posterior.
</p>
</li>
<li> <p><code>residuals</code> Residuals based on all posterior draws.
</p>
</li>
<li> <p><code>fitted.values</code> Fitted values based on all posterior draws.
</p>
</li>
</ul>
<h3>References</h3>

<p>Dittrich, D., Leenders, R.Th.A.J., &amp; Mulder, J. (2017).
Bayesian estimation of the network autocorrelation model. Social Network, 48, 213â€“236.
&lt;doi:10.1016/j.socnet.2016.09.002&gt;
</p>
<p>Dittrich, D., Leenders, R.Th.A.J., &amp; Mulder, J. (2019). Network autocorrelation
modeling: A Bayes factor approach for testing (multiple) precise and interval hypotheses.
Sociological Methods &amp; Research, 48, 642-676. &lt;doi:10.1177/0049124117729712&gt;
</p>
<p>Dittrich, D., Leenders, R.Th.A.J., &amp; Mulder, J. (2020). Network
Autocorrelation Modeling: Bayesian Techniques for Estimating and Testing Multiple
Network Autocorrelations. Sociological Methodology, 50, 168-214.
&lt;doi:10.1177/0081175020913899&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">
#example analyses
#generate example data
set.seed(234)
n &lt;- 50
d1 &lt;- .2
Wadj1 &lt;- sna::rgraph(n, tprob=d1, mode="graph")
W1 &lt;- sna::make.stochastic(Wadj1, mode="row")
d2 &lt;- .4
Wadj2 &lt;- sna::rgraph(n, tprob=d2, mode="graph")
W2 &lt;- sna::make.stochastic(Wadj2, mode="row")
# set rho, beta, sigma2, and generate y
rho1 &lt;- .3
K &lt;- 3
beta &lt;- rnorm(K)
sigma2 &lt;- 1
X &lt;- matrix(c(rep(1, n), rnorm(n*(K-1))), nrow=n, ncol=K)
y &lt;- c((solve(diag(n) - rho1*W1))%*%(X%*%beta + rnorm(n)))

#Bayesian estimation of NAM with a single weight matrix using a flat prior for rho
best1 &lt;- banam(y,X,W1)
print(best1)

#Bayesian estimation of NAM with two weight matrices using standard normal priors
best2 &lt;- banam(y,X,W=list(W1,W2))
print(best2)

#Bayes factor testing of equality/order hypotheses using environment of package 'BFpack'
BFbest2 &lt;- BF(best2,hypothesis="rho1&gt;rho2&gt;0; rho1=rho2&gt;0; rho1=rho2=0")

</code></pre>


</div>