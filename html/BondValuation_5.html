<div class="container">

<table style="width: 100%;"><tr>
<td>DP</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>DP (dirty price calculation of a fixed-coupon bond)</h2>

<h3>Description</h3>

<p><b>DP</b> returns a bond's temporal and pecuniary characteristics on the desired calendar date
according to the methodology presented in Djatschenko (2018).
</p>


<h3>Usage</h3>

<pre><code class="language-R">DP(
  CP = as.numeric(NA),
  SETT = as.Date(NA),
  Em = as.Date(NA),
  Mat = as.Date(NA),
  CpY = as.numeric(NA),
  FIPD = as.Date(NA),
  LIPD = as.Date(NA),
  FIAD = as.Date(NA),
  RV = as.numeric(NA),
  Coup = as.numeric(NA),
  DCC = as.numeric(NA),
  EOM = as.numeric(NA),
  DateOrigin = as.Date("1970-01-01"),
  InputCheck = 1,
  FindEOM = FALSE,
  RegCF.equal = 0,
  AnnivDatesOutput = as.list(NA)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>CP</code></td>
<td>
<p>The bond's clean price.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SETT</code></td>
<td>
<p>The settlement date. Date class object with format "%Y-%m-%d". (required)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Em</code></td>
<td>
<p>The bond's issue date. Date class object with format "%Y-%m-%d". (required)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Mat</code></td>
<td>
<p>So-called "maturity date" i.e. date on which the redemption value and the final interest
are paid. Date class object with format "%Y-%m-%d". (required)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CpY</code></td>
<td>
<p>Number of interest payments per year (non-negative integer; element of the set
{0,1,2,3,4,6,12}. Default: 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FIPD</code></td>
<td>
<p>First interest payment date after <code>Em</code>. Date class object with format "%Y-%m-%d". Default: <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LIPD</code></td>
<td>
<p>Last interest payment date before <code>Mat</code>. Date class object with format "%Y-%m-%d". Default: <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FIAD</code></td>
<td>
<p>Date on which the interest accrual starts (so-called "dated date"). Date class object with format "%Y-%m-%d". Default: <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RV</code></td>
<td>
<p>The redemption value of the bond. Default: 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Coup</code></td>
<td>
<p>Nominal interest rate per year in percent. Default: <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DCC</code></td>
<td>
<p>The day count convention the bond follows. Default: <code>NA</code>.
For a list of day count conventions currently implemented type <code>View(List.DCC)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>EOM</code></td>
<td>
<p>Boolean indicating whether the bond follows the End-of-Month rule. Default: <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DateOrigin</code></td>
<td>
<p>Determines the starting point for the daycount in "Date" objects.
Default: "1970-01-01".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>InputCheck</code></td>
<td>
<p>If 1, the input variables are checked for the correct format. Default: 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FindEOM</code></td>
<td>
<p>If <code>TRUE</code>, <code>EOM</code> is overridden by the value inferred from the data.
Default: <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RegCF.equal</code></td>
<td>
<p>If 0, the amounts of regular cash flows are calculated according to the
stipulated <code>DCC</code>. Any other value forces all regular cash flows to be equal sized.
Default: 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AnnivDatesOutput</code></td>
<td>
<p>A list containing the output of the function AnnivDates. Default: <code>NA</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <b>DP</b> generates a list of the two data frames <code>Dates</code> and <code>Cash</code>,
which contain the relevant date-related and pecuniary characteristics that were either provided
by the user or calculated by the function. <b>Value</b> provides further information on the
output.
</p>


<h3>Value</h3>


<dl>
<dt>
<em><b>Dates</b></em> (data frame)</dt>
<dd>

<dl>
<dt><em>Previous_CouponDate</em></dt>
<dd></dd>
<dt><em>SettlementDate</em></dt>
<dd></dd>
<dt><em>Next_CouponDate</em></dt>
<dd></dd>
<dt><em>DaysAccrued</em></dt>
<dd>
<p>The number of days accrued from <em>Previous_CouponDate</em> to
<em>Next_CouponDate</em>, incl. the earlier and excl. the later
date.</p>
</dd>
<dt><em>DaysInPeriod</em></dt>
<dd>
<p>The number of interest accruing days in the coupon period
from <em>Previous_CouponDate</em> to <em>Next_CouponDate</em>.</p>
</dd>
</dl>
</dd>
<dt>
<em><b>Cash</b></em> (data frame)</dt>
<dd>

<dl>
<dt><em>Dirty_Price</em></dt>
<dd>
<p>Sum of <em>Clean_Price</em> and <em>Accrued_Interest</em>.</p>
</dd>
<dt><em>Clean_Price</em></dt>
<dd>
<p>The clean price entered.</p>
</dd>
<dt><em>Accrued_Interest</em></dt>
<dd>
<p>The amount of accrued interest on <em>SettlementDate</em>.</p>
</dd>
<dt><em>CouponPayment</em></dt>
<dd>
<p>The interest payment on <em>Next_CouponDate</em>.</p>
</dd>
</dl>
</dd>
</dl>
<h3>References</h3>


<ol><li>
<p>Djatschenko, Wadim, The Nitty Gritty of Bond Valuation: A Generalized Methodology for Fixed Coupon Bond Analysis Allowing for Irregular Periods and Various Day Count Conventions (November 5, 2018). Available at SSRN: https://ssrn.com/abstract=3205167.
</p>
</li></ol>
<h3>Examples</h3>

<pre><code class="language-R">CP&lt;-rep(100,16)
SETT&lt;-rep(as.Date("2014-10-15"),16)
Em&lt;-rep(as.Date("2013-11-30"),16)
Mat&lt;-rep(as.Date("2021-04-21"),16)
CpY&lt;-rep(2,16)
FIPD&lt;-rep(as.Date("2015-02-28"),16)
LIPD&lt;-rep(as.Date("2020-02-29"),16)
FIAD&lt;-rep(as.Date("2013-11-30"),16)
RV&lt;-rep(100,16)
Coup&lt;-rep(5.25,16)
DCC&lt;-seq(1,16,by=1)
DP.DCC_Comparison&lt;-data.frame(CP,SETT,Em,Mat,CpY,FIPD,LIPD,FIAD,RV,Coup,DCC)

# you can pass an array to AnnivDates
List&lt;-suppressWarnings(
        AnnivDates(unlist(DP.DCC_Comparison[1,c(3:11)],use.names=FALSE))
)

# and use its output in DP
suppressWarnings(
       DP(unlist(DP.DCC_Comparison[1,c(1:11)],use.names=FALSE),AnnivDatesOutput=List)
)

# or just apply DP to the data frame
DP.Output&lt;-suppressWarnings(
              apply(DP.DCC_Comparison[,c('CP','SETT','Em','Mat','CpY','FIPD',
                                           'LIPD','FIAD','RV','Coup','DCC')],
                     1,function(y) DP(y[1],y[2],y[3],y[4],y[5],y[6],y[7],
                                      y[8],y[9],y[10],y[11])))

DiryPrice&lt;-do.call(rbind,lapply(lapply(DP.Output, `[[`, 2), `[[`, 1))
DP.DCC_Comparison&lt;-cbind(DP.DCC_Comparison,DiryPrice)
DP.DCC_Comparison

</code></pre>


</div>