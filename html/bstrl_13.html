<div class="container">

<table style="width: 100%;"><tr>
<td>SMCMCupdate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform an SMCMC update of record linkage with a new file</h2>

<h3>Description</h3>

<p>Perform an SMCMC update of record linkage with a new file
</p>


<h3>Usage</h3>

<pre><code class="language-R">SMCMCupdate(
  state,
  newfile,
  flds = NULL,
  nIter.jumping = 5,
  nIter.transition = 10,
  cores = 1,
  proposals.jumping = c("component", "LB"),
  proposals.transition = c("LB", "component"),
  blocksize = NULL,
  seed = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>state</code></td>
<td>
<p>Existing record linkage state. Returned by either bipartiteRL,
PPRBupdate, SMCMCupdate, or multifileRL. This is used as the ensemble of
samples in SMCMC update</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newfile</code></td>
<td>
<p>A data.frame representing the new file: one row per record</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flds</code></td>
<td>
<p>Names of fields in the new file to use for comparison. Only used
if no global field names were specified in bipartiteRL initially.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nIter.jumping, nIter.transition</code></td>
<td>
<p>Number of iterations to use in the
jumping kernel and transition kernel, respectively, for each ensemble
sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>Number of cores to use for parallel execution. If cores == 1,
update is run sequentially. A cluster is created using
parallel::makeCluster().</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proposals.jumping, proposals.transition</code></td>
<td>
<p>Which kernel to use for Z
updates in the jumping and transition kernels, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blocksize</code></td>
<td>
<p>Size of blocks to use for locally balanced proposals.
Default performs unblocked locally balanced proposals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Random seed to set at the beginning of the MCMC run. This is
ignored if cores &gt; 1.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class 'bstrlstate' containing posterior samples and
necessary metadata for passing to future streaming updates.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(geco_small)
data(geco_small_result)

# Add fifth file to previous four-file link result
filtered &lt;- thinsamples(geco_small_result, 2) # Filter ensemble to 2 - very small for example
file5.result &lt;- SMCMCupdate(filtered, geco_small[[5]],
                            nIter.jumping=1, nIter.transition=1, # Very small run for example
                            proposals.jumping="LB", proposals.transition="LB",
                            blocksize=5)

</code></pre>


</div>