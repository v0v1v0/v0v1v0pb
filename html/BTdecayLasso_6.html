<div class="container">

<table style="width: 100%;"><tr>
<td>BTdecayLassoF</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bradley-Terry Model with Exponential Decayed weighted likelihood and Adaptive Lasso with a given penalty rate</h2>

<h3>Description</h3>

<p>This function provides a method to computed the estimated abilities and lambda given an intuitive fixed Lasso penalty rate.
Since in Lasso method, the selection of lambda varies a lot with respect to different datasets. We can keep the consistency of
amount of Lasso penalty induced in different datasets from different period by setting a fixed Lasso penalty rate "penalty".
Please refer to <code>BTdecayLasso</code> for the definition of "penalty" and its relationship with "lambda".
</p>


<h3>Usage</h3>

<pre><code class="language-R">BTdecayLassoF(
  dataframe,
  ability,
  penalty,
  decay.rate = 0,
  fixed = 1,
  thersh = 1e-05,
  max = 100,
  iter = 100
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataframe</code></td>
<td>
<p>Generated using <code>BTdataframe</code> given raw data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ability</code></td>
<td>
<p>A column vector of teams ability, the last row is the home parameter. It can be generated using <code>BTdataframe</code> given raw data.
The row number is consistent with the team's index shown in dataframe. It can be generated using <code>BTdataframe</code> given raw data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>penalty</code></td>
<td>
<p>The amount of Lasso penalty induced (1-s/max(s)) where is the sum of Lasso penalty part.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decay.rate</code></td>
<td>
<p>The exponential decay rate. Usually ranging from (0, 0.01), A larger decay rate weights more
importance to most recent matches and the estimated parameters reflect more on recent behaviour.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed</code></td>
<td>
<p>A teams index whose ability will be fixed as 0. The worstTeam's index
can be generated using <code>BTdataframe</code> given raw data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thersh</code></td>
<td>
<p>Threshold for convergence</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max</code></td>
<td>
<p>Maximum weight for <code class="reqn">w_{ij}</code> (weight used for Adaptive Lasso)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter</code></td>
<td>
<p>Number of iterations used in L-BFGS-B algorithm.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The estimated ability given fixed penalty <code class="reqn">p = 1- s/\max(s)</code> where s is the sum of Lasso penalty part.
When p = 0, this model is reduced to a standard Bradley-Terry Model.
When p = 1, all ability scores are shrinking to 0.
</p>
<p>The parameter "penalty" should be ranging from 0.01 to 0.99 due to the iteration's convergent error.
</p>
<p>summary() function can be applied to view the outputs.
</p>


<h3>Value</h3>

<p>The list with class "BTF" contains estimated abilities and other parameters.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>ability</code></td>
<td>
<p>Estimated ability scores</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>Degree of freedom (number of distinct <code class="reqn">\mu</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>penalty</code></td>
<td>
<p>Amount of Lasso Penalty</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decay.rate</code></td>
<td>
<p>Exponential decay rate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>Corresponding Lasso lambda given penalty rate</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Masarotto, G. and Varin, C.(2012) The Ranking Lasso and its Application to Sport Tournaments. 
*The Annals of Applied Statistics* **6** 1949–1970.
</p>
<p>Zou, H. (2006) The adaptive lasso and its oracle properties. 
*J.Amer.Statist.Assoc* **101** 1418–1429.
</p>


<h3>See Also</h3>

<p><code>BTdataframe</code> for dataframe initialization, <code>BTdecayLasso</code> for detailed description
</p>


</div>