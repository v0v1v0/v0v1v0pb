<div class="container">

<table style="width: 100%;"><tr>
<td>btb_add_centroids</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Link points to their centroids</h2>

<h3>Description</h3>


<ul>
<li>
<p> Link some points to their centroids in a grid segmentation
</p>
</li>
<li>
<p> Relie des points aux centroides des carreaux auxquels ces points appartiennent (dans un découpage de l'espace en grille carroyée)
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">btb_add_centroids(
  pts,
  iCellSize,
  offset = c(0L, 0L),
  names_coords = c("x", "y"),
  names_centro = c("x_centro", "y_centro"),
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pts</code></td>
<td>
<p>: points (<code>df</code> of <code>sf</code> object)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iCellSize</code></td>
<td>
<p>:
</p>

<ul>
<li>
<p> Size of the square cells (<strong>meters</strong>)
</p>
</li>
<li>
<p> Taille des côtés des carreaux (<strong>mètres</strong>)
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>(<strong>numeric vector of size 2</strong>)
</p>

<ul>
<li>
<p> Offset for a grid non centered on the geographical referential origin
</p>
</li>
<li>
<p> Décalage si utilisation d'une grille non centrée sur l'origine du référentiel géographique
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names_coords</code></td>
<td>
<p>:
</p>

<ul>
<li>
<p> Names of the latitude-longitude variables (<strong>character vector</strong>)
</p>
</li>
<li>
<p> Noms des variables de latitude-longitude (<strong>vecteur character</strong>)
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names_centro</code></td>
<td>

<ul><li>
<p> Names of the latitude-longitude variables for added centroids  (<strong>character vector</strong>)
</p>

<ul><li>
<p> Noms des variables de latitude-longitude pour les centroïdes ajoutés (<strong>vecteur character</strong>)
</p>
</li></ul>
</li></ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>(<strong>boolean</strong>)
</p>

<ul>
<li>
<p> If TRUE : returns pts + centroids coordinates
</p>
</li>
<li>
<p> Si TRUE : retourne pts + les coordonnées des centroïdes
</p>
</li>
</ul>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Works with sf points but only with coordinates in meters (and not degrees !). Do not use sf points with GPS coordinates for example.
</p>


<h3>Value</h3>


<ul>
<li> <p><code>pts</code> table with additional centroids coordinates <code>x_centro</code> and <code>y_centro</code> (<code>df</code> of <code>sf</code> object)
</p>
</li>
<li>
<p> Table <code>pts</code> avec les coordonnées des centroïdes <code>x_centro</code> and <code>y_centro</code> (objet <code>df</code> of <code>sf</code> )
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">pts &lt;- data.frame(
x = c(656913.1 , 348296.3 , 842276.3 , 716750.0 , 667418.2),
y = c(6855995 , 6788073 , 6385680 , 7003984 , 6585793),
val = 1:5)
btb_add_centroids(pts, 100, names_centro = c("centroX", "centroY"))
btb_add_centroids(pts, 100, offset = c(50, 50), names_centro = c("centroX", "centroY"))
pts2 &lt;- sf::st_as_sf(pts, coords = c("x","y"), crs = 2154)
btb_add_centroids(pts2, 50)
</code></pre>


</div>