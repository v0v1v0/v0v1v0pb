<div class="container">

<table style="width: 100%;"><tr>
<td>HB.CA.MC</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>An Extension of the Hanson and Brennan Approach to Estimate Classification Consistency and Accuracy for Multiple Classifications based on Observed Test Scores and Test Reliability.</h2>

<h3>Description</h3>

<p>An implementation of what has been come to be known as the "Hanson and Brennan approach" to classification consistency and accuracy, which by employing a compound beta-binomial distribution assumes that true-scores conform to the four-parameter beta distribution, and errors of measurement to the binomial distribution. Under these assumptions, the expected classification consistency and accuracy of tests can be estimated from observed outcomes and test reliability.
</p>


<h3>Usage</h3>

<pre><code class="language-R">HB.CA.MC(
  x = NULL,
  reliability,
  cut,
  testlength,
  true.model = "4P",
  failsafe = TRUE,
  l = 0,
  u = 1,
  modelfit = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector of observed scores, or a list specifying parameter values. If a list is provided, the list entries must be named after the parameters: <code>l</code> and <code>u</code> for the location-, and <code>alpha</code> and <code>beta</code> for the shape parameters of the Beta true-score distribution, and <code>k</code> for the "Lord's k" parameter (see documentation for the <code>Lords.k</code> function).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reliability</code></td>
<td>
<p>The observed-score squared correlation (i.e., proportion of shared variance) with the true-score.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cut</code></td>
<td>
<p>A vector of cut-off values for classifying observations into two or more categories.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>testlength</code></td>
<td>
<p>The total number of test items (or maximum possible score). Must be an integer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true.model</code></td>
<td>
<p>The probability distribution to be fitted to the moments of the true-score distribution. Options are <code>"4P"</code> (default) and <code>"2P"</code>, referring to four- and two-parameter Beta distributions. The "4P" method produces a four-parameter Beta distribution with the same first four moments (mean, variance, skewness, and kurtosis) as the estimated true-score distribution, while the "2P" method produces a two-parameter Beta distribution with the first two moments (mean and variance) as the estimated true-score distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>failsafe</code></td>
<td>
<p>Logical value indicating whether to engage the automatic fail-safe defaulting to the two-parameter Beta true-score distribution if the four-parameter fitting procedure produces impermissible parameter estimates. Default is <code>TRUE</code> (i.e., the function will engage failsafe if the four-parameter Beta-distribution fitting-procedure produced impermissible estimates).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>l</code></td>
<td>
<p>If <code>true.model = "2P"</code> or <code>failsafe = TRUE</code>, the lower-bound location parameter to be used in the two-parameter fitting procedure. Default is 0 (i.e., the lower-bound of the Standard Beta distribution).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>u</code></td>
<td>
<p>If <code>true.model = "2P"</code> or <code>failsafe = TRUE</code>, the upper-bound location parameter to be used in the two-parameter fitting procedure. Default is 1 (i.e., the upper-bound of the Standard Beta distribution).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modelfit</code></td>
<td>
<p>Allows for controlling the chi-square test for model fit by setting the minimum bin-size for expected observations. Can alternatively be set to <code>NULL</code> to forego model-fit testing (speeding up the function). In accordance with standard recommendations for chi-square tests the default input to this argument is 10.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing the estimated parameters necessary for the approach (i.e., Lord's k, test-length, and the true-score Beta distribution parameters), a chi-square test of model-fit, the confusion matrix containing estimated proportions of true/false positive/negative categorizations for a test, diagnostic performance statistics, and/or a classification consistency matrix and indices. Accuracy output includes a confusion matrix and diagnostic performance indices, and consistency output includes a consistency matrix and consistency indices <code>p</code> (expected proportion of agreement between two independent test administrations), <code>p_c</code> (proportion of agreement on two independent administrations expected by chance alone), and <code>Kappa</code> (Cohen's Kappa).
</p>


<h3>Note</h3>

<p>This implementation of the Hanson-Brennan approach is much slower than the implementation of the Livingston and Lewis approach, as there is no native implementation of Lord's two-term approximation to the Compound-Binomial distribution in R. This implementation uses a "brute-force" method of computing the cumulative probabilities from the compound-Binomial distribution, which will by necessity be more resource intensive.
</p>


<h3>References</h3>

<p>Hanson, Bradley A. (1991). Method of Moments Estimates for the Four-Parameter Beta Compound Binomial Model and the Calculation of Classification Consistency Indexes. American College Testing.
</p>
<p>Lord. Frederic M. (1965). A Strong True-Score Theory, With Applications. Psychometrika, 30(3).
</p>
<p>Lewis, Don and Burke, C. J. (1949). The Use and Misuse of the Chi-Square Test. Psychological Bulletin, 46(6).
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Generate some fictional data. Say, 1000 individuals take a 20-item test.
set.seed(1234)
p.success &lt;- rBeta.4P(1000, 0.15, 0.85, 6, 4)
 for (i in 1:20) {
   if (i == 1) {
     rawdata &lt;- matrix(nrow = 1000, ncol = 20)
     }
   rawdata[, i] &lt;- rbinom(1000, 1, p.success)
 }

# Suppose the cutoff value for attaining a pass is 10 items correct, and
# that the reliability of this test was estimated using the Cronbach's Alpha
# estimator. To estimate and retrieve the estimated parameters, confusion and
# consistency matrices, and accuracy and consistency indices using HB.CA():
(output &lt;- HB.CA.MC(x = rowSums(rawdata), reliability = cba(rawdata),
cut = c(8, 12), testlength = 20))

# The output for this function can get quite verbose as more categories are
# included. The output from the function can be fed to the MC.out.tabular()
# function in order to organize the output in a tabular format.
MC.out.tabular(output)

</code></pre>


</div>