<div class="container">

<table style="width: 100%;"><tr>
<td>tfr.median.set.all</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Editing median for estimation and projections.
</h2>

<h3>Description</h3>

<p>These functions are to be used by expert analysts. They allow to change the estimation and projection medians to specific values or to the WPP values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tfr.median.set.all(sim.dir, country, values, years = NULL, 
    burnin = 0, thin = 1)

tfr.median.reset.estimation(sim.dir, countries = NULL)

tfr.shift.estimation.to.wpp(sim.dir, ..., verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sim.dir</code></td>
<td>
<p>Directory containing the prediction object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>country</code></td>
<td>
<p>Name or numerical code of a country.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>countries</code></td>
<td>
<p>Vector of country names or codes. If <code>NULL</code>, the reset is done for all countries.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values</code></td>
<td>
<p>Array of the new median values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>years</code></td>
<td>
<p>Numeric vector giving years which <code>values</code> correspond to. Ideally it should be of the same length as <code>values</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>burnin</code></td>
<td>
<p>Burnin to use when computing the estimation median.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thin</code></td>
<td>
<p>Thinning interval to use when computing the estimation median.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Can be used to pass <code>burnin</code> <code>thin</code> to the underlying funcions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical. If <code>TRUE</code> a progress of the adjustment is shown.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Expert analysts can use these functions to adjust both prediction and estimation medians. Estimation medians can only be adjusted if the simulation was performed with <code>uncertainty = TRUE</code>. In such a case <code>years</code> can include past time periods. By default a union of estimation and projection time periods is considered when matched to <code>values</code>. 
</p>
<p>Function <code>tfr.shift.estimation.to.wpp</code> shifts the median estimation of all countries so that they match the values in the <code>tfr</code> dataset of the corresponding WPP package. Argument <code>burnin</code> and <code>thin</code> should be passed to compute the estimation medians.
</p>
<p>Function <code>tfr.median.reset.estimation</code> resets previous adjustments obtained using <code>tfr.median.set.all</code>. By default it resets adjustments for all countries.
</p>


<h3>Value</h3>

<p>Output is a list. If there are time periods matched to estimation, an object of class <code>bayesTFR.mcmc.meta</code> is included in the element <code>meta</code>. If there are time periods matched to years in prediction, then an object of class <code>bayesTFR.prediction</code> is included in the element <code>pred</code>.
</p>
<p>Function <code>tfr.shift.estimation.to.wpp</code> returns the updated <code>mcmc.set</code> object.
</p>


<h3>Author(s)</h3>

<p>Peiran Liu
</p>


<h3>See Also</h3>

<p><code>tfr.shift.prediction.to.wpp</code> for shifting prediction medians to WPP values.</p>


</div>