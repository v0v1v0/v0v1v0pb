<div class="container">

<table style="width: 100%;"><tr>
<td>average_estimates</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>average_estimates</h2>

<h3>Description</h3>

<p>Extracts posterior predicted estimate values from a list of class
<code>bayesnecfit</code> or <code>bayesmanecfit</code> model fits and
calculates a geometric mean.
</p>


<h3>Usage</h3>

<pre><code class="language-R">average_estimates(
  x,
  estimate = "nec",
  ecx_val = 10,
  posterior = FALSE,
  type = "absolute",
  hormesis_def = "control",
  sig_val = 0.01,
  resolution = 1000,
  x_range = NA,
  xform = identity,
  prob_vals = c(0.5, 0.025, 0.975)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A named <code>list</code> of objects of class
<code>bayesnecfit</code> or <code>bayesmanecfit</code> returned by
<code>bnec</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimate</code></td>
<td>
<p>The type of estimate to use in the mean. Takes values
"nec", "ecx" or "nsec".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ecx_val</code></td>
<td>
<p>The desired percentage effect value. This must be a value
between 1 and 99 (for type = "relative" and "absolute"), defaults to 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>posterior</code></td>
<td>
<p>A <code>logical</code> value indicating if the full
posterior sample of calculated ECx values should be returned instead of
just the median and 95 credible intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A <code>character</code> vector, taking values of
"relative", "absolute" (the default) or "direct". See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hormesis_def</code></td>
<td>
<p>A <code>character</code> vector, taking values
of "max" or "control". See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig_val</code></td>
<td>
<p>Probability value to use as the lower quantile to test
significance of the predicted posterior values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resolution</code></td>
<td>
<p>The number of unique x values over which to find ECx â€“
large values will make the ECx estimate more precise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_range</code></td>
<td>
<p>A range of x values over which to consider extracting ECx.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xform</code></td>
<td>
<p>A function to apply to the returned estimated concentration
values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob_vals</code></td>
<td>
<p>A vector indicating the probability values over which to
return the estimated ECx value. Defaults to 0.5 (median) and 0.025 and
0.975 (95 percent credible intervals).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The geometric mean of values are simply the mean calculated on a
log scale and back transformed through <code>exp</code>, although we
have added the capacity to accommodate zero values. Note that the function
assumes that <code>x</code> has been modelled on the natural scale. Often CR
models are more stable on a log-transformed or sqrt scaling. If the input
<code>bayesnecfit</code> or <code>bayesmanecfit</code> model fits are
already based on a re-scaling of the x (concentration) axis, it is important
to pass an appropriate xform argument to ensure these are back transformed
before the the geometric mean calculation is applied.
</p>


<h3>Value</h3>

<p>The geometric mean of the estimates estimate values
of the <code>bayesnecfit</code> or <code>bayesmanecfit</code>
model fits contained in <code>x</code>. See Details.
</p>


<h3>See Also</h3>

<p><code>bnec</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(brms)
library(bayesnec)
data(manec_example)
nec4param &lt;- pull_out(manec_example, model = "nec4param")
ecx4param &lt;- pull_out(manec_example, model = "ecx4param")
average_estimates(list("nec" = ecx4param, "ecx" = nec4param), ecx_val = 50)

## End(Not run)

</code></pre>


</div>