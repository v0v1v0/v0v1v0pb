<div class="container">

<table style="width: 100%;"><tr>
<td>getIndex</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Group experiments.</h2>

<h3>Description</h3>

<p>Creates a list of <code>factor</code> to use in functions like <code>tapply</code>, <code>by</code>
or <code>aggregate</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getIndex(
  reg,
  ids,
  by.prob = FALSE,
  by.algo = FALSE,
  by.repl = FALSE,
  by.prob.pars,
  by.algo.pars,
  enclos = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>reg</code></td>
<td>
<p>[<code>ExperimentRegistry</code>]<br>
Registry.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ids</code></td>
<td>
<p>[<code>integer</code>]<br>
If not missing, restict grouping to this subset of experiment ids.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by.prob</code></td>
<td>
<p>[<code>logical</code>]<br>
Group experiments by problem. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by.algo</code></td>
<td>
<p>[<code>logical</code>]<br>
Group experiments by algorithm. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by.repl</code></td>
<td>
<p>[<code>logical</code>]<br>
Group experiments by replication. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by.prob.pars</code></td>
<td>
<p>[R expression]<br>
If not missing, group experiments by this R expression.
The expression is evaluated in the environment of problem parameters and
converted to a factor using <code>as.factor</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by.algo.pars</code></td>
<td>
<p>[R expression]<br>
If not missing, group experiments by this R expression.
The expression is evaluated in the environment of algorithm parameters and
converted to a factor using <code>as.factor</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enclos</code></td>
<td>
<p>[<code>environment</code>]<br>
Enclosing frame for evaluation of parameters used by <code>by.prob.pars</code> and
<code>by.algo.pars</code>, see <code>eval</code>. Defaults to the parent
frame.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>[<code>list</code>]. List of factors.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># create a registry and add problems and algorithms
reg = makeExperimentRegistry("getIndex", file.dir = tempfile(""))
addProblem(reg, "prob", static = 1)
addAlgorithm(reg, "f0", function(static, dynamic) static)
addAlgorithm(reg, "f1", function(static, dynamic, i, k) static * i^k)
ad = list(makeDesign("f0"), makeDesign("f1", exhaustive = list(i = 1:5, k = 1:3)))
addExperiments(reg, algo.designs = ad)
submitJobs(reg)

# get grouped job ids
ids = getJobIds(reg)
by(ids, getIndex(reg, by.prob = TRUE, by.algo = TRUE), identity)
ids = findExperiments(reg, algo.pattern = "f1")
by(ids, getIndex(reg, ids, by.algo.pars = (k == 1)), identity)

# groupwise reduction
ids = findExperiments(reg, algo.pattern = "f1")
showStatus(reg, ids)
f = function(aggr, job, res) aggr + res
by(ids, getIndex(reg, ids, by.algo.pars = k), reduceResults, reg = reg, fun = f)
by(ids, getIndex(reg, ids, by.algo.pars = i), reduceResults, reg = reg, fun = f)
</code></pre>


</div>