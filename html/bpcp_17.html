<div class="container">

<table style="width: 100%;"><tr>
<td>fixtdiff</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Two sample test for Difference in Survival at Fixed Time
</h2>

<h3>Description</h3>

<p>Asymptotic two sample tests for difference in survival at a fixed time, using normal approximations and transformations.  See Klien, et al (2007) for details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fixtdiff(time,status,group, testtime, 
    trans=c("identity","cloglog","log"),
    varpooled=TRUE, correct=FALSE, doall=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>

<p>time to event for each observation
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>status</code></td>
<td>

<p>status of event time, 1 is observed, 0 is right censored
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>

<p>group for test, should have two levels, to change order use as factor and change order of levels
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>testtime</code></td>
<td>

<p>fixed time when you want to test for a difference
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trans</code></td>
<td>
<p>type of transformation, one of 'identity', 'cloglog' or 'log'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varpooled</code></td>
<td>
<p>logical, pool the variance?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correct</code></td>
<td>
<p>logical, do continuity correction? Continuity correction for when trans='identity' and varpooled (see Warning) </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doall</code></td>
<td>
<p>logical, do all transformations and corrections</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function provides p-values for the two sample tests that the survival distributions are equal at time <code>testtime</code>. The tests are asymptotically normal tests and are described in Klein, et al (2007). These functions are mostly for simulations to evaluate the melded BPCP tests, see <code>bpcp2samp</code> and Fay et al (2015).  
</p>


<h3>Value</h3>

<p>A list with the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>plo</code></td>
<td>
<p>one-sided p-value, alternative: S1(testtime)&gt;S2(testtime)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phi</code></td>
<td>
<p>one-sided p-value, alternative: S1(testtime)&lt;S2(testtime</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p2</code></td>
<td>
<p>two-sided p-value, min(1,2*plo,2*phi)</p>
</td>
</tr>
</table>
<h3>Warning</h3>

<p>Continuity correction derived from the case with no censoriing (see Fleiss et al 3rd edition, pp. 50-55).  May not make sense when there is censoring. Use at own risk. 
</p>


<h3>Author(s)</h3>

<p>Michael P. Fay
</p>


<h3>References</h3>

<p>Fay, MP, Proschan, MA, and Brittain, E (2015) Combining One Sample Confidence Procedures for Inferences in the Two Sample Case. Biometrics 71:146-156. 
</p>
<p>Fleiss, Levin, Paik (2003) Statistical Methods for Rates and Proportions, 3rd edition.
</p>
<p>Klein, Logan, Harhoff, and Andersen (2007). Analyzing survival curves at a fixed point in time. Statistics in Medicine 26(24): 4505-4519.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(leuk2)
# Note that since the Kaplan-Meier survival at time=35 goes to 
# zero for one group, the results for the log and cloglog 
# transformations are undefined
fixtdiff(leuk2$time,leuk2$status,leuk2$treatment,35,doall=TRUE)

</code></pre>


</div>