<div class="container">

<table style="width: 100%;"><tr>
<td>densityplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Computes and plots kernel density estimation of shots with respect to a concurrent variable</h2>

<h3>Description</h3>

<p>Computes and plots kernel density estimation of shots with respect to a concurrent variable
</p>


<h3>Usage</h3>

<pre><code class="language-R">densityplot(
  data,
  var,
  shot.type = "field",
  thresholds = NULL,
  best.scorer = FALSE,
  period.length = 12,
  bw = NULL,
  title = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame whose rows are shots and with the following columns: <code>ShotType</code>, <code>player</code>, <code>points</code> and at least one of <code>playlength</code>, <code>periodTime</code>, <code>totalTime</code>, <code>shot_distance</code> (the column specified in <code>var</code>, see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>character, a string giving the name of the numerical variable according to which the shot density is estimated. Available options: <code>"playlength"</code>, <code>"periodTime"</code>, <code>"totalTime"</code>, <code>"shot_distance"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shot.type</code></td>
<td>
<p>character, a string giving the type of shots to be analyzed. Available options: <code>"2P"</code>, <code>"3P"</code>, <code>"FT"</code>, <code>"field"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thresholds</code></td>
<td>
<p>numerical vector with two thresholds defining the range boundaries that divide the area under the density curve into three regions. If <code>NULL</code> default values are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>best.scorer</code></td>
<td>
<p>logical; if TRUE, displays the player who scored the highest number of points in the corresponding interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>period.length</code></td>
<td>
<p>numeric, the length of a quarter in minutes (default: 12 minutes as in NBA).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bw</code></td>
<td>
<p>numeric, the value for the smoothing bandwidth of the kernel density estimator or a character string giving a rule to choose the bandwidth (see density).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>character, plot title.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>data</code> data frame could also be a play-by-play dataset provided that rows corresponding to events different from shots have <code>NA</code> in the <code>ShotType</code> variable.
</p>
<p>Required columns:
</p>

<ul><li> <p><code>ShotType</code>, a factor with the following levels: <code>"2P"</code>, <code>"3P"</code>, <code>"FT"</code> (and <code>NA</code> for events different from shots)
</p>
</li></ul>
<ul><li> <p><code>player</code>, a factor with the name of the player who made the shot
</p>
</li></ul>
<ul><li> <p><code>points</code>, a numeric variable (integer) with the points scored by made shots and <code>0</code> for missed shots
</p>
</li></ul>
<ul><li> <p><code>playlength</code>, a numeric variable with time between the shot and the immediately preceding event
</p>
</li></ul>
<ul><li> <p><code>periodTime</code>, a numeric variable with seconds played in the quarter when the shot is attempted
</p>
</li></ul>
<ul><li> <p><code>totalTime</code>, a numeric variable with seconds played in the whole match when the shot is attempted
</p>
</li></ul>
<ul><li> <p><code>shot_distance</code>, a numeric variable with the distance of the shooting player from the basket (in feet)
</p>
</li></ul>
<h3>Value</h3>

<p>A <code>ggplot2</code> plot
</p>


<h3>Author(s)</h3>

<p>Marco Sandri, Paola Zuccolotto, Marica Manisera (<a href="mailto:basketballanalyzer.help@unibs.it">basketballanalyzer.help@unibs.it</a>)
</p>


<h3>References</h3>

<p>P. Zuccolotto and M. Manisera (2020) Basketball Data Science: With Applications in R. CRC Press.
</p>


<h3>Examples</h3>

<pre><code class="language-R">PbP &lt;- PbPmanipulation(PbP.BDB)
data.team  &lt;- subset(PbP, team=="GSW" &amp; result!="")
densityplot(data=data.team, shot.type="2P", var="playlength", best.scorer=TRUE)
data.opp &lt;- subset(PbP, team!="GSW" &amp; result!="")
densityplot(data=data.opp, shot.type="2P", var="shot_distance", best.scorer=TRUE)
</code></pre>


</div>