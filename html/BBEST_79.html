<div class="container">

<table style="width: 100%;"><tr>
<td>withProgress</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reporting progress (functional API)</h2>

<h3>Description</h3>

<p>Reports progress to the user during long-running operations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">withProgress(
  session,
  expr,
  min = 0,
  max = 1,
  env = parent.frame(),
  quoted = FALSE
)

setProgress(message = NULL, detail = NULL, value = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>session</code></td>
<td>
<p>The Shiny session object, as provided by
<code>shinyServer</code> to the server function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>The work to be done. This expression should contain calls
to <code>setProgress</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min</code></td>
<td>
<p>The value that represents the starting point of the
progress bar. Must be less than <code>max</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max</code></td>
<td>
<p>The value that represents the end of the progress bar.
Must be greater than <code>min</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>The environment in which <code>expr</code> should be evaluated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quoted</code></td>
<td>
<p>Whether <code>expr</code> is a quoted expression (this is not
common).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>message</code></td>
<td>
<p>A single-element character vector; the message to be
displayed to the user, or <code>NULL</code> to hide the current message
(if any).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>detail</code></td>
<td>
<p>A single-element character vector; the detail message
to be displayed to the user, or <code>NULL</code> to hide the current
detail message (if any). The detail message will be shown with a
de-emphasized appearance relative to <code>message</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>Single-element numeric vector; the value at which to set
the progress bar, relative to <code>min</code> and <code>max</code>.
<code>NULL</code> hides the progress bar, if it is currently visible.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This package exposes two distinct programming APIs for working with
progress. <code>withProgress</code> and <code>setProgress</code> together provide
a simple function-based interface, while the <code>Progress</code>
reference class provides an object-oriented API.
</p>
<p>Use <code>withProgress</code> to wrap the scope of your work; doing so will
cause a new progress panel to be created, and it will be displayed the
first time <code>setProgress</code> is called. When <code>withProgress</code> exits,
the corresponding progress panel will be removed.
</p>
<p>Generally, <code>withProgress</code>/<code>setProgress</code> should be
sufficient; the exception is if the work to be done is asynchronous
(this is not common) or otherwise cannot be encapsulated by a single
scope. In that case, you can use the <code>Progress</code> reference class.
</p>


<h3>See Also</h3>

<p><code>progressInit</code>, <code>Progress</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# server.R
shinyServer(function(input, output, session) {
  output$plot &lt;- renderPlot({
    withProgress(session, min=1, max=15, {
      setProgress(message = 'Calculation in progress',
                  detail = 'This may take a while...')
      for (i in 1:15) {
        setProgress(value = i)
        Sys.sleep(0.5)
      }
    })
    plot(cars)
  })
})

## End(Not run)
</code></pre>


</div>