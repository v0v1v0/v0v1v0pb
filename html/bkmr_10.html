<div class="container">

<table style="width: 100%;"><tr>
<td>PredictorResponseBivarLevels</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot cross-sections of the bivariate predictor-response function</h2>

<h3>Description</h3>

<p>Function to plot the <code>h</code> function of a particular variable at different levels (quantiles) of a second variable
</p>


<h3>Usage</h3>

<pre><code class="language-R">PredictorResponseBivarLevels(
  pred.resp.df,
  Z = NULL,
  qs = c(0.25, 0.5, 0.75),
  both_pairs = TRUE,
  z.names = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pred.resp.df</code></td>
<td>
<p>object obtained from running the function <code>PredictorResponseBivar</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p>an <code>n</code>-by-<code>M</code> matrix of predictor variables to be included in the <code>h</code> function. Each row represents an observation and each column represents an predictor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qs</code></td>
<td>
<p>vector of quantiles at which to fix the second variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>both_pairs</code></td>
<td>
<p>flag indicating whether, if <code>h(z1)</code> is being plotted for z2 fixed at different levels, that they should be plotted in the reverse order as well (for <code>h(z2)</code> at different levels of z1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z.names</code></td>
<td>
<p>optional vector of names for the columns of <code>z</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For guided examples, go to <a href="https://jenfb.github.io/bkmr/overview.html">https://jenfb.github.io/bkmr/overview.html</a>
</p>


<h3>Value</h3>

<p>a long data frame with the name of the first predictor, the name of the second predictor, the value of the first predictor, the quantile at which the second predictor is fixed, the posterior mean estimate, and the posterior standard deviation of the estimated exposure response function
</p>


<h3>Examples</h3>

<pre><code class="language-R">## First generate dataset
set.seed(111)
dat &lt;- SimData(n = 50, M = 4)
y &lt;- dat$y
Z &lt;- dat$Z
X &lt;- dat$X

## Fit model with component-wise variable selection
## Using only 100 iterations to make example run quickly
## Typically should use a large number of iterations for inference
set.seed(111)
fitkm &lt;- kmbayes(y = y, Z = Z, X = X, iter = 100, verbose = FALSE, varsel = TRUE)

## Obtain predicted value on new grid of points for each pair of predictors
## Using only a 10-by-10 point grid to make example run quickly
pred.resp.bivar &lt;- PredictorResponseBivar(fit = fitkm, min.plot.dist = 1, ngrid = 10)
pred.resp.bivar.levels &lt;- PredictorResponseBivarLevels(pred.resp.df = pred.resp.bivar, 
Z = Z, qs = c(0.1, 0.5, 0.9))
</code></pre>


</div>