<div class="container">

<table style="width: 100%;"><tr>
<td>PPRBupdate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform a PPRB update of record linkage with a new file</h2>

<h3>Description</h3>

<p>Perform a PPRB update of record linkage with a new file
</p>


<h3>Usage</h3>

<pre><code class="language-R">PPRBupdate(
  state,
  newfile,
  flds = NULL,
  nIter = NULL,
  burn = 0,
  blocksize = NULL,
  threestep = TRUE,
  seed = 0,
  refresh = 0.1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>state</code></td>
<td>
<p>Existing record linkage state. Returned by either bipartiteRL,
PPRBupdate, SMCMCupdate, or multifileRL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newfile</code></td>
<td>
<p>A data.frame representing the new file: one row per record</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flds</code></td>
<td>
<p>Names of fields in the new file to use for comparison. Only used
if no global field names were specified in bipartiteRL initially.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nIter</code></td>
<td>
<p>Number of iterations for which to run the PPRB sampler. By
default, this is the same as the number of samples present in 'state'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>burn</code></td>
<td>
<p>Number of initial iterations to discard. The total number of
samples returned is nIter - burn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blocksize</code></td>
<td>
<p>Size of blocks to use for locally balanced proposals.
Default performs unblocked locally balanced proposals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threestep</code></td>
<td>
<p>Whether to perform three Gibbs sampling steps per iteration,
with past Z's updated with PPRB, m and u updated with full conditionals,
and the current Z updated with locally balanced proposals. If false, a two
step Gibbs sampler is used where past Z's, m and u are updated together
using PPRB and the current Z is updated with locally balanced proposals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Random seed to set at the beginning of the MCMC run</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refresh</code></td>
<td>
<p>How often to output an update including the iteration number
and percent complete. If refresh &gt;= 1, taken as a number of iterations
between messages (rounded). If 0 &lt; refresh &lt; 1, taken as the proportion of
nIter. If refresh == 0, no messages are displayed.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class 'bstrlstate' containing posterior samples and
necessary metadata for passing to future streaming updates.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(geco_small)
data(geco_small_result)

# Add fifth file to previous four-file link result
file5.result &lt;- PPRBupdate(geco_small_result, geco_small[[5]],
                           nIter=2, burn=1) # Very small run for example

</code></pre>


</div>