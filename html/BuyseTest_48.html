<div class="container">

<table style="width: 100%;"><tr>
<td>GPC_cpp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>C++ function performing the pairwise comparison over several endpoints.</h2>

<h3>Description</h3>

<p><code>GPC_cpp</code> call for each endpoint and each strata the pairwise comparison function suited to the type of endpoint and store the results.
</p>


<h3>Usage</h3>

<pre><code class="language-R">GPC_cpp(
  endpoint,
  status,
  indexC,
  posC,
  indexT,
  posT,
  threshold,
  threshold0,
  restriction,
  weightEndpoint,
  weightObs,
  method,
  pool,
  op,
  D,
  D_UTTE,
  n_strata,
  nUTTE_analyzedPeron_M1,
  index_endpoint,
  index_status,
  index_UTTE,
  list_survTimeC,
  list_survTimeT,
  list_survJumpC,
  list_survJumpT,
  list_lastSurv,
  p_C,
  p_T,
  iid_survJumpC,
  iid_survJumpT,
  zeroPlus,
  correctionUninf,
  hierarchical,
  hprojection,
  neutralAsUninf,
  addHalfNeutral,
  keepScore,
  precompute,
  paired,
  returnIID,
  debug
)

GPC2_cpp(
  endpoint,
  status,
  indexC,
  posC,
  indexT,
  posT,
  threshold,
  threshold0,
  restriction,
  weightEndpoint,
  weightObs,
  method,
  pool,
  op,
  D,
  D_UTTE,
  n_strata,
  nUTTE_analyzedPeron_M1,
  index_endpoint,
  index_status,
  index_UTTE,
  list_survTimeC,
  list_survTimeT,
  list_survJumpC,
  list_survJumpT,
  list_lastSurv,
  p_C,
  p_T,
  iid_survJumpC,
  iid_survJumpT,
  zeroPlus,
  correctionUninf,
  hierarchical,
  hprojection,
  neutralAsUninf,
  addHalfNeutral,
  keepScore,
  precompute,
  paired,
  returnIID,
  debug
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>endpoint</code></td>
<td>
<p>A matrix containing the values of each endpoint (in columns) for each observation (in rows).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>status</code></td>
<td>
<p>A matrix containing the values of the status variables relative to each endpoint (in columns) for each observation (in rows).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indexC</code></td>
<td>
<p>A list containing, for each strata, which rows of the endpoint and status matrices corresponds to the control observations. Not unique when bootstraping.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>posC</code></td>
<td>
<p>A list containing, for each strata, the unique identifier of each control observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indexT</code></td>
<td>
<p>A list containing, for each strata, which rows of the endpoint and status matrices corresponds to the treatment observations. Not unique when bootstraping.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>posT</code></td>
<td>
<p>A list containing, for each strata, the unique identifier of each treatment observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>Store the thresholds associated to each endpoint. Must have length D. The threshold is ignored for binary endpoints.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold0</code></td>
<td>
<p>Was the 'original' threshold 0. Must have length D. Ignored for binary endpoints.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>restriction</code></td>
<td>
<p>Store the restriction time associated to each endpoint. Must have length D.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weightEndpoint</code></td>
<td>
<p>Store the weight associated to each endpoint. Must have length D.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weightObs</code></td>
<td>
<p>A vector containing the weight associated to each observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>The index of the method used to score the pairs. Must have length D. 1 for binary/continuous, 2 for Gaussian, 3/4 for Gehan (left or right-censoring), and 5/6 for Peron (right-censoring survival or competing risks).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pool</code></td>
<td>
<p>The index of the method used to pool results across strata. Can be 0 (weight inversely proportional to the sample size), 1 (Mantel Haenszel weights), 2 (equal weights), 3 (precision weights)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>op</code></td>
<td>
<p>The index of the operator used to score the pairs. Must have length D. 1 for larger is beter, -1 for smaller is better.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>D</code></td>
<td>
<p>The number of endpoints.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>D_UTTE</code></td>
<td>
<p>The number of distinct time to event endpoints.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_strata</code></td>
<td>
<p>The number of strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nUTTE_analyzedPeron_M1</code></td>
<td>
<p>The number of unique time-to-event endpoints that have been analyzed the Peron scoring rule before the current endpoint. Must have length D.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index_endpoint</code></td>
<td>
<p>The position of the endpoint at each priority in the argument endpoint. Must have length D.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index_status</code></td>
<td>
<p>The position of the status at each priority in the argument status. Must have length D.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index_UTTE</code></td>
<td>
<p>The position, among all the unique tte endpoints, of the TTE endpoints. Equals -1 for non tte endpoints. Must have length n_TTE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>list_survTimeC</code></td>
<td>
<p>A list of matrix containing the survival estimates (-threshold, 0, +threshold ...) for each event of the control group (in rows).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>list_survTimeT</code></td>
<td>
<p>A list of matrix containing the survival estimates (-threshold, 0, +threshold ...) for each event of the treatment group (in rows).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>list_survJumpC</code></td>
<td>
<p>A list of matrix containing the survival estimates and survival jumps when the survival for the control arm jumps.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>list_survJumpT</code></td>
<td>
<p>A list of matrix containing the survival estimates and survival jumps when the survival for the treatment arm jumps.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>list_lastSurv</code></td>
<td>
<p>A list of matrix containing the last survival estimate in each strata (rows) and treatment group (columns).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_C</code></td>
<td>
<p>Number of nuisance parameter in the survival model for the control group, for each endpoint and strata</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_T</code></td>
<td>
<p>Number of nuisance parameter in the survival model for the treatment group, for each endpoint and strata</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iid_survJumpC</code></td>
<td>
<p>A list of matrix containing the iid of the survival estimates in the control group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iid_survJumpT</code></td>
<td>
<p>A list of matrix containing the iid of the survival estimates in the treatment group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zeroPlus</code></td>
<td>
<p>Value under which doubles are considered 0?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correctionUninf</code></td>
<td>
<p>Should the uninformative weight be re-distributed to favorable and unfavorable?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hierarchical</code></td>
<td>
<p>Should only the uninformative pairs be analyzed at the lower priority endpoints (hierarchical GPC)? Otherwise all pairs will be compaired for all endpoint (full GPC).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hprojection</code></td>
<td>
<p>Order of the H-projection used to compute the variance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>neutralAsUninf</code></td>
<td>
<p>Should paired classified as neutral be re-analyzed using endpoints of lower priority?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addHalfNeutral</code></td>
<td>
<p>Should half of the neutral score be added to the favorable and unfavorable scores?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keepScore</code></td>
<td>
<p>Should the result of each pairwise comparison be kept?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>precompute</code></td>
<td>
<p>Have the integrals relative to the survival be already computed and stored in list_survTimeC/list_survTimeT and list_survJumpC/list_survJumpT (derivatives)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paired</code></td>
<td>
<p>In case of paired data, the variance of the summary statistic across strata will be added to the variance of the pooled statistic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>returnIID</code></td>
<td>
<p>Should the iid be computed? Second element: is there any nuisance parameter?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>debug</code></td>
<td>
<p>Print messages tracing the execution of the function to help debugging. The amount of messages increase with the value of debug (0-5).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>GPC_cpp implements GPC looping first over endpoints and then over pairs.
To handle multiple endpoints, it stores some of the results which can be memory demanding when considering large sample - especially when computing the iid decomposition.
GPC2_cpp implements GPC looping first over pairs and then over endpoints. It has rather minimal memory requirement but does not handle correction for uninformative pairs.
</p>


<h3>Author(s)</h3>

<p>Brice Ozenne
</p>


</div>