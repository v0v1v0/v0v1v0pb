<div class="container">

<table style="width: 100%;"><tr>
<td>rmscb</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Fitting Restricted Mean Survival Time Models with a Continuous Biomarker
</h2>

<h3>Description</h3>

<p>{rmscb} is an R function for restricted mean survival time (RMST) as a continuous function for a 
biomarker variables.
The model is specified by giving a symbolic description of the linear predictor and a description of the distribution family.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  rmscb(x, ...)

  ## S3 method for class 'formula'
rmscb(formula, data, subset, na.action, tau=5, h=0.2, w0=NULL, 
        sig.level = 0.95, rho = 2,...)
# use 
#          rmscb(y ~ biomarker)             
#
# to fit a prognostic model with biomarker term only 
# 
# use
#          rmscb(y ~ biomarker + trt)
#
# to fit the difference of RMSTs between two treatment groups.
#
# use 
   ## Default S3 method:
rmscb(x, y, control, ...)
#
# to fit a model without formula, where the biomarker shall be in the 
# first dependent variable
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>an object of class "formula"(or one that can be coerced to that class): 
a symbolic description of the model to be fitted. 
The details of model specification are given under 'Details'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>an optional data frame, list or environment (or object coercible by 'as.data.frame' 
to a data frame) containing the variables in the model. 
If not found in data, the variables are taken from environment(formula), 
typically the environment from which "rmscb" is called.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau</code></td>
<td>
<p>a prespecified time point at which the restricted mean survival time will be calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>an optional vector specifying a subset of observations to be
used in the fitting process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>a function which indicates what should happen when the data contain NAs. 
The default is set by the 'na.action' setting of 'options', and is 'na.fail' if that is unset. 
The 'factory-fresh' default is 'na.omit'.
Another possible value is 'NULL', no action.  Value 'na.exclude' can be useful.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p>the bandwidth, default is h = 0.2, if h = NULL, then the bandwidth will be selected 
using the cross validation method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w0</code></td>
<td>
<p>the values of biomarker at which the RMST E(T|w=w0) will be estimated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig.level</code></td>
<td>
<p>the significant level of the simultaneuous confidence band will be constructed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>the mode for the prediction error used in the cross validation bandwidth selection.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>for 'rmscb.default', x is a design matrix of dimension n * p</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>y is a vector of observations of length n for a "Surv" survival object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>a list of parameters for controlling the fitting process. See "rmsControl" for details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to be passed to the low level regression fitting functions (see below).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>'biomarker' is a Biomarker variable. This variable is required and shall be the first dependent variable in the formula.
</p>
<p>'rmscb.default' is the workhorse functions: they are not normally called directly but can be more efficient
where the response vector, design matrix and family have already been calculated.
</p>


<h3>Value</h3>


<p>rmscb returns an object of class inheriting from "rmscb". See later in this section.  
</p>
<p>The function "summary" (i.e., "summary.rmscb") can be used to obtain or print a summary of the results, 
for example, the 95 percent CI of the parameters.
</p>
<p>An object of class "rmscb" is a list containing at least the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>w0</code></td>
<td>
<p>w0 from the input.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rms</code></td>
<td>
<p>a named vector of restriected mean survival time from the "rmscb".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LB</code></td>
<td>
<p>lower bound of the simultaneuous confidence band.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>UB</code></td>
<td>
<p>upper bound of the simultaneuous confidence band.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Wen Teng, Wenyu Jiang and Bingshu E. Chen (bingshu.chen@queensu.ca)
</p>


<h3>References</h3>

<p>Teng, W., Jiang, W. and Chen, B. E. (2022). Continuous threshold models with two-way interactions in survival analysis. 
Statistics in Medicine, 
submitted.
</p>


<h3>Examples</h3>

<pre><code class="language-R">##
## Generate a random data set
n = 100
age = runif(n, 0, 1)*100
tm = rexp(n, 1/10)
status = rbinom(n, 1, 0.5)
trt= rbinom(n, 1, 0.5)

## fit a restricted mean survival time with one biomarker 

   fit = rmscb(Surv(tm, status)~age)
   print(fit)
## plot(fit)
## summary(fit) 
</code></pre>


</div>