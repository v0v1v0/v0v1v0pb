<div class="container">

<table style="width: 100%;"><tr>
<td>dc.PlotLogLikelihoodContour</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot Log-Likelihood Contour</h2>

<h3>Description</h3>

<p>Makes a contour plot of a loglikelihood function that varies over two
designated parameters, centered around a set of previously estimated
parameters.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dc.PlotLogLikelihoodContour(
  loglikelihood.fcn,
  vary.or.fix.param,
  predicted.params,
  ...,
  n.divs = 3,
  new.dev = FALSE,
  num.contour.lines = 10,
  zoom.percent = 0.9,
  allow.neg.params = FALSE,
  param.names = c("param 1", "param 2", "param 3", "param 4")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>loglikelihood.fcn</code></td>
<td>
<p>log-likelihood function to plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vary.or.fix.param</code></td>
<td>
<p>a vector of strings containing either "vary" or
"fix". The parameters in the same indices as "vary" will be plotted while
the other parameters will remain fixed at the estimated values. See
details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predicted.params</code></td>
<td>
<p>estimated parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>all additional arguments required by the log-likelihood
function. For example, <code>bgbb.rf.matrix.LL</code> requires rf.matrix;
<code>pnbd.cbs.LL</code> requires cal.cbs and hardie (defaults to TRUE); and <code>bgnbd.cbs.LL</code> requires
cal.cbs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.divs</code></td>
<td>
<p>integer representing how fine-grained the contour plot is. A
higher value will produce a higher resolution plot with smoother contour
lines, but will take longer to plot. n.divs also affects the boundaries of
the contour plot; see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new.dev</code></td>
<td>
<p>if TRUE, makes a new window for each contour plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.contour.lines</code></td>
<td>
<p>number of contour lines to plot in the window.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zoom.percent</code></td>
<td>
<p>determines boundaries of contour plot. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow.neg.params</code></td>
<td>
<p>if FALSE, the contour plot will not include negative
values (see details). This should be set to false for the BG/BB and
Pareto/NBD models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param.names</code></td>
<td>
<p>a vector containing parameter names.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The contour plot will have the first parameter labelled "vary" on the x-axis,
and the second parameter labelled "vary" on the y-axis. It will extend out by
(n.divs * zoom.percent) in both directions and both dimensions from the
estimated parameter values. The exception is if allow.neg.params is FALSE. In
this case, the contour plot will end at zero if it would have extended into
negative parameter values.
</p>
<p>The estimated parameter values will be indicated by the intersection of two
red lines.
</p>


<h3>See Also</h3>

<p><code>dc.PlotLogLikelihoodContours</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># **Examples for BG/BB model:
data(donationsSummary)
rf.matrix &lt;- donationsSummary$rf.matrix

# starting-point parameters
bgbb.startingparams &lt;- c(1, 1, 0.5, 3)
# estimated parameters
bgbb.est.params &lt;- bgbb.EstimateParameters(rf.matrix, bgbb.startingparams)

# set up parameter names for a more descriptive result
bgbb.param.names &lt;- c("alpha", "beta", "gamma", "delta")

# plot a log-likelihood contour of alpha and beta, the unobserved
# parameters for the beta-Bernoulli transaction process of the BG/BB.
# Note that allow.neg.params has been set to false as BG/BB parameters
# cannot be negative:
dc.PlotLogLikelihoodContour(bgbb.rf.matrix.LL, 
                            c("vary", "vary", "fix", "fix"), 
                            bgbb.est.params, 
                            rf.matrix = rf.matrix, 
                            n.divs = 15, 
                            num.contour.lines = 15, 
                            zoom.percent = 0.2, 
                            allow.neg.params = FALSE, 
                            param.names = bgbb.param.names)

# plot a log-likelihood contour of gamma and delta, the unobserved
# parameters for the beta-geometric dropout process of the BG/BB.
# Note that allow.neg.params has been set to false as BG/BB parameters
# cannot be negative:
dc.PlotLogLikelihoodContour(bgbb.rf.matrix.LL, 
                            c("fix", "fix", "vary", "vary"), 
                            bgbb.est.params, 
                            rf.matrix = rf.matrix, 
                            n.divs = 15, 
                            num.contour.lines = 15, 
                            zoom.percent = 0.2, 
                            allow.neg.params = FALSE, 
                            param.names = bgbb.param.names)

# **Example for Pareto/NBD model:
data(cdnowSummary)
cbs &lt;- cdnowSummary$cbs

# Speed up calculations:
cbs &lt;- dc.compress.cbs(cbs)

# parameters estimated using pnbd.EstimateParameters
pnbd.est.params &lt;- cdnowSummary$est.params

# set up parameter names for a more descriptive result
pnbd.param.names &lt;- c("r", "alpha", "s", "beta")

# plot a log-likelihood contour of r and s, the shape parameters
# of the transaction and dropout process models (respectively).
# Note that allow.neg.params has been set to false as Pareto/NBD
# parameters cannot be negative:
dc.PlotLogLikelihoodContour(pnbd.cbs.LL, 
                            c("vary", "fix", "vary", "fix"), 
                            pnbd.est.params, 
                            cal.cbs = cbs, 
                            hardie = TRUE,
                            n.divs = 20, 
                            num.contour.lines = 20, 
                            zoom.percent = 0.1, 
                            allow.neg.params = FALSE, 
                            param.names = pnbd.param.names)

# **Example for BG/NBD model:
data(cdnowSummary)
cbs &lt;- cdnowSummary$cbs

# parameters estimated using bgnbd.EstimateParameters
bgnbd.est.params &lt;- cdnowSummary$est.params

# set up parameter names for a more descriptive result
bgnbd.param.names &lt;- c("r", "alpha", "s", "beta")

# plot a log-likelihood contour of r and s, the shape parameters
# of the transaction and dropout process models (respectively).
# Note that allow.neg.params has been set to false as BG/NBD
# parameters cannot be negative:
dc.PlotLogLikelihoodContour(bgnbd.cbs.LL, 
                            c("vary", "fix", "vary", "fix"), 
                            bgnbd.est.params, 
                            cal.cbs = cbs, 
                            n.divs = 20, 
                            num.contour.lines = 20, 
                            zoom.percent = 0.1, 
                            allow.neg.params = FALSE, 
                            param.names = bgnbd.param.names)
</code></pre>


</div>