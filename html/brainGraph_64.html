<div class="container">

<table style="width: 100%;"><tr>
<td>Creating_Graphs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a brainGraph object</h2>

<h3>Description</h3>

<p><code>make_brainGraph</code> is the main creation function for creating a
<code>brainGraph</code> graph object. This is simply an <code>igraph</code> graph
object with additional attributes (at all levels). Several of the graph-level
attributes serve the purpose of providing metadata on how the connectivity
matrices/networks were created.
</p>
<p><code>make_brainGraph.bg_mediate</code> creates a graph only for
<em>vertex</em>-level analyses.
</p>
<p><code>make_empty_brainGraph</code> creates an empty undirected <code>brainGraph</code>
object with vertex count equal to the atlas specified; i.e., it creates a
graph with 0 edges. Typically used to present results from an analysis in
which edges don't make sense (e.g., GLM comparing differences in a
vertex-level attribute).
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_brainGraph(x, atlas, type = c("observed", "random"),
  level = c("subject", "group", "contrast"), set.attrs = TRUE,
  modality = NULL, weighting = NULL, threshold = NULL, ...)

## S3 method for class 'igraph'
make_brainGraph(x, atlas, type = c("observed",
  "random"), level = c("subject", "group", "contrast"),
  set.attrs = TRUE, modality = NULL, weighting = NULL,
  threshold = NULL, name = NULL, Group = NULL, subnet = NULL, ...)

## S3 method for class 'matrix'
make_brainGraph(x, atlas, type = c("observed",
  "random"), level = c("subject", "group", "contrast"),
  set.attrs = TRUE, modality = NULL, weighting = NULL,
  threshold = NULL, name = NULL, Group = NULL, subnet = NULL,
  mode = "undirected", weighted = NULL, diag = FALSE, ...)

## S3 method for class 'bg_mediate'
make_brainGraph(x, atlas = x$atlas,
  type = "observed", level = "contrast", set.attrs = FALSE,
  modality = NULL, weighting = NULL, threshold = NULL, ...)

is.brainGraph(x)

## S3 method for class 'brainGraph'
summary(object, print.attrs = c("all", "graph",
  "vertex", "edge", "none"), ...)

make_empty_brainGraph(atlas, type = c("observed", "random"),
  level = c("subject", "group", "contrast"), modality = NULL,
  weighting = NULL, threshold = NULL, name = NULL, Group = NULL,
  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An <code>igraph</code> graph object, numeric matrix, or <code>bg_mediate</code>
object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>atlas</code></td>
<td>
<p>Character string specifying the brain atlas</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Character string indicating the type of graphs. Default:
<code>observed</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>Character string indicating whether the graphs are subject-,
group-, or contrast-specific. Default: <code>'subject'</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>set.attrs</code></td>
<td>
<p>Logical indicating whether to assign all graph-, vertex-,
and edge-level attributes (via <code>set_brainGraph_attr</code>). Default:
<code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modality</code></td>
<td>
<p>Character string indicating imaging modality (e.g. 'dti').
Default: <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weighting</code></td>
<td>
<p>Character string indicating how the edges are weighted
(e.g., 'fa', 'pearson', etc.). Default: <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>Integer or number indicating the threshold used when
“sparsifying” the connectivity matrix (if any). Default: <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to <code>set_brainGraph_attr</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>Character string indicating subject ID or group/contrast name,
depending on the <code>level</code>. Default: <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Group</code></td>
<td>
<p>Character string indicating group membership. Default:
<code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subnet</code></td>
<td>
<p>Integer or character vector indicating the vertices to keep, if
you are interested in working with a subset of an atlas. By default, all
vertices are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p>Character string defining how the matrix should be interpreted.
Default: <code>'undirected'</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weighted</code></td>
<td>
<p>Logical specifying whether to create a weighted network</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diag</code></td>
<td>
<p>Logical indicating whether to include the diagonal of the
connectivity matrix. Default: <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A <code>brainGraph</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.attrs</code></td>
<td>
<p>Character string indicating whether or not to list the
object's attributes (default: <code>all</code>)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>brainGraph</code> graph object with additional graph-, vertex-, and
edge-level attributes (see below).
</p>
<p>The method for <code>bg_mediate</code> returns a <code>brainGraph_mediate</code>
object, which has extra attributes:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Graph</code></td>
<td>
<p><em>mediator</em>, <em>treat</em>, <em>outcome</em>, <em>nobs</em></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Vertex</code></td>
<td>
<p><em>b?.acme, p?.acme</em>, <em>b?.ade, p?.ade</em>,
<em>b?.prop, p?.prop</em>, <em>b.tot, p.tot</em></p>
</td>
</tr>
</table>
<p><code>make_empty_brainGraph</code> – An empty <code>brainGraph</code> graph
object
</p>


<h3>Graph-level attributes</h3>

<p>Graph-level attributes added are:
</p>

<dl>
<dt>version</dt>
<dd>
<p>The R, <code>brainGraph</code>, and <code>igraph</code> package versions
used to create the graph</p>
</dd>
<dt>date</dt>
<dd>
<p>The creation date, from <code>as.POSIXct</code></p>
</dd>
<dt>atlas</dt>
<dd>
<p>Character string denoting the brain atlas used</p>
</dd>
<dt>type</dt>
<dd>
<p>Character string specifying whether this is an <em>observed</em>
or <em>random</em> graph</p>
</dd>
<dt>modality</dt>
<dd>
<p>The imaging modality; you can choose anything you like,
but the <code>summary.brainGraph</code> knows about <code>dti</code>, <code>fmri</code>,
<code>thickness</code>, <code>area</code>, and <code>volume</code></p>
</dd>
<dt>weighting</dt>
<dd>
<p>What edge weights represent; you can choose anything you
like, but <code>summary.brainGraph</code> knows about <code>fa</code>, <code>sld</code>
(streamline density, tractography), <code>pearson</code>, <code>spearman</code>,
<code>kendall</code>, and <code>partial</code> (partial correlation coefficient)</p>
</dd>
<dt>threshold</dt>
<dd>
<p>Numeric indicating the threshold used to create the final
connectivity matrix (if any)</p>
</dd>
<dt>name</dt>
<dd>
<p>Character string specifying the study ID or group/contrast
name, depending on the <code>level</code> argument</p>
</dd>
<dt>Group</dt>
<dd>
<p>Character string specifying the experimental group that the
given subject belongs to, or if it is a group-level graph</p>
</dd>
<dt>subnet</dt>
<dd>
<p>Integer vector, if <code>subnet</code> was specified in the call</p>
</dd>
</dl>
<h3>Vertex attributes</h3>

<p>Vertex-level attributes added are:
</p>

<dl>
<dt>name</dt>
<dd>
<p>The names of the brain regions in the network</p>
</dd>
<dt>lobe</dt>
<dd>
<p>The names of the major brain lobes for each vertex</p>
</dd>
<dt>hemi</dt>
<dd>
<p>The names of the hemisphere for each vertex (either <code>'L'</code>,
<code>'R'</code>, or <code>'B'</code>)</p>
</dd>
<dt>lobe.hemi</dt>
<dd>
<p>The lobe-hemisphere combination (represented as an
<em>integer</em> vector)</p>
</dd>
<dt>class</dt>
<dd>
<p>The tissue class (if applicable)</p>
</dd>
<dt>network</dt>
<dd>
<p>The network (if the atlas is <code>dosenbach160</code>)</p>
</dd>
<dt>x,y,z</dt>
<dd>
<p>The spatial coordinates of the (centers-of-mass) brain regions
in MNI space</p>
</dd>
<dt>x.mni,y.mni,z.mni</dt>
<dd>
<p>Same as above</p>
</dd>
<dt>color.lobe,color.class,color.network</dt>
<dd>
<p>Colors for vertices of their
respective membership</p>
</dd>
<dt>circle.layout</dt>
<dd>
<p>Integer vector indicating the order (going
counter-clockwise from the top) for circular layouts</p>
</dd>
</dl>
<h3>Edge attributes</h3>

<p>Edge-level attributes added are:
</p>

<dl>
<dt>color.lobe,color.class,color.network</dt>
<dd>
<p>Correspond to the vertex
attribute of the same name. Inter-group edges will be colored
<em>gray</em></p>
</dd>
</dl>
<h3>Specifying a subnetwork</h3>

<p>You can create a graph for a subset of an atlas's regions with the
<code>subnet</code> argument. This can either be a numeric or character vector. If
the input object (either a matrix or an <code>igraph</code> graph) has fewer
rows/columns or vertices, respectively, than the atlas then the <code>subnet</code>
graph attribute will also be added to the return object. This may occur if,
for example, you use <code>make_auc_brainGraph</code> on graphs that were
initially created from subnetworks.
</p>


<h3>See Also</h3>

<p>Other Graph creation functions: <code>Creating_Graphs_GLM</code>,
<code>brainGraphList</code>,
<code>make_ego_brainGraph</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
bg &lt;- make_brainGraph(A, 'dkt', modality='dti', weighting='fa',
  mode='undirected', diag=FALSE, weighted=TRUE)

## End(Not run)
</code></pre>


</div>