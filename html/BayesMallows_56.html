<div class="container">

<table style="width: 100%;"><tr>
<td>set_compute_options</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Specify options for computation</h2>

<h3>Description</h3>

<p>Set parameters related to the Metropolis-Hastings algorithm.
</p>


<h3>Usage</h3>

<pre><code class="language-R">set_compute_options(
  nmc = 2000,
  burnin = NULL,
  alpha_prop_sd = 0.1,
  rho_proposal = c("ls", "swap"),
  leap_size = 1,
  aug_method = c("uniform", "pseudo"),
  pseudo_aug_metric = c("footrule", "spearman"),
  swap_leap = 1,
  alpha_jump = 1,
  aug_thinning = 1,
  clus_thinning = 1,
  rho_thinning = 1,
  include_wcd = FALSE,
  save_aug = FALSE,
  save_ind_clus = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nmc</code></td>
<td>
<p>Integer specifying the number of iteration of the
Metropolis-Hastings algorithm to run. Defaults to <code>2000</code>. See
<code>assess_convergence()</code> for tools to check convergence of the Markov chain.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>burnin</code></td>
<td>
<p>Integer defining the number of samples to discard. Defaults to
<code>NULL</code>, which means that burn-in is not set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_prop_sd</code></td>
<td>
<p>Numeric value specifying the <code class="reqn">\sigma</code> parameter of
the lognormal proposal distribution used for <code class="reqn">\alpha</code> in the
Metropolis-Hastings algorithm. The logarithm of the proposed samples will
have standard deviation given by <code>alpha_prop_sd</code>. Defaults to <code>0.1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho_proposal</code></td>
<td>
<p>Character string specifying the proposal distribution of
modal ranking <code class="reqn">\rho</code>. Defaults to "ls", which means that the
leap-and-shift algorithm of Vitelli et al. (2018)
is used. The other option is "swap", which means that the swap proposal of
Crispino et al. (2019) is used instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leap_size</code></td>
<td>
<p>Integer specifying the step size of the distribution defined
in <code>rho_proposal</code> for proposing new latent ranks <code class="reqn">rho</code>. Defaults to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aug_method</code></td>
<td>
<p>Augmentation proposal for use with missing data. One of
"pseudo" and "uniform". Defaults to "uniform", which means that new
augmented rankings are proposed by sampling uniformly from the set of
available ranks, see Section 4 in
Vitelli et al. (2018). Setting the argument to
"pseudo" instead, means that the pseudo-likelihood proposal defined in
Chapter 5 of
Stein (2023) is
used instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pseudo_aug_metric</code></td>
<td>
<p>String defining the metric to be used in the
pseudo-likelihood proposal. Only used if <code>aug_method = "pseudo"</code>. Can be
either "footrule" or "spearman", and defaults to "footrule".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>swap_leap</code></td>
<td>
<p>Integer specifying the leap size for the swap proposal used
for proposing latent ranks in the case of non-transitive pairwise
preference data. Note that leap size for the swap proposal when used for
proposal the modal ranking <code class="reqn">\rho</code> is given by the <code>leap_size</code>
argument above.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_jump</code></td>
<td>
<p>Integer specifying how many times to sample <code class="reqn">\rho</code>
between each sampling of <code class="reqn">\alpha</code>. In other words, how many times to
jump over <code class="reqn">\alpha</code> while sampling <code class="reqn">\rho</code>, and possibly other
parameters like augmented ranks <code class="reqn">\tilde{R}</code> or cluster assignments
<code class="reqn">z</code>. Setting <code>alpha_jump</code> to a high number can speed up computation
time, by reducing the number of times the partition function for the
Mallows model needs to be computed. Defaults to <code>1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aug_thinning</code></td>
<td>
<p>Integer specifying the thinning for saving augmented
data. Only used when <code>save_aug = TRUE</code>. Defaults to <code>1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clus_thinning</code></td>
<td>
<p>Integer specifying the thinning to be applied to cluster
assignments and cluster probabilities. Defaults to <code>1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho_thinning</code></td>
<td>
<p>Integer specifying the thinning of <code>rho</code> to be performed
in the Metropolis- Hastings algorithm. Defaults to <code>1</code>. <code>compute_mallows</code>
save every <code>rho_thinning</code>th value of <code class="reqn">\rho</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_wcd</code></td>
<td>
<p>Logical indicating whether to store the within-cluster
distances computed during the Metropolis-Hastings algorithm. Defaults to
<code>FALSE</code>. Setting <code>include_wcd = TRUE</code> is useful when deciding the number of
mixture components to include, and is required by <code>plot_elbow()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_aug</code></td>
<td>
<p>Logical specifying whether or not to save the augmented
rankings every <code>aug_thinning</code>th iteration, for the case of missing data or
pairwise preferences. Defaults to <code>FALSE</code>. Saving augmented data is useful
for predicting the rankings each assessor would give to the items not yet
ranked, and is required by <code>plot_top_k()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_ind_clus</code></td>
<td>
<p>Whether or not to save the individual cluster
probabilities in each step. This results in csv files <code>cluster_probs1.csv</code>,
<code>cluster_probs2.csv</code>, ..., being saved in the calling directory. This
option may slow down the code considerably, but is necessary for detecting
label switching using Stephen's algorithm.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>"BayesMallowsComputeOptions"</code>, to be provided in
the <code>compute_options</code> argument to <code>compute_mallows()</code>,
<code>compute_mallows_mixtures()</code>, or <code>update_mallows()</code>.
</p>


<h3>References</h3>

<p>Crispino M, Arjas E, Vitelli V, Barrett N, Frigessi A (2019).
“A Bayesian Mallows approach to nontransitive pair comparison data: How human are sounds?”
<em>The Annals of Applied Statistics</em>, <b>13</b>(1), 492–519.
<a href="https://doi.org/10.1214/18-aoas1203">doi:10.1214/18-aoas1203</a>.<br><br> Stein A (2023).
<em>Sequential Inference with the Mallows Model</em>.
Ph.D. thesis, Lancaster University.<br><br> Vitelli V, Sørensen, Crispino M, Arjas E, Frigessi A (2018).
“Probabilistic Preference Learning with the Mallows Rank Model.”
<em>Journal of Machine Learning Research</em>, <b>18</b>(1), 1–49.
<a href="https://jmlr.org/papers/v18/15-481.html">https://jmlr.org/papers/v18/15-481.html</a>.
</p>


<h3>See Also</h3>

<p>Other preprocessing: 
<code>get_transitive_closure()</code>,
<code>set_initial_values()</code>,
<code>set_model_options()</code>,
<code>set_priors()</code>,
<code>set_progress_report()</code>,
<code>set_smc_options()</code>,
<code>setup_rank_data()</code>
</p>


</div>