<div class="container">

<table style="width: 100%;"><tr>
<td>community_sim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>community_bam: Community <code>bamm</code>
</h2>

<h3>Description</h3>

<p>Estimate community dynamics using the <code>bamm</code> framework
</p>


<h3>Usage</h3>

<pre><code class="language-R">community_sim(
  en_models,
  ngbs_vect,
  init_coords,
  nsteps,
  threshold_vec = NULL,
  stochastic_dispersal = FALSE,
  disp_prop2_suitability = TRUE,
  disper_prop = 0.5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>en_models</code></td>
<td>
<p>A stack or directory with the ecological niche models for
each species in the community.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ngbs_vect</code></td>
<td>
<p>A vector containing the number of neighbors for each
adjacency matrix of each species in the community
see <code>adj_mat</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init_coords</code></td>
<td>
<p>A data.frame with 3 columns: sp_name, x and
y; x is the longitude and y is the latitude of initial dispersal points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsteps</code></td>
<td>
<p>Number of iteration steps for the simulation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold_vec</code></td>
<td>
<p>A vector of threshold values used to bnarize niche
models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stochastic_dispersal</code></td>
<td>
<p>Logical. If dispersal depends on a probability of
visiting neighbor cells (Moore neighborhood).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>disp_prop2_suitability</code></td>
<td>
<p>Logical. If probability of dispersal
is proportional to the suitability of reachable cells. The proportional
value must be declared in the parameter 'disper_prop'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>disper_prop</code></td>
<td>
<p>Probability of dispersal to reachable cells.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Each element in community_sim is an object of class. For more
details about the simulation see <code>sdm_sim</code>.
<code>bam</code>.
</p>


<h3>Value</h3>

<p>An object of class community_sim. The object contains simulation
results for each species in the community.
</p>


<h3>Author(s)</h3>

<p>Luis Osorio-Olvera &amp; Jorge Soberon
</p>


<h3>References</h3>

<p>Soberón J, Osorio-Olvera L (2023).
“A dynamic theory of the area of distribution.”
<em>Journal of Biogeography6</em>, <b>50</b>, 1037-1048.
<a href="https://doi.org/10.1111/jbi.14587">doi:10.1111/jbi.14587</a>, <a href="https://onlinelibrary.wiley.com/doi/abs/10.1111/jbi.14587">https://onlinelibrary.wiley.com/doi/abs/10.1111/jbi.14587</a>..
</p>


<h3>Examples</h3>

<pre><code class="language-R">
lagos_path &lt;- system.file("extdata/conejos",
                          package = "bamm")
enm_path &lt;- list.files(lagos_path,
                       pattern = ".tif",
                       full.names = TRUE)[seq(1,10)]
en_models &lt;- raster::stack(enm_path)
ngbs_vect &lt;- sample(1:2,replace = TRUE,
                    size = raster::nlayers(en_models))
init_coords &lt;- read.csv(file.path(lagos_path,
                                  "lagos_initit.csv"))[seq(1,10),]
nsteps &lt;- 12
sdm_comm &lt;- bamm::community_sim(en_models = en_models,
                                ngbs_vect = ngbs_vect,
                                init_coords = init_coords,
                                nsteps = nsteps)

com_pam &lt;- bamm::csim2pam(sdm_comm,which_steps = seq(1,nsteps))
rich_pam &lt;- pam2richness(com_pam,which_steps = c(1,5,10))
raster::plot(rich_pam)

</code></pre>


</div>