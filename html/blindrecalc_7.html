<div class="container">

<table style="width: 100%;"><tr>
<td>ChiSquare-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Chi-squared test</h2>

<h3>Description</h3>

<p>This class implements a chi-squared test for superiority trials. A trial
with binary outcomes in two groups <code>E</code> and <code>C</code> is assumed. If
<code>alternative == "greater"</code> the null and alternative hypotheses for the
difference in response probabilities are
</p>
<p style="text-align: center;"><code class="reqn">H_0: p_E \leq p_C \textrm{ vs. } H_1: p_E &gt; p_C.</code>
</p>

<p>If <code>alternative == "smaller"</code>, the direction of the effect is changed.
</p>
<p>The function <code>setupChiSquare</code> creates an object of class
<code>ChiSquare</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">setupChiSquare(
  alpha,
  beta,
  r = 1,
  delta,
  alternative = c("greater", "smaller"),
  n_max = Inf,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>One-sided type I error rate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p>Type II error rate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>Allocation ratio between experimental and control group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta</code></td>
<td>
<p>Difference of effect size between alternative and null hypothesis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>Does the alternative hypothesis contain greater
(<code>greater</code>) or smaller (<code>smaller</code>) values than the
null hypothesis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_max</code></td>
<td>
<p>Maximal overall sample size. If the recalculated sample size
is greater than <code>n_max</code> it is set to <code>n_max</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further optional arguments.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The nuisance parameter is the overall response probability <code class="reqn">p_0</code>.
In the blinded sample size #' recalculation procedure it is blindly estimated
by: </p>
<p style="text-align: center;"><code class="reqn">\hat{p}_0 := (X_{1,E} + X_{1,C}) / (n_{1,E} + n_{1,C}),</code>
</p>

<p>where <code class="reqn">X_{1,E}</code> and <code class="reqn">X_{1,C}</code> are the numbers of
responses and <code class="reqn">n_{1,E}</code> and <code class="reqn">n_{1,C}</code> are the sample sizes
of the respective group after the first stage. The event rates in both
groups under the alternative hypothesis can then be blindly estimated as:
</p>
<p style="text-align: center;"><code class="reqn">\hat{p}_{C,A} := \hat{p}_0 - \Delta \cdot r / (1 + r) \textrm{, }
\hat{p}_{E,A} := \hat{p}_0 + \Delta / (1 + r),</code>
</p>

<p>where <code class="reqn">\Delta</code> is the difference in response probabilities under the
alternative hypothesis and r is the allocation ratio of the sample sizes
in the two groups.
These blinded estimates can then be used to re-estimate the sample size.
</p>
<p>The following methods are available for this class:
<code>toer</code>, <code>pow</code>, <code>n_dist</code>,
<code>adjusted_alpha</code>, and <code>n_fix</code>.
Check the design specific documentation for details.
</p>
<p>For non-inferiority trials use the function <code>setupFarringtonManning</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>ChiSquare</code>.
</p>


<h3>References</h3>

<p>Friede, T., &amp; Kieser, M. (2004). Sample size recalculation for binary data
in internal pilot study designs. Pharmaceutical Statistics:
The Journal of Applied Statistics in the Pharmaceutical Industry,
3(4), 269-279. <br>
Kieser, M. (2020). Methods and applications of sample size calculation and
recalculation in clinical trials. Springer.
</p>


<h3>Examples</h3>

<pre><code class="language-R">design &lt;- setupChiSquare(alpha = .025, beta = .2, r = 1, delta = 0.2,
alternative = "greater")

</code></pre>


</div>