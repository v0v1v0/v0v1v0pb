<div class="container">

<table style="width: 100%;"><tr>
<td>residuals.BTm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Residuals from a Bradley-Terry Model</h2>

<h3>Description</h3>

<p>Computes residuals from a model object of class <code>"BTm"</code>. In additional
to the usual options for objects inheriting from class <code>"glm"</code>, a
<code>"grouped"</code> option is implemented to compute player-specific residuals
suitable for diagnostic checking of a predictor involving player-level
covariates.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'BTm'
residuals(
  object,
  type = c("deviance", "pearson", "working", "response", "partial", "grouped"),
  by = object$id,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a model object for which <code>inherits(model, "BTm")</code> is
<code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>the type of residuals which should be returned.  The
alternatives are: <code>"deviance"</code> (default), <code>"pearson"</code>,
<code>"working"</code>, <code>"response"</code>, and <code>"partial"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>the grouping factor to use when <code>type = "grouped"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to pass on other methods.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For <code>type</code> other than <code>"grouped"</code> see <code>residuals.glm()</code>.
</p>
<p>For <code>type = "grouped"</code> the residuals returned are weighted means of
working residuals, with weights equal to the binomial denominators in the
fitted model.  These are suitable for diagnostic model checking, for example
plotting against candidate predictors.
</p>


<h3>Value</h3>

<p>A numeric vector of length equal to the number of players, with a
<code>"weights"</code> attribute.
</p>


<h3>Author(s)</h3>

<p>David Firth and Heather Turner
</p>


<h3>References</h3>

<p>Firth, D. (2005) Bradley-Terry models in R.  <em>Journal of
Statistical Software</em> <strong>12</strong>(1), 1–12.
</p>
<p>Turner, H. and Firth, D. (2012) Bradley-Terry models in R: The BradleyTerry2
package.  <em>Journal of Statistical Software</em>, <strong>48</strong>(9), 1–21.
</p>


<h3>See Also</h3>

<p><code>BTm()</code>, <code>BTabilities()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
##
##  See ?springall
##
springall.model &lt;- BTm(cbind(win.adj, loss.adj),
                       col, row, 
                       ~ flav[..] + gel[..] + 
                       flav.2[..] + gel.2[..] + flav.gel[..] + (1 | ..),
                       data = springall)
res &lt;- residuals(springall.model, type = "grouped")
with(springall$predictors, plot(flav, res))
with(springall$predictors, plot(gel, res))
##  Weighted least-squares regression of these residuals on any variable
##  already included in the model yields slope coefficient zero:
lm(res ~ flav, weights = attr(res, "weights"),
   data = springall$predictors)
lm(res ~ gel, weights = attr(res, "weights"),
   data = springall$predictors)

</code></pre>


</div>