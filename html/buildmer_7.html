<div class="container">

<table style="width: 100%;"><tr>
<td>buildgam</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Use <code>buildmer</code> to fit generalized additive models using <code>gam</code> from package <code>mgcv</code>
</h2>

<h3>Description</h3>

<p>Use <code>buildmer</code> to fit generalized additive models using <code>gam</code> from package <code>mgcv</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">buildgam(
  formula,
  data = NULL,
  family = gaussian(),
  quickstart = 0,
  buildmerControl = buildmerControl()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>See the general documentation under <code>buildmer-package</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>See the general documentation under <code>buildmer-package</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>See the general documentation under <code>buildmer-package</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quickstart</code></td>
<td>
<p>A numeric with values from 0 to 5. If set to 1, will use <code>bam</code> to obtain starting values for <code>gam</code>'s outer iteration, potentially resulting in a much faster fit for each model. If set to 2, will disregard ML/REML and always use <code>bam</code>'s <code>fREML</code> for the quickstart fit. 3 also sets <code>discrete=TRUE</code>. Values between 3 and 4 fit the quickstart model to a subset of that value (e.g.\ <code>quickstart=3.1</code> fits the quickstart model to 10% of the data, which is also the default if <code>quickstart=3</code>. Values between 4 and 5 do the same, but also set a very sloppy convergence tolerance of 0.2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>buildmerControl</code></td>
<td>
<p>Control arguments for buildmer â€” see the general documentation under <code>buildmerControl</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>To work around an issue in <code>gam</code>, you must make sure that your data do not contain a variable named 'intercept'.
</p>
<p><code>lme4</code> random effects are supported: they will be automatically converted using <code>re2mgcv</code>.
</p>
<p>If <code>gam</code>'s <code>optimizer</code> argument is not set to use outer iteration, <code>gam</code> fits using PQL. In this scenario, only <code>crit='F'</code> and <code>crit='deviance'</code> (note that the latter is not a formal test) are legitimate in the generalized case.
</p>
<p>General families implemented in <code>mgcv</code> are supported, provided that they use normal formulas. Currently, this is only true of the <code>cox.ph</code> family. Because this family can only be fitted using REML, <code>buildgam</code> automatically sets <code>gam</code>'s <code>select</code> argument to <code>TRUE</code> and prevents removal of parametric terms.
</p>
<p><code>buildmerControl</code>'s quickstart function may be used here. If you desire more control (e.g.\ <code>discrete=FALSE</code> but <code>use.chol=TRUE</code>), additional options can be provided as extra arguments and will be passed on to <code>bam</code> as they are applicable. Note that <code>quickstart</code> needs to be larger than 0 to trigger the quickstart path at all.
</p>
<p>If scaled-t errors are used (<code>family=scat</code>), the quickstart path will also provide initial values for the two theta parameters (corresponding to the degrees of freedom and the scale parameter), but only if your installation of package <code>mgcv</code> is at least at version 1.8-32.
</p>


<h3>See Also</h3>

<p><code>buildmer-package</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

library(buildmer)
model &lt;- buildgam(f1 ~ s(timepoint,by=following) + s(participant,by=following,bs='re') +
       s(participant,timepoint,by=following,bs='fs'),data=vowels)

</code></pre>


</div>