<div class="container">

<table style="width: 100%;"><tr>
<td>mig.map</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>World Map of Net Migration Rate</h2>

<h3>Description</h3>

<p>Generates a world map of the net migration rate for given quantile and 
time period, which can be either projection or estimation time period, using different techniques: 
<code>mig.map</code> and <code>mig.map.all</code> use <span class="pkg">rworldmap</span>, <code>mig.ggmap</code> uses <span class="pkg">ggplot2</span>, and 
<code>mig.map.gvis</code> creates an interactive map via <span class="pkg">GoogleVis</span>. A map of 
country-specific model parameters is also supported.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mig.map(pred, ...)

mig.ggmap(pred, ...)

mig.map.gvis(pred, ...)

mig.map.all(
  pred,
  output.dir,
  output.type = "png",
  mig.range = NULL,
  nr.cats = 50,
  same.scale = TRUE,
  quantile = 0.5,
  file.prefix = "migwrldmap_",
  ...
)

get.mig.map.parameters(
  pred,
  mig.range = NULL,
  nr.cats = 50,
  same.scale = TRUE,
  quantile = 0.5,
  palette = "Blue-Red",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pred</code></td>
<td>
<p>Object of class <code>bayesMig.prediction</code>. Note that location codes
must correspond to the UN country codes in order to generate a world map.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>In <code>mig.map</code>, ... are all arguments that can be passed 
to <code>tfr.map</code>, such as <code>quantile</code>, <code>year</code>, 
<code>projection.index</code>, <code>par.name</code>, <code>adjusted</code>, <code>device</code>, <code>main</code>, 
<code>device.args</code>, and <code>data.args</code>. 
In <code>mig.map.gvis</code>, ... are all arguments that can be passed 
to <code>tfr.map.gvis</code>. In <code>e0.ggmap</code>, ... are arguments that can be passed 
to <code>tfr.ggmap</code>. In addition, functions that use the <span class="pkg">rworldmap</span> package accept 
arguments passed to the <code>mapCountryData</code> function of the <span class="pkg">rworldmap</span> package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output.dir</code></td>
<td>
<p>Directory into which resulting maps are stored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output.type</code></td>
<td>
<p>Type of the resulting files. It can be “png”, “pdf”, 
“jpeg”, “bmp”, “tiff”, or “postscript”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mig.range</code></td>
<td>
<p>Range of the migration rate to be displayed. It is of the form 
<code>c(</code><var>mig.min</var>, <var>mig.max</var><code>)</code>. By default, the whole available range is considered. 
Note that countries with values outside of the given range will appear white.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nr.cats</code></td>
<td>
<p>Number of color categories.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>same.scale</code></td>
<td>
<p>Logical controlling if maps for all years of this prediction object 
should be on the same color scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantile</code></td>
<td>
<p>Quantile for which the map should be generated. It must be equal to one of the 
values in <code>dimnames(pred$quantiles)[[2]]</code>, 
i.e. 0, 0.025, 0.05, 0.1, 0.2, 0.25, 0.3, 0.4, 0.5, 0.6, 0.7, 0.75, 0.8, 0.9, 0.95, 0.975, 1. 
Value 0.5 corresponds to the median.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file.prefix</code></td>
<td>
<p>Prefix for file names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>palette</code></td>
<td>
<p>Color palette to use.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The functions only work for national simulations where location codes 
correspond to the countries' UN codes.  
</p>
<p><code>mig.map</code> creates a single map for the given time period and quantile. 
<code>mig.map.all</code> generates a sequence of maps, namely one for each projection period. 
If the package <span class="pkg">fields</span> is installed, a color bar legend at the botom of the map is created.
</p>
<p>Function <code>get.mig.map.parameters</code> can be used in combination with <code>mig.map</code>. 
(Note that <code>get.mig.map.parameters</code> is called from inside of <code>mig.map.all</code>.) 
It sets breakpoints for the color scheme.
</p>
<p>Function <code>mig.ggmap</code> is similar to <code>mig.map</code>, but used the <span class="pkg">ggplot2</span> package 
in combination with the <code>geom_sf</code> function.
</p>
<p>Function <code>mig.map.gvis</code> creates an interactive map using the <span class="pkg">googleVis</span> package 
and opens it in an internet browser. It also generates a table of the mapped values that 
can be sorted by columns interactively in the browser. 
</p>
<p>By default, <code>mig.map</code>, <code>mig.ggmap</code> and <code>mig.map.gvis</code> produce maps of net migration rates. 
Alternatively, the functions can be used to plot country-specific MCMC parameters into a world map. 
They are given by the argument <code>par.name</code>. One can pass any value from 
<code>mig.parameter.names.cs()</code>.
</p>


<h3>Value</h3>

<p><code>get.mig.map.parameters</code> returns a list with elements:
</p>

<dl>
<dt>pred</dt>
<dd>
<p>The <code>bayesMig.prediction</code> object used in the function.</p>
</dd>
<dt>quantile</dt>
<dd>
<p>Value of the argument <code>quantile</code>.</p>
</dd>
<dt>catMethod</dt>
<dd>
<p>If the argument <code>same.scale</code> is <code>TRUE</code>, this element 
contains breakpoints for categorization generated using the quantiles.
Otherwise, it is <code>NULL</code>.</p>
</dd>
<dt>numCats</dt>
<dd>
<p>Number of categories.</p>
</dd>
<dt>coulourPalette</dt>
<dd>
<p>The color palette.</p>
</dd>
</dl>
<h3>See Also</h3>

<p><code>tfr.map</code>
</p>


</div>