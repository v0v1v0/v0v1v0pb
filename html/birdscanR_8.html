<div class="container">

<table style="width: 100%;"><tr>
<td>extractDbData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract DB Data</h2>

<h3>Description</h3>

<p>Load the data from the database or file and save it to file
</p>


<h3>Usage</h3>

<pre><code class="language-R">extractDbData(
  dbDriverChar = "SQL Server",
  dbServer = NULL,
  dbName = NULL,
  dbUser = NULL,
  dbPwd = NULL,
  saveDbToFile = FALSE,
  dbDataDir = NULL,
  radarTimeZone = NULL,
  targetTimeZone = "Etc/GMT0",
  listOfRfFeaturesToExtract = NULL,
  siteLocation = NULL,
  sunOrCivil = "civil",
  crepuscule = "nauticalSolar"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dbDriverChar</code></td>
<td>
<p>'SQL Server' The name of the driver. Should be either
'SQL Server' or 'PostgreSQL'. If 'PostgreSQL', it connects to
cloud.birdradar.com</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbServer</code></td>
<td>
<p>NULL The name of the Server</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbName</code></td>
<td>
<p>NULL The name of the Database</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbUser</code></td>
<td>
<p>NULL The USER name of the Server</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbPwd</code></td>
<td>
<p>NULL The password for the user name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>saveDbToFile</code></td>
<td>
<p>FALSE Set to TRUE if you want to save the extracted
database data to an rds file. The output filename is automatically set to
dbName_DataExtract.rds</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbDataDir</code></td>
<td>
<p>NULL The path to the output directory where to store the
extracted dataset. If the directory does not exist, it will be created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>radarTimeZone</code></td>
<td>
<p>NULL String specifying the radar time zone. Default is
NULL: extract the time zone from the site table of the 'SQL' database.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targetTimeZone</code></td>
<td>
<p>"Etc/GMT0" String specifying the target time zone.
Default is "Etc/GMT0".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>listOfRfFeaturesToExtract</code></td>
<td>
<p>NULL or a list of feature to extract</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>siteLocation</code></td>
<td>
<p>Geographic location of the radar measurements in decimal
format: c(Latitude, Longitude)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sunOrCivil</code></td>
<td>
<p>optional character variable, Set to “sun” to use
sunrise/sunset times or to “civil” to use civil twilight times to group echoes
into day/night. Default is "civil".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crepuscule</code></td>
<td>
<p>optional character variable, Set to “nauticalSolar” to use
the time between nautical dusk/dawn and sunrise/sunset times to define the
crepuscular period, or to "nauticalCivil" to use the time between nautical
and civil dusk/dawn to define the crepuscular period, or to "civilSolar" to use
the time between civil dusk/dawn and sunrise/sunset times to define the
crepuscular period. Default is "nauticalSolar".</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list of R objects with data extracted from the Database: 'echoData',
'protocolData', 'siteData', 'visibilityData', 'timeBinData', 'rfFeatures',
'availableClasses', 'availableBatClasses', 'classProbabilitiesAndMtrFactors',
'batProbabilitiesAndMtrFactors'
</p>


<h3>Author(s)</h3>

<p>Fabian Hertner, <a href="mailto:fabian.hertner@swiss-birdradar.com">fabian.hertner@swiss-birdradar.com</a>;
Birgen Haest, <a href="mailto:birgen.haest@vogelwarte.ch">birgen.haest@vogelwarte.ch</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Set server, database, and other input settings
# ===========================================================================
  dbServer       = "MACHINE\\SERVERNAME"     # Set the name of your SQL server
  dbName         = "db_Name"                   # Set the name of your database
  dbDriverChar   = "SQL Server"                # Set either "SQL Server" or "PostgreSQL"
  mainOutputDir  = file.path(".", "results")
  radarTimeZone  = "Etc/GMT0"
  targetTimeZone = "Etc/GMT0"
  listOfRfFeaturesToExtract = c(167, 168)
  siteLocation   = c(47.494427, 8.716432)
  sunOrCivil   = "civil"
 
# Get data
# ===========================================================================
  dbData = extractDbData(dbDriverChar                   = dbDriverChar,
                         dbServer                       = dbServer, 
                         dbName                         = dbName, 
                         saveDbToFile                   = TRUE,
                         dbDataDir                      = mainOutputDir,
                         radarTimeZone                  = radarTimeZone,
                         targetTimeZone                 = targetTimeZone,
                         listOfRfFeaturesToExtract      = listOfRfFeaturesToExtract,
                         siteLocation                   = siteLocation, 
                         sunOrCivil                   = sunOrCivil,
                         crepuscule                     = "nauticalSolar")

## End(Not run)

</code></pre>


</div>