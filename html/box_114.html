<div class="container">

<table style="width: 100%;"><tr>
<td>unload</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Unload or reload modules</h2>

<h3>Description</h3>

<p>Given a module which has been previously loaded and is assigned to an alias
<code>mod</code>, <code>box::unload(mod)</code> unloads it; <code>box::reload(mod)</code>
unloads and reloads it from its source. <code>box::purge_cache()</code> marks all
modules as unloaded.
</p>


<h3>Usage</h3>

<pre><code class="language-R">box::unload(mod)

box::reload(mod)

box::purge_cache()
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>mod</code></td>
<td>
<p>a module object to be unloaded or reloaded</p>
</td>
</tr></table>
<h3>Details</h3>

<p>Unloading a module causes it to be removed from the internal cache such that
the next subsequent <code>box::use</code> declaration will reload the module from
its source. <code>box::reload</code> unloads and reloads the specified modules and
all its transitive module dependencies. <code>box::reload</code> is <em>not</em>
merely a shortcut for calling <code>box::unload</code> followed by <code>box::use</code>,
because <code>box::unload</code> only unloads the specified module itself, not any
dependent modules.
</p>


<h3>Value</h3>

<p>These functions are called for their side effect. They do not return
anything.
</p>


<h3>Note</h3>

<p>Any other references to the loaded modules remain unchanged, and will
(usually) still work. Unloading and reloading modules is primarily useful for
testing during development, and <em>should not be used in production code:</em>
in particular, unloading may break other module references if the
<code>.on_unload</code> hook unloaded any binary shared libraries which are still
referenced.
</p>
<p>These functions come with a few restrictions.
<code>box::unload</code> attempts to detach names attached by the corresponding
<code>box::use</code> call.
<code>box::reload</code> attempts to re-attach these same names. This only works if
the corresponding <code>box::use</code> declaration is located in the same scope.
<code>box::purge_cache</code> only removes the internal cache of modules, it does
not actually invalidate any module references or names attached from loaded
modules.
</p>
<p><code>box::unload</code> will execute the <code>.on_unload</code> hook of the module, if
it exists.
<code>box::reload</code> will re-execute the <code>.on_load</code> hook of the module and
of all dependent modules during loading (after executing the corresponding
<code>.on_unload</code> hooks during unloading).
<code>box::purge_cache</code> will execute any existing <code>.on_unload</code> hooks in
all loaded modules.
</p>


<h3>See Also</h3>

<p><code>box::use</code>, module hooks
</p>


</div>