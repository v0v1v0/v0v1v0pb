<div class="container">

<table style="width: 100%;"><tr>
<td>get_location_gtfs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Return GTFS-RT location data from the 'BODS' API</h2>

<h3>Description</h3>

<p>Return GTFS-RT location data from the 'BODS' API
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_location_gtfs(
  api_key = Sys.getenv("BODS_KEY"),
  bounding_box = NULL,
  route_id = NULL,
  start_time_after = NULL,
  start_time_before = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>api_key</code></td>
<td>
<p>API key for the 'BODS' dataset passed as a string. Can be obtained from <a href="https://data.bus-data.dft.gov.uk/api/">the 'BODS' API login</a></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bounding_box</code></td>
<td>
<p>vector of four numerics. Limit results to location data
for vehicles within the rectangular boundingBox you set using co-ordinates
[minLatitude, maxLatitude, minLongitude, maxLongitude].
Defaults to NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>route_id</code></td>
<td>
<p>string or vector of strings. Limit results to bus location data with the specified routeId.
Defaults to NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_time_after</code></td>
<td>
<p>integer. Limit results to bus location data with a
start time after the specified Unix timestamp. Defaults to NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_time_before</code></td>
<td>
<p>integer. Limit results to bus location data with a
start time before the specified Unix timestamp. Defaults to NULL.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns bus location data in GTFS-RT format. More detail on this format can be found <a href="https://data.bus-data.dft.gov.uk/guidance/requirements/?section=dataformats">the 'BODS' data formats documentation</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 
#Before running these examples, ensure you have an API key saved


#Return data for specified route ID
get_location_gtfs(route_id = "45")

#Return data within a specified bounding box
get_location_gtfs(bounding_box = c(51.401, 51.509, 0.01, 0.201))


## End(Not run)
</code></pre>


</div>