<div class="container">

<table style="width: 100%;"><tr>
<td>bpcp-internal</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Internal functions
</h2>

<h3>Description</h3>

<p>Functions  called by other functions. Not to be directly called by user.
</p>


<h3>Usage</h3>

<pre><code class="language-R">abmm(a1,b1,a2,b2)
kmgw.calc(time, status, keepCens = TRUE)
borkowf.calc(x, type = "log", alpha = 0.05)
kmConstrain(tstar, pstar, x, alpha = 0.05)
kmConstrainBeta.calc(tstar, pstar, x, alpha = 0.05)
bpcp.mm(x,alpha=0.05)
bpcp.mc(x,nmc=100,alpha=0.05, testtime=0, DELTA=0, midp=FALSE)
bpcpMidp.mm(x,alpha=0.05, midptol=.Machine$double.eps^0.25)
kmcilog(x, alpha = 0.05)

qqbeta(x, a, b)
rejectFromInt(theta,interval,thetaParm=FALSE)
uvab(u, v)
citoLR(x)

getmarks(time, status)
getmarks.x(x)


intChar(L, R, Lin = rep(FALSE, length(L)), Rin = rep(TRUE, length(L)), digits = NULL)


meldMC(T1,T2, nullparm=NULL, 
    parmtype=c("difference","oddsratio","ratio","cdfratio"),
    conf.level=0.95, 
    alternative=c("two.sided","less","greater"),
    dname="",estimate1=NA, estimate2=NA)

betaMeldTestMidp.mc(betaParms1,
    betaParms2,nullparm=NULL, 
    parmtype=c("difference","oddsratio","ratio","cdfratio"),
    conf.level=0.95, conf.int=TRUE,
    alternative=c("two.sided","less","greater"),
    dname="",
    estimate1=NA, estimate2=NA, nmc=10^6)


</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p> beta shape1 parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p> beta shape2 parameter </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a1</code></td>
<td>
<p>first beta shape1 parameter, first of two beta distributions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a2</code></td>
<td>
<p>second beta shape1 parameter, second of two beta distributions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b1</code></td>
<td>
<p>first beta shape2 parameter, first of two beta distributions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b2</code></td>
<td>
<p>second beta shape2 parameter, second of two beta distributions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>u</code></td>
<td>
<p>vector of means of beta distributions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>vector of variances of beta distributions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>time to event or censoring</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>status</code></td>
<td>
<p>vector of event status, 1 for events 0 for censoring</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keepCens</code></td>
<td>
<p>logical, keep times with only censored values?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>output from kmgw.calc</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>either the parameter under the null (if thetaParm=TRUE) or an estimate of theta (if thetaParm=FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thetaParm</code></td>
<td>
<p>logical, is theta a parameter?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval</code></td>
<td>
<p>either a confidence interval (if thetaParm=TRUE) or quantiles from a null distribution (if thetaParm=FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>1-conf.level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>testtime</code></td>
<td>
<p>time for test, needed for output for two-sample test</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>midp</code></td>
<td>
<p>logical, do mid-p tests and/or confidence intervals?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>midptol</code></td>
<td>
<p>tol value passed to uniroot in function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DELTA</code></td>
<td>
<p>same at Delta in bpcp</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tstar</code></td>
<td>
<p>time for survival distribution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pstar</code></td>
<td>
<p>null value for survival</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>character describing method, either 'log' transformation, 'logs' log transformation with shift, 'norm' no transformation, 'norms' no transformation with shift </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nmc</code></td>
<td>
<p>number of Monte Carlo reps</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L</code></td>
<td>
<p>left end of  intervals associated with each surv and ci value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>right end of  intervals associated with each surv and ci value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Lin</code></td>
<td>
<p>logical vector, include left end in interval?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rin</code></td>
<td>
<p>logical vector, include right end in  interval?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>how many significant digits to use</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T1</code></td>
<td>
<p>vector of nmc simulated values for parameter from group 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T2</code></td>
<td>
<p>vector of nmc simulated values for parameter from group 2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nullparm</code></td>
<td>
<p>null value of the 2 sample parameter, when NULL gives values appropriate for parmtype</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parmtype</code></td>
<td>
<p>type of parameter for the two sample test, for details see <code>bpcp2samp</code>  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>confidence level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int</code></td>
<td>
<p>logical, calculate confidence interval?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>alternative hypothesis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dname</code></td>
<td>
<p>data name for 'htest' class of the result</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimate1</code></td>
<td>
<p>estimate of parameter from group 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimate2</code></td>
<td>
<p>estimate of parameter from group 2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>betaParms1</code></td>
<td>
<p>named list of beta parameters from group 1 (usually come from method of moments), names: alower,blower, aupper, bupper</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>betaParms2</code></td>
<td>
<p>named list of beta parameters from group 2, names: alower,blower, aupper, bupper</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>abmm uses method of moments to find a,b parameters from beta distribution that is product of two other beta RVs.   
</p>
<p>kmgw.calc calculates the Kaplan-Meier and Greenwood variances.
</p>
<p>kmci.mid and kmci.cons calculate confidence intervals using a new method with either mid-p-like intervals or a conservative interval
from input from kmgw.calc.
</p>
<p>borkowf.calc calculates the Borkowf intervals from output from kmgw.calc.
</p>
<p>kmcilog gives normal approximation confidence interval using log transformation.
</p>
<p>bpcp.mm and bpcp.mc are the main calculation functions (.mm for method of moments, .mc for Monte Carlo simulation) 
for bpcp (repeated Beta method). Both output a list with two vectors, upper and lower. bpcpMidp.mm and bpcpMidp.mc are the mid-p versions of these functions. 
</p>
<p>kmConstrain gives constrained K-M estimate, and kmConstrainBeta.calc gives ci and tests using Beta distribution. 
</p>
<p>qqbeta is like qbeta, but allows a=0 (giving a value of 0 when b&gt;0) and b=0 (giving a value of 1 when a&gt;0).
</p>
<p>rejectFromInt inputs theta and an interval and gives a vector with 3 terms, estGTnull=1 if reject and estimate is greater than null value,
estLTnull=1 if reject and estimate is less than null value, two.sided=1 if reject in either direction. 
The thetaParm=TRUE means that theta is the parameter under the null so that interval is a confidence interval,
while thetaParm=FALSE means that theta is an estimate of the parameter and interval are quantiles from the null distribution. 
</p>
<p>uvab takes means and variances of beta distributions and returns shape parameters. 
</p>


<h3>Author(s)</h3>

<p>Michael Fay</p>


</div>