<div class="container">

<table style="width: 100%;"><tr>
<td>summaryFun</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create or update the .summary flag column</h2>

<h3>Description</h3>

<p>Using all flag columns (column names starting with "."), this function either creates or updates
the .summary flag column which is FALSE when ANY of the flag columns are FALSE. Columns can be excluded
and removed after creating the .summary column. Additionally, the occurrence dataset
can be filtered to only those where .summary = TRUE at the end of the function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">summaryFun(
  data = NULL,
  dontFilterThese = NULL,
  onlyFilterThese = NULL,
  removeFilterColumns = FALSE,
  filterClean = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame or tibble. Occurrence records to use as input.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dontFilterThese</code></td>
<td>
<p>A character vector of flag columns to be ignored in the creation or updating
of the .summary column. Cannot be specified with onlyFilterThese.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>onlyFilterThese</code></td>
<td>
<p>A character vector. The inverse of dontFilterThese, where columns identified
here will be filtered and no others. Cannot be specified with dontFilterThese.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>removeFilterColumns</code></td>
<td>
<p>Logical. If TRUE all columns starting with "." will be removed in the
output data. This only makes sense to use when filterClean = TRUE. Default = FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filterClean</code></td>
<td>
<p>Logical. If TRUE, the data will be filtered to only those occurrence where .summary
= TRUE (i.e., completely clean according to the used flag columns). Default = FALSE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a data frame or tibble of the input data but modified based on the above parameters.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Read in example data
data(beesFlagged)

# To only update the .summary column
beesFlagged_out &lt;- summaryFun(
    data = beesFlagged,
    dontFilterThese = c(".gridSummary", ".lonFlag", ".latFlag", ".uncer_terms", ".unLicensed"),
    removeFilterColumns = FALSE,
    filterClean = FALSE)
  # View output
table(beesFlagged_out$.summary, useNA = "always")

# Now filter to only the clean data and remove the flag columns
beesFlagged_out &lt;- summaryFun(
  data = BeeBDC::beesFlagged,
  dontFilterThese = c(".gridSummary", ".lonFlag", ".latFlag", ".uncer_terms", ".unLicensed"),
  removeFilterColumns = TRUE,
  filterClean = TRUE)
# View output
table(beesFlagged_out$.summary, useNA = "always")



</code></pre>


</div>