<div class="container">

<table style="width: 100%;"><tr>
<td>constStrata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Strata creation</h2>

<h3>Description</h3>

<p>Create strata from several variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">constStrata(
  data,
  strata,
  sep = ".",
  lex.order = FALSE,
  trace = TRUE,
  as.numeric = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>[data.frame] dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata</code></td>
<td>
<p>[character vector] A vector of the variables capturing the stratification factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>[character] string to construct the new level labels by joining the constituent ones.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lex.order</code></td>
<td>
<p>[logical] Should the order of factor concatenation be lexically ordered ?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trace</code></td>
<td>
<p>[logical] Should the execution of the function be traced ?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.numeric</code></td>
<td>
<p>[logical] Should the strata be converted from factors to numeric?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function uses the <code>interaction</code> function from the <em>base</em> package to form the strata.
</p>


<h3>Value</h3>

<p>A <em>factor vector</em> or a <em>numeric vector</em>.
</p>


<h3>Author(s)</h3>

<p>Brice Ozenne
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(data.table)

library(survival) ## import veteran
  
# strata with two variables : celltype and karno
veteran$strata1 &lt;- constStrata(veteran,c("celltype","karno"))
table(veteran$strata1)
  
# strata with three variables : celltype, karno and age dichotomized at 60 years
veteran$age60 &lt;- veteran$age&gt;60
veteran$age60 &lt;- factor(veteran$age60,labels=c("&lt;=60","&gt;60")) # convert to factor with labels
veteran$strata2 &lt;- constStrata(veteran,c("celltype","karno","age60"))
table(veteran$strata2) # factor strata variable 
  
veteran$strata2 &lt;- constStrata(veteran,c("celltype","karno","age60"), as.numeric=TRUE)
table(veteran$strata2) # numeric strata variable

</code></pre>


</div>