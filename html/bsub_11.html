<div class="container">

<table style="width: 100%;"><tr>
<td>bsub_chunk</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Submit R code
</h2>

<h3>Description</h3>

<p>Submit R code
</p>


<h3>Usage</h3>

<pre><code class="language-R">bsub_chunk(code,
    name = NULL,
    packages = bsub_opt$packages,
    image = bsub_opt$image,
    variables = character(),
    share = character(),
    working_dir = bsub_opt$working_dir,
    hours = 1,
    memory = 1,
    cores = 1,
    R_version = bsub_opt$R_version,
    temp_dir = bsub_opt$temp_dir,
    output_dir = bsub_opt$output_dir,
    dependency = NULL,
    enforce = bsub_opt$enforce,
    local = bsub_opt$local,
    script = NULL,
    start = NULL,
    end = NULL,
    save_var = FALSE,
    sh_head = bsub_opt$sh_head)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>code</code></td>
<td>
<p>The code chunk, it should be embraced by <code>{</code> <code>}</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>If name is not specified, an internal name calculated by <code>digest</code> on the chunk is automatically assigned. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>packages</code></td>
<td>
<p>A character vector with package names that will be loaded before running the script. There is a special name <code>_in_session_</code> that loads all the packages loaded in current R session.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>image</code></td>
<td>
<p>A character vector of RData/rda files that will be loaded before running the script. When <code>image</code> is set to <code>TRUE</code>, all variables in <code>.GlobalEnv</code> will be saved into a temporary file and all attached packages will be recorded. The temporary files will be removed after the job is finished.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variables</code></td>
<td>
<p>A character vector of variable names that will be loaded before running the script. There is a special name <code>_all_functions_</code> that saves all functions defined in the global environment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>share</code></td>
<td>
<p>A character vector of variables names for which the variables are shared between jobs. Note the temporary .RData files are not deleted automatically.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>working_dir</code></td>
<td>
<p>The working directory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hours</code></td>
<td>
<p>Running time of the job.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>memory</code></td>
<td>
<p>Memory usage of the job. It is measured in GB.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>Number of cores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R_version</code></td>
<td>
<p>R version.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>temp_dir</code></td>
<td>
<p>Path of temporary folder where the temporary R/bash scripts will be put.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_dir</code></td>
<td>
<p>Path of output folder where the output/flag files will be put.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dependency</code></td>
<td>
<p>A vector of job IDs that current job depends on.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enforce</code></td>
<td>
<p>If a flag file for the job is found, whether to enforce to rerun the job.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>local</code></td>
<td>
<p>Run job locally (not submitting to the LSF cluster)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>script</code></td>
<td>
<p>Path of a script where code chunks will be extracted and sent to the cluster.It is always used with <code>start</code> and <code>end</code> arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>A numeric vector that contains line indices of the starting code chunk or a character vector that contain regular expression to match the start of code chunks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>
<p>Same setting as <code>start</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_var</code></td>
<td>
<p>Whether save the last variable in the code chunk? Later the variable can be retrieved by <code>retrieve_var</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sh_head</code></td>
<td>
<p>Commands that are written as head of the sh script.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Job ID.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code>bsub_script</code> submits R scripts.
</p>
</li>
<li> <p><code>bsub_cmd</code>submits shell commands.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
bsub_chunk(name = "example", memory = 10, hours = 10, cores = 4,
{
    Sys.sleep(5)
})

## End(Not run)
</code></pre>


</div>