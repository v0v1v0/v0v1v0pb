<div class="container">

<table style="width: 100%;"><tr>
<td>vmd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> View CNA Protein Structure Network Community Output in VMD </h2>

<h3>Description</h3>

<p>This function generates a VMD scene file and a PDB file that can be 
read and rendered by the VMD molecular viewer. Chose ‘color by chain’ 
to see corresponding regions of structure colored by community along with 
the community protein structure network. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">vmd(...)

## S3 method for class 'cna'
vmd(x, pdb, layout = layout.cna(x, pdb, k=3), 
		col.sphere=NULL, col.lines = "silver", weights = NULL, 
		radius = table(x$communities$membership)/5, alpha = 1,
		vmdfile = "network.vmd", pdbfile = "network.pdb", 
                full = FALSE, launch = FALSE, exefile=NULL, ...)
## S3 method for class 'ecna'
vmd(x, n=1, ...)
## S3 method for class 'cnapath'
vmd(x, pdb, out.prefix = "vmd.cnapath", spline = FALSE, 
   colors = c("blue", "red"), launch = FALSE, exefile=NULL, mag=1.0, ...)
## S3 method for class 'ecnapath'
vmd(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A 'cna' or 'cnapath' class object, or a list of such objects, as 
obtained from functions <code>cna</code> or <code>cnapath</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p> The index to indicate which network or path to view with <code>vmd</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pdb</code></td>
<td>
<p>A 'pdb' class object such as obtained from ‘read.pdb’ function.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layout</code></td>
<td>
<p> A numeric matrix of Nx3 XYZ coordinate matrix, where N is the 
number of community spheres to be drawn.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.sphere</code></td>
<td>
<p> A numeric vector containing the sphere colors.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.lines</code></td>
<td>
<p> A character object specifying the color of the
edges (default 'silver'). Must use VMD colors names.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p> A numeric vector specifying the edge width. Default is
taken from E(x$community.network)$weight.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>radius</code></td>
<td>
<p> A numeric vector containing the sphere radii. Default
is taken from the number of community members divided by 5.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p> A single element numeric vector specifying the VMD alpha
transparency parameter. Default is set to 1.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vmdfile</code></td>
<td>
<p> A character element specifying the output VMD scene file 
name that will be loaded in VMD.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pdbfile</code></td>
<td>
<p> A character element specifying the output pdb file name to be
loaded in VMD.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>full</code></td>
<td>
<p> Logical, if TRUE the full all-atom network rather than the
clustered community network will be drawn. Intra community edges are
colored according to the community membership, while inter community
edges are thicker and colored black.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>launch</code></td>
<td>
<p> Logical. If TRUE, a VMD session will be started with
the output of ‘vmd.cna’.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out.prefix</code></td>
<td>
<p> Prefix for the names of output files, ‘vmd.cnapath.vmd’
and ‘vmd.cnapath.pdb’.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spline</code></td>
<td>
<p> Logical, if TRUE all paths are displayed as spline
curves. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colors</code></td>
<td>

<p>Character vector or integer scalar, define path colors. If a
character vector, passed to <code>colorRamp</code> function to generate the 
color scales. If an integer, color all paths the same way with VMD color 
ID equal to the integer. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exefile</code></td>
<td>
<p> file path to the ‘VMD’ program on your system (i.e.
how is ‘VMD’ invoked). If <code>NULL</code>, use OS-dependent
default path to the program. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mag</code></td>
<td>
<p> A numeric factor to scale the maximal thickness of paths. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> additional arguments passed to the function
<code>colorRamp</code> (in <code>vmd.cnapath</code>).
</p>
</td>
</tr>
</table>
<h3>Details</h3>

 
<p>This function generates a scaled sphere (communities) and stick (edges) 
representation of the community network along with the corresponding protein 
structure divided into chains, one chain for each community. The sphere radii 
are proportional to the number of community members and the edge widths correspond 
to network edge weights.
</p>


<h3>Value</h3>

<p>Two files are generated as output. A pdb file with the residue chains
assigned according to the community and a text file containing The
drawing commands for the community representation.
</p>


<h3>Author(s)</h3>

<p>Barry Grant</p>


<h3>References</h3>

<p> Humphrey, W., Dalke, A. and Schulten, K., “VMD - Visual Molecular Dynamics” J. Molec. Graphics 1996, 14.1, 33-38.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

if (!requireNamespace("igraph", quietly = TRUE)) {
   message('Need igraph installed to run this example')
} else {

# Load the correlation network from MD data
attach(hivp)

# Read the starting PDB file to determine atom correspondence
pdbfile &lt;- system.file("examples/hivp.pdb", package="bio3d")
pdb &lt;- read.pdb(pdbfile)

# View cna 
vmd.cna(net, pdb, launch=FALSE)
## within VMD set 'coloring method' to 'Chain' and 'Drawing method' to Tube


##-- From NMA
pdb.gdi = read.pdb("1KJY")
pdb.gdi = trim.pdb(pdb.gdi, inds=atom.select(pdb.gdi, chain="A", elety="CA")) 
modes.gdi = nma(pdb.gdi)
cij.gdi = dccm(modes.gdi)
net.gdi = cna(cij.gdi, cutoff.cij=0.35)
#vmd.cna(net.gdi, pdb.gdi, alpha = 0.7, launch=TRUE)

detach(hivp)

}

## End(Not run)
</code></pre>


</div>