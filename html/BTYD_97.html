<div class="container">

<table style="width: 100%;"><tr>
<td>spend.generalParams</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Define general parameters</h2>

<h3>Description</h3>

<p>This is to ensure consistency across all spend functions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">spend.generalParams(params, func, m.x, x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>a vector of gamma-gamma parameters: p, q, and gamma, in that
order. p is the shape parameter for each transaction. The scale parameter
for each transaction is distributed across customers according to a gamma
distribution with parameters q (shape) and gamma (scale).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>func</code></td>
<td>
<p>name of the function calling <code>dc.InputCheck</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m.x</code></td>
<td>
<p>the customer's average observed transaction value in the
calibration period. May also be a vector of average observed transaction
values - see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>the number of transactions the customer made in the calibration
period. May also be a vector of frequencies - see details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is only ever called by functions defined in the original BTYD
package, such as <code>spend.LL</code>, <code>spend.marginal.likelihood</code> or
<code>spend.expected.value</code> so it returns directly the output that is expected
from those calling functions.
</p>


<h3>Value</h3>

<p>That depends on <code>func</code>: 1. If <code>func</code> is <code>spend.marginal.likelihood</code>,
the marginal distribution of a customer's average transaction value (if m.x
or x has a length greater than 1, a vector of marginal likelihoods will be
returned). 2. If <code>func</code> is <code>spend.LL</code>, the log-likelihood of the
gamma-gamma model; if m.x or x has a length greater than 1, this is a
vector of log-likelihoods. 3. If <code>func</code> is <code>spend.expected.value</code>, the
expected transaction value for a customer conditional on their transaction
behavior during the calibration period. If m.x or x has a length greater
than one, then a vector of expected transaction values will be returned.
</p>


<h3>See Also</h3>

<p><code>spend.LL</code>
</p>
<p><code>spend.marginal.likelihood</code>
</p>


</div>