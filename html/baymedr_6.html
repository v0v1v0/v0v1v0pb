<div class="container">

<table style="width: 100%;"><tr>
<td>equiv_bf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bayes factor for equivalence designs</h2>

<h3>Description</h3>

<p><code>equiv_bf</code> computes a Bayes factor for equivalence designs with a
continuous dependent variable.
</p>


<h3>Usage</h3>

<pre><code class="language-R">equiv_bf(
  x = NULL,
  y = NULL,
  n_x = NULL,
  n_y = NULL,
  mean_x = NULL,
  mean_y = NULL,
  sd_x = NULL,
  sd_y = NULL,
  ci_margin = NULL,
  ci_level = NULL,
  interval = 0,
  interval_std = TRUE,
  prior_scale = 1/sqrt(2)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector of observations for the control group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric vector of observations for the experimental group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_x</code></td>
<td>
<p>A numeric vector of length one, specifying the sample size of the
control group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_y</code></td>
<td>
<p>A numeric vector of length one, specifying the sample size of the
experimental group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean_x</code></td>
<td>
<p>A numeric vector of length one, specifying the mean of the
dependent variable in the control group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean_y</code></td>
<td>
<p>A numeric vector of length one, specifying the mean of the
dependent variable in the experimental group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd_x</code></td>
<td>
<p>A numeric vector of length one, specifying the standard deviation
of the dependent variable in the control group. Only <code>sd_x</code> and
<code>sd_y</code> <strong>OR</strong> <code>ci_margin</code> and <code>ci_level</code> should be
defined (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd_y</code></td>
<td>
<p>A numeric vector of length one, specifying the standard deviation
of the dependent variable in the experimental group. Only <code>sd_x</code> and
<code>sd_y</code> <strong>OR</strong> <code>ci_margin</code> and <code>ci_level</code> should be
defined (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci_margin</code></td>
<td>
<p>A numeric vector of length one, specifying the margin of the
confidence interval (i.e., the width of the confidence interval divided by
2) of the mean difference on the dependent variable between the
experimental and control groups. The value should be a positive number Only
<code>sd_x</code> and <code>sd_y</code> <strong>OR</strong> <code>ci_margin</code> and
<code>ci_level</code> should be defined (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci_level</code></td>
<td>
<p>A numeric vector of length one, specifying the confidence
level of <code>ci_margin</code>. The value must be between 0 and 1 (e.g., 0.95
for a 95% confidence interval). Only <code>sd_x</code> and <code>sd_y</code>
<strong>OR</strong> <code>ci_margin</code> and <code>ci_level</code> should be defined (see
Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval</code></td>
<td>
<p>A numeric vector of length one or two, specifying the
boundaries of the equivalence interval. If a numeric vector of length one
is specified, a symmetric equivalence interval will be used (e.g., a 0.1 is
equivalent to c(-0.1, 0.1)). A numeric vector of length two provides the
possibility to specify an asymmetric equivalence interval (e.g., c(-0.1,
0.2)). The default is 0, indicating a point null hypothesis rather than an
interval (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval_std</code></td>
<td>
<p>A logical vector of length one, specifying whether the
equivalence interval (i.e., <code>interval</code>) is given in standardized
(TRUE; the default) or unstandardized (FALSE) units.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prior_scale</code></td>
<td>
<p>A numeric vector of length one, specifying the scale of
the Cauchy prior distribution for the effect size under the alternative
hypothesis (see Details). The default value is r = 1 / sqrt(2).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The equivalence design has the following hypotheses: The null hypothesis
(i.e., H0) states that the population means of the experimental group (e.g.,
a new medication) and the control group (e.g., a placebo or an already
existing medication) are (practically) equivalent; the alternative hypothesis
(i.e., H1) states that the population means of the two groups are not
equivalent. The dependent variable must be continuous.
</p>
<p>Since the main goal of <code>equiv_bf</code> is to establish equivalence,
the resulting Bayes factor quantifies evidence in favor of the null
hypothesis (i.e., BF01). Evidence for the alternative hypothesis can easily
be calculated by taking the reciprocal of the original Bayes factor (i.e.,
BF10 = 1 / BF01). Quantification of evidence in favor of the null hypothesis
is logically sound and legitimate within the Bayesian framework (see e.g.,
van Ravenzwaaij et al., 2019).
</p>
<p><code>equiv_bf</code> can be utilized to calculate a Bayes factor based on
raw data (i.e., if arguments <code>x</code> and <code>y</code> are defined) or summary
statistics (i.e., if arguments <code>n_x</code>, <code>n_y</code>, <code>mean_x</code>, and
<code>mean_y</code> are defined). In the latter case, either values for the
arguments <code>sd_x</code> and <code>sd_y</code> <strong>OR</strong> <code>ci_margin</code> and
<code>ci_level</code> can be supplied. Arguments with 'x' as a name or suffix
correspond to the control group, whereas arguments with 'y' as a name or
suffix correspond to the experimental group.
</p>
<p>The equivalence interval can be specified with the argument <code>interval</code>.
However, it is not compulsory to specify an equivalence interval (see van
Ravenzwaaij et al., 2019). The default value of the argument <code>interval</code>
is 0, indicating a point null hypothesis. If an interval is preferred, the
argument <code>interval</code> can be set in two ways: A <em>symmetric</em> interval
can be defined by either specifying a numeric vector of length one (e.g., 0.1,
which is converted to c(-0.1, 0.1)) or a numeric vector of length two (e.g.,
c(-0.1, 0.1)); an <em>asymmetric</em> interval can be defined by specifying a
numeric vector of length two (e.g., c(-0.1, 0.2)). It can be specified
whether the equivalence interval (i.e., <code>interval</code>) is given in
standardized or unstandardized units with the <code>interval_std</code> argument,
where TRUE, corresponding to standardized units, is the default.
</p>
<p>For the calculation of the Bayes factor, a Cauchy prior density centered on 0
is chosen for the effect size under the alternative hypothesis. The standard
Cauchy distribution, with a location parameter of 0 and a scale parameter of
1, resembles a standard Normal distribution, except that the Cauchy
distribution has less mass at the center but heavier tails (Liang et al.,
2008; Rouder et al., 2009). The argument <code>prior_scale</code> specifies the
width of the Cauchy prior, which corresponds to half of the interquartile
range. Thus, by adjusting the Cauchy prior scale with <code>prior_scale</code>,
different ranges of expected effect sizes can be emphasized. The default
prior scale is set to r = 1 / sqrt(2).
</p>
<p><code>equiv_bf</code> creates an S4 object of class
baymedrEquivalence, which has multiple slots/entries (e.g.,
type of data, prior scale, Bayes factor, etc.; see Value). If it is desired
to store or extract solely the Bayes factor, the user can do this with
<code>get_bf</code>, by setting the S4 object as an argument (see Examples).
</p>


<h3>Value</h3>

<p>An S4 object of class baymedrEquivalence is returned.
Contained are a description of the model and the resulting Bayes factor:
</p>
 <ul>
<li>
<p> test: The type of analysis </p>
</li>
<li>
<p> hypotheses: A statement of
the hypotheses </p>
 <ul>
<li>
<p> h0: The null hypothesis </p>
</li>
<li>
<p> h1: The
alternative hypothesis</p>
</li>
</ul>
</li>
<li>
<p> interval: Specification of the equivalence
interval in standardized and unstandardized units </p>
 <ul>
<li>
<p>lower_std: The standardized lower boundary of the equivalence interval
</p>
</li>
<li>
<p> upper_std: The standardized upper boundary of the equivalence
interval </p>
</li>
<li>
<p> lower_unstd: The unstandardized lower boundary of the
equivalence interval </p>
</li>
<li>
<p> upper_unstd: The unstandardized upper boundary
of the equivalence interval</p>
</li>
</ul>
</li>
<li>
<p> data: A description of the data
</p>
 <ul>
<li>
<p> type: The type of data ('raw' when arguments <code>x</code> and
<code>y</code> are used or 'summary' when arguments <code>n_x</code>, <code>n_y</code>,
<code>mean_x</code>, <code>mean_y</code>, <code>sd_x</code>, and <code>sd_y</code> (or
<code>ci_margin</code> and <code>ci_level</code> instead of <code>sd_x</code> and
<code>sd_y</code>) are used) </p>
</li>
<li>
<p> ...: values for the arguments used, depending
on 'raw' or summary'</p>
</li>
</ul>
</li>
<li>
<p> prior_scale: The width of the Cauchy prior
distribution </p>
</li>
<li>
<p> bf: The resulting Bayes factor </p>
</li>
</ul>
<p> A summary of the model
is shown by printing the object.
</p>


<h3>References</h3>

<p>Gronau, Q. F., Ly, A., &amp; Wagenmakers, E.-J. (2020). Informed
Bayesian t-tests. <em>The American Statistician</em>, <em>74</em>(2), 137-143.
</p>
<p>Liang, F., Paulo, R., Molina, G., Clyde, M. A., &amp; Berger, J. O. (2008).
Mixtures of g priors for Bayesian variable selection. <em>Journal of the
American Statistical Association</em>, <em>103</em>(481), 410-423.
</p>
<p>Rouder, J. N., Speckman, P. L., Sun, D., Morey, R. D., &amp; Iverson, G.
(2009). Bayesian t tests for accepting and rejecting the null hypothesis.
<em>Psychonomic Bulletin &amp; Review</em>, <em>16</em>(2), 225-237.
</p>
<p>van Ravenzwaaij, D., Monden, R., Tendeiro, J. N., &amp; Ioannidis, J. P. A.
(2019). Bayes factors for superiority, non-inferiority, and equivalence
designs. <em>BMC Medical Research Methodology</em>, <em>19</em>(1), 71.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## equiv_bf using raw data:

# Assign model to variable.
equiv_raw &lt;- equiv_bf(x = rnorm(100, 10, 15),
                      y = rnorm(130, 13, 10))

# Extract Bayes factor from variable.
get_bf(equiv_raw)

# ----------
# ----------

## equiv_bf using summary statistics with data from Steiner et al. (2015).
## With a point null hypothesis:

# Assign model to variable.
equiv_sum_point &lt;- equiv_bf(n_x = 560,
                            n_y = 538,
                            mean_x = 8.683,
                            mean_y = 8.516,
                            sd_x = 3.6,
                            sd_y = 3.6)

# Extract Bayes factor from model.
get_bf(equiv_sum_point)

# ----------
# ----------

## equiv_bf using summary statistics with data from Steiner et al. (2015).
## With an interval null hypothesis:

# Assign model to variable.
equiv_sum_interval &lt;- equiv_bf(n_x = 560,
                               n_y = 538,
                               mean_x = 8.683,
                               mean_y = 8.516,
                               sd_x = 3.6,
                               sd_y = 3.6,
                               interval = 0.05)

# Extract Bayes factor from model.
get_bf(equiv_sum_interval)
</code></pre>


</div>