<div class="container">

<table style="width: 100%;"><tr>
<td>calc_post_beta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate Posterior Beta</h2>

<h3>Description</h3>

<p>Calculate a posterior distribution that is beta (or a mixture
of beta components). Only the relevant treatment arms from the internal
dataset should be read in (e.g., only the control arm if constructing a
posterior distribution for the control response rate).
</p>


<h3>Usage</h3>

<pre><code class="language-R">calc_post_beta(internal_data, response, prior)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>internal_data</code></td>
<td>
<p>This can either be a propensity score object or a tibble
of the internal data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>Name of response variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prior</code></td>
<td>
<p>A distributional object corresponding to a beta distribution
or a mixture distribution of beta components</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For a given arm of an internal trial (e.g., the control arm or an
active treatment arm) of size <code class="reqn">N_I</code>, suppose the response data are binary
such that <code class="reqn">y_i \sim \mbox{Bernoulli}(\theta)</code>, <code class="reqn">i=1,\ldots,N_I</code>. The
posterior distribution for <code class="reqn">\theta</code> is written as
</p>
<p style="text-align: center;"><code class="reqn">\pi( \theta \mid \boldsymbol{y} ) \propto \mathcal{L}(\theta \mid \boldsymbol{y}) \; \pi(\theta),</code>
</p>

<p>where <code class="reqn">\mathcal{L}(\theta \mid \boldsymbol{y})</code> is the likelihood of the
response data from the internal arm and <code class="reqn">\pi(\theta)</code> is a prior
distribution on <code class="reqn">\theta</code> (either a beta distribution or a mixture
distribution with an arbitrary number of beta components). The posterior
distribution for <code class="reqn">\theta</code> is either a beta distribution or a mixture of
beta components depending on whether the prior is a single beta
distribution or a mixture distribution.
</p>


<h3>Value</h3>

<p>distributional object
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)
library(distributional)
calc_post_beta(internal_data = filter(int_binary_df, trt == 1),
                              response = y,
                              prior = dist_beta(0.5, 0.5))
</code></pre>


</div>