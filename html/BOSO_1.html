<div class="container">

<table style="width: 100%;"><tr>
<td>BOSO</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>BOSO and associates functions</h2>

<h3>Description</h3>

<p>Fit a ridge linear regression by a feature selection model 
conducted by BOSO MILP. The package 'cplexAPI' is necessary to run it.
</p>


<h3>Usage</h3>

<pre><code class="language-R">BOSO(
  x,
  y,
  xval,
  yval,
  IC = "eBIC",
  IC.blocks = NULL,
  nlambda = 100,
  nlambda.blocks = 10,
  lambda.min.ratio = ifelse(nrow(x) &lt; ncol(x), 0.01, 1e-04),
  lambda = NULL,
  intercept = TRUE,
  standardize = TRUE,
  dfmax = NULL,
  maxVarsBlock = 10,
  costErrorVal = 1,
  costErrorTrain = 0,
  costVars = 0,
  Threads = 0,
  timeLimit = 1e+75,
  verbose = F,
  seed = NULL,
  warmstart = F,
  TH_IC = 0.001,
  indexSelected = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Input matrix, of dimension 'n' x 'p'. This is the data from the 
training partition. Its recommended to be class "matrix".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Response variable for the training dataset. A matrix of one column 
or a vector, with 'n' elements.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xval</code></td>
<td>
<p>Input matrix, of dimension 'n' x 'p'. This is the data from the 
validation partition. Its recommended to be class "matrix".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yval</code></td>
<td>
<p>Response variable for the validation dataset. A matrix of one 
column or a vector, with 'n' elements.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IC</code></td>
<td>
<p>information criterion to be used. Default is 'eBIC'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IC.blocks</code></td>
<td>
<p>information criterion to be used in the block strategy.
Default is the same as IC, but eBIC uses BIC for the block strategy.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nlambda</code></td>
<td>
<p>The number of lambda values. Default is 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nlambda.blocks</code></td>
<td>
<p>The number of lambda values in the block strategy part. 
Default is 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.min.ratio</code></td>
<td>
<p>Smallest value for lambda, as a fraction of 
lambda.max, the (data derived) entry value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>A user supplied lambda sequence. Typical usage is to have the 
program compute its own lambda sequence based on nlambda and 
lambda.min.ratio. Supplying a value of lambda overrides this. 
WARNING: use with care.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intercept</code></td>
<td>
<p>Boolean variable to indicate if intercept should be added 
or not. Default is false.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>standardize</code></td>
<td>
<p>Boolean variable to indicate if data should be scaled 
according to mean(x) mean(y) and sd(x) or not. Default is false.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dfmax</code></td>
<td>
<p>Maximum number of variables to be included in the problem. The 
intercept is not included in this number. Default is min(p,n).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxVarsBlock</code></td>
<td>
<p>maximum number of variables in the block strategy.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>costErrorVal</code></td>
<td>
<p>Cost of error of the validation set in the objective 
function. Default is 1. WARNING: use with care, changing this value changes 
the formulation presented in the main article.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>costErrorTrain</code></td>
<td>
<p>Cost of error of the training set in the objective 
function. Default is 0. WARNING: use with care, changing this value changes 
the formulation presented in the main article.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>costVars</code></td>
<td>
<p>Cost of new variables in the objective function. Default is 0. 
WARNING: use with care, changing this value changes the formulation 
presented in the main article.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Threads</code></td>
<td>
<p>CPLEX parameter, number of cores that CPLEX is allowed to use.
Default is 0 (automatic).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeLimit</code></td>
<td>
<p>CPLEX parameter, time limit per problem provided to CPLEX.
Default is 1e75 (infinite time).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>print progress, different levels: 1) print simple progress. 
2) print result of blocks. 3) print each k in blocks Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>set seed for random number generator for the block strategy. 
Default is system default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warmstart</code></td>
<td>
<p>warmstart for CPLEX or use a different problem for each k. 
Default is False.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TH_IC</code></td>
<td>
<p>is the ratio over one that the information criterion must 
increase to be STOP. Default is 1e-3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indexSelected</code></td>
<td>
<p>array of pre-selected variables. WARNING: debug feature.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Compute the BOSO for use one block. This function calls cplexAPI to solve
the optimization problem
</p>


<h3>Value</h3>

<p>A 'BOSO' object which contains the following information: 
</p>
<table>
<tr style="vertical-align: top;">
<td><code>betas</code></td>
<td>
<p>estimated betas</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>trianing x set used in BOSO (input parameter)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>trianing x set used in BOSO (input parameter)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xval</code></td>
<td>
<p>validation x set used in BOSO (input parameter)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yval</code></td>
<td>
<p>validation x set used in BOSO (input parameter)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nlambda</code></td>
<td>
<p>nlambda used by 'BOSO' (input parameter)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intercept</code></td>
<td>
<p>if 'BOSO' has used intercept (input parameter)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>standardize</code></td>
<td>
<p>if 'BOSO' has used standardization (input parameter)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mx</code></td>
<td>
<p>Mean value of each variable. 0 if data has not been standarized</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sx</code></td>
<td>
<p>Standard deviation value of each variable. 0 if data has not been standarized</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>my</code></td>
<td>
<p>Mean value of output variable. 0 if data has not been standarized</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dfmax</code></td>
<td>
<p>Maximum number of variables set to be used by 'BOSO' (input parameter)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>result.final</code></td>
<td>
<p>list with the results of the final problem for each K</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>errorTrain</code></td>
<td>
<p>error in training set in the final problem</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>errorVal</code></td>
<td>
<p>error in Validation set in the final problem of used by</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.selected</code></td>
<td>
<p>lambda selected in the final problem of</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>number of initial variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>number of events in the training set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nval</code></td>
<td>
<p>number of events in the validation set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blockStrategy</code></td>
<td>
<p>index of variables which were stored in each iteration by 'BOSO' in the block strategy</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Luis V. Valcarcel
</p>


<h3>Examples</h3>

<pre><code class="language-R">
  #This first example is a basic 
  #example of how to execute BOSO
  
  data("sim.xy", package = "BOSO")
  if (requireNamespace('cplexAPI')){
  obj &lt;- BOSO(x = sim.xy[['low']]$x,
              y = sim.xy[['low']]$y,
              xval = sim.xy[['low']]$xval,
              yval = sim.xy[['low']]$yval,
              IC = 'eBIC',
              nlambda=50,
              intercept= 0, standardize = 0,
              Threads=1, verbose = 3, seed = 2021)
  }
  

</code></pre>


</div>