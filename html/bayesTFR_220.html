<div class="container">

<table style="width: 100%;"><tr>
<td>tfr.predict.extra</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Generating Posterior Trajectories of the Total Fertility Rate for Specific Countries or Regions
</h2>

<h3>Description</h3>

<p>Using the posterior parameter samples the function  generates posterior trajectories of the total fertility rate for given countries or regions. It is intended to be used after running <code>run.tfr.mcmc.extra</code>, but it can be also used for purposes of testing specific settings on one or a few countries. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">tfr.predict.extra(sim.dir = file.path(getwd(), 'bayesTFR.output'), 
    prediction.dir = sim.dir, countries = NULL, 
    save.as.ascii = 0, verbose = TRUE, uncertainty=FALSE,
    all.countries.required = TRUE, use.correlation = NULL)
	</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sim.dir</code></td>
<td>
<p>Directory with the MCMC simulation results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prediction.dir</code></td>
<td>
<p>Directory where the prediction object and the trajectories are stored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>countries</code></td>
<td>
<p>Vector of country codes for which the prediction should be made. If it is <code>NULL</code>, the prediction is run for all countries that are included in the MCMC object but for which no prediction was generated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save.as.ascii</code></td>
<td>
<p>Either a number determining how many trajectories should be converted into an ascii file, or “all” in which case all trajectories are converted. It should be set to 0, if no conversion is desired. Note that the conversion is done on all countries.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical switching log messages on and off.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uncertainty</code></td>
<td>
<p>Logical. If the MCMC steps considered uncertainty of past TFR and <code>uncertainty=TRUE</code>, starting point of prediction trajectories will be the last estimated trajectories of TFR. Otherwise, it will use the last observed TFR as starting point of prediction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all.countries.required</code></td>
<td>
<p>If <code>FALSE</code> it is not required that MCMCs of all countries are present.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.correlation</code></td>
<td>
<p>If missing and if the number of countries is larger than one, it takes the same value as was used in the main simulation. For one country the default is <code>FALSE</code>. If this parameter is <code>TRUE</code> the model errors are sampled jointly for all countries included in this prediction (Fosdick and Raftery, 2014).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In order to use this function, a prediction object must exist, i.e. the function <code>tfr.predict</code> must have been processed prior to using this function.
</p>
<p>Trajectories for given countries or regions are generated and stored in binary format along with other countries (in <code>prediction_dir</code>). The existing prediction object is updated and stored in the same directory. If <code>save.as.ascii</code> is larger than zero, trajectories of ALL countries are converted to an ascii format. 
</p>


<h3>Value</h3>

<p>Updated object of class <code>bayesTFR.prediction</code>.
</p>


<h3>Author(s)</h3>

<p>Hana Sevcikova
</p>


<h3>See Also</h3>

<p><code>tfr.predict</code>
</p>


</div>