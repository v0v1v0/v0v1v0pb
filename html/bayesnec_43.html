<div class="container">

<table style="width: 100%;"><tr>
<td>make_brmsformula</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Expose the final <code>brmsformula</code>
</h2>

<h3>Description</h3>

<p>Checks the input formula according to
<code>bayesnec</code> requirements and
expose the final <code>brmsformula</code> which is to be fitted via
package <span class="pkg">brms</span>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_brmsformula(formula, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>Either a <code>character</code> string defining an
R formula or an actual <code>formula</code> object. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A <code>data.frame</code> containing the variables
specified in <code>formula</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A named <code>list</code>, with each element containing the
final <code>brmsformula</code> to be passed to
<code>brm</code>.
</p>


<h3>See Also</h3>

<p><code>bayesnecformula</code>,
<code>check_formula</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(bayesnec)
nec3param &lt;- function(beta, nec, top, x) {
  top * exp(-exp(beta) * (x - nec) *
    ifelse(x - nec &lt; 0, 0, 1))
}

data &lt;- data.frame(x = seq(1, 20, length.out = 10), tr = 100, wght = c(1, 2),
                   group_1 = sample(c("a", "b"), 10, replace = TRUE),
                   group_2 = sample(c("c", "d"), 10, replace = TRUE))
data$y &lt;- nec3param(beta = -0.2, nec = 4, top = 100, data$x)

# make one single model
f_1 &lt;- "y | trials(tr) ~ crf(sqrt(x), \"nec3param\")"
make_brmsformula(f_1, data)
# make an entire class of models
f_2 &lt;- y ~ crf(x, "ecx") + ogl(group_1) + pgl(group_2)
make_brmsformula(f_2, data)

</code></pre>


</div>