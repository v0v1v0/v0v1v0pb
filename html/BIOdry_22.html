<div class="container">

<table style="width: 100%;"><tr>
<td>ringApply</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Multilevel apply</h2>

<h3>Description</h3>

<p>Wrapper of <code>Map</code> to apply functions on multilevel data
series and preserve factor-level structure in the outputs.</p>


<h3>Usage</h3>

<pre><code class="language-R">ringApply(rd, lv = 1, fn = "scacum", ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rd</code></td>
<td>
<p><code>data.frame</code>. Multileve ecological data series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lv</code></td>
<td>
<p>numeric position, or character name, of an
ecological factor in the processed MEDS.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fn</code></td>
<td>
<p><code>character</code> name of the function to be
evaluated (see details). Default 'scacum'
computes scaled-cumulative radii.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments in the function being specified
<code>fn</code> argument (see details)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Other functions such as
<code>rtimes</code>, <code>scacum</code>,
<code>amod</code>, or <code>wlai</code> can
be implemented.  Function arguments should be
formulated as suggested in
<code>mapply</code>, with constant
arguments being stored in a <code>MoreArgs</code>
list. This function is implemented by
<code>modelFrame</code> for recursive
modeling of MEDS.</p>


<h3>Value</h3>

<p><code>data.frame</code> object preserving initial factor-level columns.</p>


<h3>Author(s)</h3>

<p>Wilson Lara &lt;wilarhen@gmail.com&gt;, Felipe Bravo &lt;fbravo@pvs.uva.es&gt;</p>


<h3>References</h3>

<p>Lara, W., F. Bravo,
D. Maguire. 2013. Modeling patterns between
drought and tree biomass growth from
dendrochronological data: A multilevel
approach. Agric. For. Meteorol.,
178-179:140-151.</p>


<h3>Examples</h3>

<pre><code class="language-R">
##Multilevel ecological data series (MEDS) of tree-ring widths:
data(Prings05,envir = environment())
## Radial increments measured on 2003:
data(Pradii03,envir = environment())    
## MEDS of monthly precipitation sums and average temperatures:
data(PTclim05,envir = environment())

##Tree-level scaling of years of formation
##with 'rtimes' function:
dfm1 &lt;- ringApply(Prings05,
                  lv = 2,
                  fn = 'rtimes')
str(dfm1)
##Relative time-units from year 1 to year 9:
subset(dfm1,time%in%c(1:9,NA))

## Sample-level scaling of TRW chronologies around reference radii
## which were measured at 2003:
dfm2 &lt;- ringApply(dfm1,
                  lv = 'sample',
                  sc.c = Pradii03,
                  rf.t = 2003,
                  fn = 'scacum')
str(dfm2)    
##Sample-level modeling of basal areas (mm2) via allometric
##scaling:
dfm3 &lt;- ringApply(dfm2,
                  lv = 'sample',
                  fn = 'amod',
                  MoreArgs = list(mp = c(2,1,0.25 * pi,2)))
str(dfm3)

## Seasonal years from 'October' to 'September':
cl1 &lt;- ringApply(PTclim05,
                 lv = 'year',
                 fn = 'moveYr')
tail(cl1,15)

##Year-level aridity indexes: 
wl &lt;- ringApply(cl1,
                lv = 'year',
                fn = 'wlai')
str(wl)

## Plot of aridity-index fluctuations:
d &lt;- groupedData(lmeForm(wl),wl)
plot(d)        

</code></pre>


</div>