<div class="container">

<table style="width: 100%;"><tr>
<td>PlotBayesSurv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot the posterior mean with credible band for the survival function
or cumulative hazard, or the posterior mean for the hazard</h2>

<h3>Description</h3>

<p>This function takes the output from BayesSurv and uses ggplot2
to make plots of (1) the posterior mean of the survival function
with credible band, or (2) the posterior mean of the cumulative hazard
with credible band, or (3) the posterior mean of the cumulative hazard.
Users can select some plotting options within this function. Further
changes to the plot can be made by storing the plot and adding
ggplot2 syntax (see the examples).
</p>


<h3>Usage</h3>

<pre><code class="language-R">PlotBayesSurv(
  bayes.surv.object,
  object = c("survival", "cumhaz", "hazard"),
  band = TRUE,
  color = "darkblue",
  plot.title = "",
  xlab = "time",
  ylab = "",
  legend = TRUE,
  alpha.band = 0.4
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>bayes.surv.object</code></td>
<td>
<p>The output from the function BayesSurv.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>The object to be plotted, the user may select "survival"
for the survival function, "cumhaz" for the cumulative hazard, or
"hazard" for the hazard function. Default is the survival function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>band</code></td>
<td>
<p>Indicator whether a credible band should be plotted (only
possible for the survival function and the cumulative hazard).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>The color to be used for the posterior mean and the
credible band (if applicable).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.title</code></td>
<td>
<p>A title for the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>A label for the horizontal axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>a label for the vertical axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>If TRUE, a legend saying 'Credible band' will be included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.band</code></td>
<td>
<p>The transparency of the credible band.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The posterior mean of the hazard and the posterior mean and credible
band of the cumulative hazard are plotted exactly. The survival is plotted
exactly at the points contained in the vector <code>surv.eval.grid</code> contained
in the object created by BayesSurv. Between these points, the survival
is linearly interpolated. To evaluate the survival exactly at more points
(and to obtain a smoother plot), increase the parameter <code>surv.factor</code>
within BayesSurv.
</p>


<h3>Value</h3>

<table><tr style="vertical-align: top;">
<td><code>gg</code></td>
<td>
<p>The plot, which may be edited further by adding
ggplot2 syntax.</p>
</td>
</tr></table>
<h3>References</h3>

<p>Castillo and Van der Pas (2020). Multiscale Bayesian survival
analysis. &lt;arXiv:2005.02889&gt;.
</p>


<h3>See Also</h3>

<p>BayesSurv to create the required object for this
plotting function.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#Demonstration on a simulated data set
library(simsurv)
library(ggplot2)
hazard.true &lt;- function(t,x, betas, ...){1.2*(5*(t+0.05)^3 - 10*(t+0.05)^2 + 5*(t+0.05) ) + 0.7}
sim.df &lt;- data.frame(id = 1:1000)
df &lt;- simsurv(x = sim.df, maxt = 1, hazard = hazard.true)

bs &lt;- BayesSurv(df, "eventtime", "status")
PlotBayesSurv(bs, object = "survival")

cumhaz.plot &lt;- PlotBayesSurv(bs, object = "cumhaz")
cumhaz.plot + labs(title = "Cumulative hazard")

</code></pre>


</div>