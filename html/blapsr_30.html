<div class="container">

<table style="width: 100%;"><tr>
<td>simsurvdata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulation of right censored survival times for the Cox model.</h2>

<h3>Description</h3>

<p>Generates right censored time-to-event data. Latent event times are drawn
from a Weibull distribution, while censoring times are generated from an
exponential distribution.
</p>


<h3>Usage</h3>

<pre><code class="language-R">simsurvdata(a, b, n, betas, censperc, tmax = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>a, b</code></td>
<td>
<p>The shape parameter 'a&gt;0' and scale parameter 'b&gt;0'
of the Weibull.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Sample size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>betas</code></td>
<td>
<p>A numeric vector of regression coefficients. Allowed components
of 'betas' are in the interval <em>[-1 ,1]</em> and the total
number of components cannot exceed 5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>censperc</code></td>
<td>
<p>A numeric value in <em>[0,100]</em> corresponding to
the targeted percentage of censoring.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tmax</code></td>
<td>
<p>A maximum upper bound for the generated latent event times.
Especially useful for a simulation study in which the observed event times
are constrained to be generated in a fixed range.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The Weibull baseline hazard is parameterized as follows (see Hamada
et al. 2008 pp. 408-409) :
</p>
<p style="text-align: center;"><code class="reqn">h_0(t) = (a/(b^a)) t^(a-1), t &gt; 0.</code>
</p>

<p>The i<em>th</em> latent event time is denoted by <em>T_i</em> and is generated
following Bender et al. (2005) as follows:
</p>
<p style="text-align: center;"><code class="reqn">T_i = b (-log(U_i) exp(-\beta^T x_i))^(1/a),</code>
</p>

<p>where <em>U_i</em> is a uniform random variable obtained with 'runif(1)'
, <em>x_i</em> is the i<em>th</em> row of a covariate matrix X of dimension
'c(n, length(betas))' where each component is generated from a
standard Gaussian distribution and <code class="reqn">\beta</code> is the vector of
regression coefficients given by 'betas'.
</p>


<h3>Value</h3>

<p>An object of class 'simsurvdata' which is a list
with the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>sample.size</code></td>
<td>
<p>Sample size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>censoring</code></td>
<td>
<p>Censoring scheme. Either <em>No censoring</em>
or <em>Exponential</em>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.events</code></td>
<td>
<p>Number of events.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>censoring.percentage</code></td>
<td>
<p>The effective censoring percentage.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>survdata</code></td>
<td>
<p>A data frame containing the simulated data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>regcoeffs</code></td>
<td>
<p>The true regression coefficients used to simulate
the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S0</code></td>
<td>
<p>The baseline survival function under the chosen Weibull
parameterization.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h0</code></td>
<td>
<p>The baseline hazard function under the chosen Weibull
parameterization.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Weibull.mean</code></td>
<td>
<p>The mean of the Weibull used to generate latent
event times.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Weibull.variance</code></td>
<td>
<p>The variance of the Weibull used to generate latent
event times.</p>
</td>
</tr>
</table>
<p>The 'print' method summarizes the generated right censored data and
the 'plot' method produces a graph with time on the x axis and
horizontal bars on the y axis corresponding either to an event or a
right censored observation. If 'n &gt; 25', only the 25 first observations
are plotted.
</p>


<h3>Author(s)</h3>

<p>Oswaldo Gressani <a href="mailto:oswaldo_gressani@hotmail.fr">oswaldo_gressani@hotmail.fr</a>.
</p>


<h3>References</h3>

<p>Bender, R., Augustin, T. and Blettner, M. (2005). Generating
survival times to simulate Cox proportional hazards models,
<em>Statistics in Medicine</em> <strong>24</strong>(11): 1713-1723.
</p>
<p>Hamada, M. S., Wilson, A., Reese, C. S. and Martz, H. (2008).
<em>Bayesian Reliability</em>. Springer Science and Business Media.
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(10)
sim &lt;- simsurvdata(a = 2, b = 1, n = 300, betas = c(0.8, -0.6), censperc = 25)
sim
plot(sim)

</code></pre>


</div>