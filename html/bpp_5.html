<div class="container">

<table style="width: 100%;"><tr>
<td>bpp_1interim_binary</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bayesian Predictive Power (BPP) for Binary Endpoint</h2>

<h3>Description</h3>

<p>Compute BPP and posterior density for a binary endpoint, e.g. response proportions, assuming either an unblinded or blinded interim result.</p>


<h3>Usage</h3>

<pre><code class="language-R">bpp_1interim_binary(prior = c("normal", "flat"), successdelta, pi1, n1,
                                pi2, n2, IntEffBoundary, IntFutBoundary, 
                                IntFix, priormean, propA = 0.5, thetas, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>prior</code></td>
<td>
<p>Prior density on effect sizes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>successdelta</code></td>
<td>
<p>The proportion difference that defines success at the final analysis. We assume that higher proportions are better, e.g. as for response in oncology. Typically chosen to be the minimal detectable difference, i.e. the critical on the scale of the effect size of interest corresponding to the significance level at the final analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi1</code></td>
<td>
<p>Assumed response proportion in intervention arm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n1</code></td>
<td>
<p>2-d vector of sample sizes in intervention arm, at interim and final analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi2</code></td>
<td>
<p>Assumed response proportion in control arm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n2</code></td>
<td>
<p>2-d vector of sample sizes in control arm, at interim and final analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IntEffBoundary</code></td>
<td>
<p>Efficacy boundary at the interim analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IntFutBoundary</code></td>
<td>
<p>Futility boundary at the interim analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IntFix</code></td>
<td>
<p>Effect sizes observed at the interim analyis, to compute BPP for an unblinded interim analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>priormean</code></td>
<td>
<p>Prior mean.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>propA</code></td>
<td>
<p>Proportion of subjects randomized to arm A.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thetas</code></td>
<td>
<p>Grid to compute posterior density on.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments specific to the chosen prior (see <code>bpp_1interim_binary</code> for examples).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>initial BPP</code></td>
<td>
<p>BPP based on the prior.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BPP after not stopping at interim interval</code></td>
<td>
<p>BPP after not stopping at a blinded interim, provides the results corresponding to <code>IntEffBoundary</code> and <code>IntFutBoundary</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BPP after not stopping at interim exact</code></td>
<td>
<p>BPP after not stopping at an unblinded interim, provides the results corresponding to <code>IntFix</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>posterior density interval</code></td>
<td>
<p>The posterior density, interval knowledge, i.e. corresponding to <code>IntEffBoundary</code> and <code>IntFutBoundary</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>posterior power interval</code></td>
<td>
<p>The posterior power, interval knowledge, i.e. corresponding to <code>IntEffBoundary</code> and <code>IntFutBoundary</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>posterior density exact</code></td>
<td>
<p>The posterior density, exact knowledge of interim result, i.e. corresponding to <code>IntFix</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Kaspar Rufibach (maintainer) <br><a href="mailto:kaspar.rufibach@roche.com">kaspar.rufibach@roche.com</a></p>


<h3>References</h3>

<p>Rufibach, K., Jordan, P., Abt, M. (2016a). 
Sequentially Updating the Likelihood of Success of a Phase 3 Pivotal Time-to-Event Trial based on Interim Analyses or External Information. 
<em>J. Biopharm. Stat.</em>, <b>26</b>(2), 191–201.
</p>
<p>Rufibach, K., Burger, H.U., Abt, M. (2016b). 
Bayesian Predictive Power: Choice of Prior and some Recommendations for its Use as Probability of Success in Drug Development.
<em>Pharm. Stat.</em>, <b>15</b>, 438–446.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# simple example with response proportions
pi1 &lt;- 0.6              # proportion in intervention arm
pi2 &lt;- 0.45             # proportion in control arm
n1 &lt;- 174
n2 &lt;- 174

# MDD at final analysis - proportion difference that corresponds to "success"
mdd &lt;- 0.1

n1_int &lt;- 87
n2_int &lt;- 87

# prior if normal
pi20 &lt;- 0.44
pi10 &lt;- 0.64
n0 &lt;- 50
priormean &lt;- pi10 - pi20
sd0 &lt;- sqrt(pi20 * (1 - pi20) / (n0 / 2) + pi10 * (1 - pi10) / (n0 / 2))

# efficacy boundary
effi &lt;- 0.2

# futility boundary
futi &lt;- 0

thetas &lt;- seq(-0.65, 0.3, by = 0.01)

bpp_1interim_binary(prior = "normal", successdelta = mdd, pi1 = pi1, 
                    n1 = c(n1_int, n1), n2 = c(n2_int, n2), 
                    pi2 = pi2, IntEffBoundary = effi, IntFutBoundary = futi, 
                    IntFix = 1, priormean = priormean, propA = 0.5, 
                    thetas = thetas, priorsigma = sd0)[[1]]
                             
</code></pre>


</div>