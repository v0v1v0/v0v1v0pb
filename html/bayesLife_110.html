<div class="container">

<table style="width: 100%;"><tr>
<td>write.e0.projection.summary</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Writing Projection Summary Files
</h2>

<h3>Description</h3>

<p>The function creates two files containing projection summaries, such as the median, the lower and upper bound of the 80 and 90% probability intervals, respectively, and the constant variant. One file is in a user-friendly format, whereas the other is in a UN-specific format with internal coding of the time and the variants.
</p>


<h3>Usage</h3>

<pre><code class="language-R">write.e0.projection.summary(dir = file.path(getwd(), "bayesLife.output"), 
    output.dir = NULL, revision = NULL, adjusted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>Directory containing the prediction object. It should correspond to the <code>output.dir</code> argument of the <code>e0.predict</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output.dir</code></td>
<td>
<p>Directory in which the resulting file will be stored. If <code>NULL</code> the same directory is used as for the prediction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>revision</code></td>
<td>
<p>UN revision number. If <code>NULL</code> it is determined from the corresponding WPP year: WPP 2008 corresponds to revision 13, every subsequent WPP increases the revision number by one. Used as a constant in the second file only.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjusted</code></td>
<td>
<p>Logical. By default the function writes summary using the original BHM projections. If the projection medians are adjusted (using e.g. <code>e0.median.set</code>), setting this argument to <code>TRUE</code> causes writing the adjusted projections.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The first file that the function creates is called ‘<span class="file">projection_summary_user_friendly.csv</span>’, it is a comma-separated table with the following columns: 
</p>
<ul>
<li>
<p>“country_name”: country name
</p>
</li>
<li>
<p>“country_code”: country code
</p>
</li>
<li>
<p>“variant”: name of the variant, such as “median”, “lower 80”, “upper 80”, “lower 95”, “upper 95”, “constant”
</p>
</li>
<li>
<p>period1: e.g. “2010-2015”: life expectancy for the first time period
</p>
</li>
<li>
<p>period2: e.g. “2015-2020”: life expectancy for the second time period
</p>
</li>
<li>
<p>... further columns with life expectancy projections
</p>
</li>
</ul>
<p>The second file, called ‘<span class="file">projection_summary.csv</span>’, also comma-separated table, contains the same information as above in a UN-specific format:
</p>
<ul>
<li>
<p>“RevID”: revision number, passed to the function as an argument;
</p>
</li>
<li>
<p>“VarID”: variant identifier, extracted from the <code>UN_variants</code> dataset in the <span class="pkg">bayesTFR</span> package;
</p>
</li>
<li>
<p>“LocID”: country code;
</p>
</li>
<li>
<p>“TimeID”: time identifier, extracted from the <code>UN_time</code> dataset in the <span class="pkg">bayesTFR</span> package;
</p>
</li>
<li>
<p>“e0”: the life expectancy for this variant, location and time period.
</p>
</li>
</ul>
<p>If the simulation directory contains joint male predictions, summary files for those are created as well. In such a case, if <code>output.dir</code> is given, separate subdirectories for female and male are created.
</p>


<h3>Note</h3>

<p>This function is automatically called from the <code>e0.predict</code> and <code>e0.jmale.predict</code> functions, therefore in standard cases it will not be needed to call it directly.
</p>


<h3>Author(s)</h3>

<p>Hana Sevcikova
</p>


<h3>See Also</h3>

<p><code>convert.e0.trajectories</code>, <code>e0.predict</code>
</p>


</div>