<div class="container">

<table style="width: 100%;"><tr>
<td>step_orderNorm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>ORQ normalization (orderNorm) for <code>recipes</code> implementation</h2>

<h3>Description</h3>

<p>'step_orderNorm' creates a specification of a recipe step (see
'recipes' package) that will transform data using the ORQ (orderNorm)
transformation, which approximates the "true" normalizing transformation if
one exists. This is considerably faster than 'step_bestNormalize'.
</p>


<h3>Usage</h3>

<pre><code class="language-R">step_orderNorm(
  recipe,
  ...,
  role = NA,
  trained = FALSE,
  transform_info = NULL,
  transform_options = list(),
  num_unique = 5,
  skip = FALSE,
  id = rand_id("orderNorm")
)

## S3 method for class 'step_orderNorm'
tidy(x, ...)

## S3 method for class 'step_orderNorm'
axe_env(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>recipe</code></td>
<td>
<p>A formula or recipe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>One or more selector functions to choose which variables are
affected by the step. See [selections()] for more details. For the 'tidy'
method, these are not currently used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>role</code></td>
<td>
<p>Not used by this step since no new variables are created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trained</code></td>
<td>
<p>For recipes functionality</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transform_info</code></td>
<td>
<p>A numeric vector of transformation values. This (was
transform_info) is 'NULL' until computed by [prep.recipe()].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transform_options</code></td>
<td>
<p>options to be passed to orderNorm</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_unique</code></td>
<td>
<p>An integer where data that have less possible values will
not be evaluate for a transformation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip</code></td>
<td>
<p>For recipes functionality</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>For recipes functionality</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A 'step_orderNorm' object.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The orderNorm transformation can be used to rescale a variable to be
more similar to a normal distribution. See '?orderNorm' for more
information; 'step_orderNorm' is the implementation of 'orderNorm' in the
'recipes' context.
</p>
<p>As of version 1.7, the 'butcher' package can be used to (hopefully) improve 
scalability of this function on bigger data sets.
</p>


<h3>Value</h3>

<p>An updated version of 'recipe' with the new step added to the
sequence of existing steps (if any). For the 'tidy' method, a tibble with
columns 'terms' (the selectors or variables selected) and 'value' (the
lambda estimate).
</p>


<h3>References</h3>

<p>Ryan A. Peterson (2019). Ordered quantile normalization: a
semiparametric transformation built for the cross-validation era. Journal
of Applied Statistics, 1-16.
</p>


<h3>See Also</h3>

<p><code>orderNorm</code> <code>bestNormalize</code>,
[recipe()] [prep.recipe()] [bake.recipe()]
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(recipes)
rec &lt;- recipe(~ ., data = as.data.frame(iris))

orq_trans &lt;- step_orderNorm(rec, all_numeric())

orq_estimates &lt;- prep(orq_trans, training = as.data.frame(iris))

orq_data &lt;- bake(orq_estimates, as.data.frame(iris))

plot(density(iris[, "Petal.Length"]), main = "before")
plot(density(orq_data$Petal.Length), main = "after")

tidy(orq_trans, number = 1)
tidy(orq_estimates, number = 1)


</code></pre>


</div>