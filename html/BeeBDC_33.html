<div class="container">

<table style="width: 100%;"><tr>
<td>jbd_coordCountryInconsistent</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Flags coordinates that are inconsistent with the stated country name</h2>

<h3>Description</h3>

<p>Compares stated country name in an occurrence record with record's coordinates using
rnaturalearth data. The prefix, jbd_ is meant
to distinguish this function from the original <code>bdc::bdc_coordinates_country_inconsistent()</code>.
This functions will preferably use the countryCode and country_suggested columns
generated by <code>bdc::bdc_country_standardized()</code>; please run it on your dataset prior to running
this function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">jbd_coordCountryInconsistent(
  data = NULL,
  lon = "decimalLongitude",
  lat = "decimalLatitude",
  scale = 50,
  pointBuffer = 0.01,
  stepSize = 1e+06,
  mc.cores = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame or tibble. Occurrence records as input.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lon</code></td>
<td>
<p>Character. The name of the column to use as longitude. Default = "decimalLongitude".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat</code></td>
<td>
<p>Character. The name of the column to use as latitude. Default = "decimalLatitude".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>Numeric or character. To be passed to <code>rnaturalearth::ne_countries()</code>'s scale.
Scale of map to return, one of 110, 50, 10 or "small", "medium", "large".
Smaller values return higher-resolution maps.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pointBuffer</code></td>
<td>
<p>Numeric. Amount to buffer points, in decimal degrees. If the point is outside
of a country, but within this point buffer, it will not be flagged. Default = 0.01.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stepSize</code></td>
<td>
<p>Numeric. The number of occurrences to process in each chunk. Default = 1000000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mc.cores</code></td>
<td>
<p>Numeric. If &gt; 1, the st_intersects function will run in parallel
using mclapply using the number of cores specified. If = 1 then it will be run using a serial
loop. NOTE: Windows machines must use a value of 1 (see ?parallel::mclapply). Additionally,
be aware that each thread can use large chunks of memory.
Default = 1.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The input occurrence data with a new column, .coordinates_country_inconsistent
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(requireNamespace("rnaturalearthdata")){
beesRaw_out &lt;- jbd_coordCountryInconsistent(
  data = BeeBDC::beesRaw,
  lon = "decimalLongitude",
  lat = "decimalLatitude",
  scale = 50,
  pointBuffer = 0.01)
} # END if require
</code></pre>


</div>