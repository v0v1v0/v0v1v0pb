<div class="container">

<table style="width: 100%;"><tr>
<td>PPD-intervals</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>PPD intervals</h2>

<h3>Description</h3>

<p>Medians and central interval estimates of posterior or prior predictive
distributions. Each of these functions makes the same plot as the
corresponding <code>ppc_</code> function but without plotting any
observed data <code>y</code>. The <strong>Plot Descriptions</strong> section at PPC-intervals has
details on the individual plots.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ppd_intervals(
  ypred,
  x = NULL,
  ...,
  prob = 0.5,
  prob_outer = 0.9,
  alpha = 0.33,
  size = 1,
  fatten = 2.5,
  linewidth = 1
)

ppd_intervals_grouped(
  ypred,
  x = NULL,
  group,
  ...,
  facet_args = list(),
  prob = 0.5,
  prob_outer = 0.9,
  alpha = 0.33,
  size = 1,
  fatten = 2.5,
  linewidth = 1
)

ppd_ribbon(
  ypred,
  x = NULL,
  ...,
  prob = 0.5,
  prob_outer = 0.9,
  alpha = 0.33,
  size = 0.25
)

ppd_ribbon_grouped(
  ypred,
  x = NULL,
  group,
  ...,
  facet_args = list(),
  prob = 0.5,
  prob_outer = 0.9,
  alpha = 0.33,
  size = 0.25
)

ppd_intervals_data(
  ypred,
  x = NULL,
  group = NULL,
  ...,
  prob = 0.5,
  prob_outer = 0.9
)

ppd_ribbon_data(
  ypred,
  x = NULL,
  group = NULL,
  ...,
  prob = 0.5,
  prob_outer = 0.9
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ypred</code></td>
<td>
<p>An <code>S</code> by <code>N</code> matrix of draws from the posterior (or prior)
predictive distribution. The number of rows, <code>S</code>, is the size of the
posterior (or prior) sample used to generate <code>ypred</code>. The number of
columns, <code>N</code>, is the number of predicted observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector to use as the x-axis
variable. For example, <code>x</code> could be a predictor variable from a
regression model, a time variable for time-series models, etc. If <code>x</code>
is missing or <code>NULL</code> then the observation index is used for the x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Currently unused.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob, prob_outer</code></td>
<td>
<p>Values between <code>0</code> and <code>1</code> indicating the desired
probability mass to include in the inner and outer intervals. The defaults
are <code>prob=0.5</code> and <code>prob_outer=0.9</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha, size, fatten, linewidth</code></td>
<td>
<p>Arguments passed to geoms. For ribbon
plots <code>alpha</code> is passed to <code>ggplot2::geom_ribbon()</code> to control the opacity
of the outer ribbon and <code>size</code> is passed to <code>ggplot2::geom_line()</code> to
control the size of the line representing the median prediction (<code>size=0</code>
will remove the line). For interval plots <code>alpha</code>, <code>size</code>, <code>fatten</code>, and
<code>linewidth</code> are passed to <code>ggplot2::geom_pointrange()</code> (<code>fatten=0</code> will
remove the point estimates).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>A grouping variable of the same length as <code>y</code>.
Will be coerced to factor if not already a factor.
Each value in <code>group</code> is interpreted as the group level pertaining
to the corresponding observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet_args</code></td>
<td>
<p>A named list of arguments (other than <code>facets</code>) passed
to <code>ggplot2::facet_wrap()</code> or <code>ggplot2::facet_grid()</code>
to control faceting. Note: if <code>scales</code> is not included in <code>facet_args</code>
then <strong>bayesplot</strong> may use <code>scales="free"</code> as the default (depending
on the plot) instead of the <strong>ggplot2</strong> default of <code>scales="fixed"</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The plotting functions return a ggplot object that can be further
customized using the <strong>ggplot2</strong> package. The functions with suffix
<code style="white-space: pre;">⁠_data()⁠</code> return the data that would have been drawn by the plotting
function.
</p>


<h3>References</h3>

<p>Gabry, J. , Simpson, D. , Vehtari, A. , Betancourt, M. and
Gelman, A. (2019), Visualization in Bayesian workflow.
<em>J. R. Stat. Soc. A</em>, 182: 389-402. doi:10.1111/rssa.12378.
(<a href="https://rss.onlinelibrary.wiley.com/doi/full/10.1111/rssa.12378">journal version</a>,
<a href="https://arxiv.org/abs/1709.01449">arXiv preprint</a>,
<a href="https://github.com/jgabry/bayes-vis-paper">code on GitHub</a>)
</p>


<h3>See Also</h3>

<p>Other PPDs: 
<code>PPD-distributions</code>,
<code>PPD-overview</code>,
<code>PPD-test-statistics</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">color_scheme_set("brightblue")
ypred &lt;- example_yrep_draws()
x &lt;- example_x_data()
group &lt;- example_group_data()

ppd_intervals(ypred[, 1:50])
ppd_intervals(ypred[, 1:50], fatten = 0)
ppd_intervals(ypred[, 1:50], fatten = 0, linewidth = 2)
ppd_intervals(ypred[, 1:50], prob_outer = 0.75, fatten = 0, linewidth = 2)

# put a predictor variable on the x-axis
ppd_intervals(ypred[, 1:100], x = x[1:100], fatten = 1) +
  ggplot2::labs(y = "Prediction", x = "Some variable of interest")

# with a grouping variable too
ppd_intervals_grouped(
  ypred = ypred[, 1:100],
  x = x[1:100],
  group = group[1:100],
  size = 2,
  fatten = 0,
  facet_args = list(nrow = 2)
)

# even reducing size, ppd_intervals is too cluttered when there are many
# observations included (ppd_ribbon is better)
ppd_intervals(ypred, size = 0.5, fatten = 0.1, linewidth = 0.5)
ppd_ribbon(ypred)
ppd_ribbon(ypred, size = 0) # remove line showing median prediction

</code></pre>


</div>