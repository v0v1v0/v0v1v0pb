<div class="container">

<table style="width: 100%;"><tr>
<td>cable.ar.p.diag</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Bent-Cable AR(p&gt;0) Diagnostics </h2>

<h3>Description</h3>

<p>ACF, PACF, and other plots are produced for diagnosing an AR(p)
bent-cable fit when p&gt;0.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cable.ar.p.diag(ar.p.fit, resid.type = "p", xlab = "time", ylab = "",
	main = NULL, main.all = NULL, ctp.ci = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ar.p.fit</code></td>
<td>
<p> A <code>cable.ar.p.iter</code> object for AR(p) data, p&gt;0. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resid.type</code></td>
<td>
<p> A <code>type</code> argument for the <code>plot</code>
function; used to control the way fitted residuals and
innovations are displayed. Default is <code>"p"</code> for
<em>points</em>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p> Character string: x-axis label. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p> Character string: y-axis label. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p> Character string: title for the time series plot. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main.all</code></td>
<td>
<p> Character string: title for the entire set of
plots. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ctp.ci</code></td>
<td>
<p> A <code>cable.change.conf</code> object. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function splits the plotting canvas into several panels. For
one panel, <code>ar.p.fit</code> is fed to <code>cable.ar.p.plot</code> that
produces a scatterplot of the data and overlays on it the fitted
bent cable with the estimated transition. The optioinal
<code>ctp.ci</code> is also fed to <code>cable.ar.p.plot</code> to add the
CTP confidence interval to the same panel. Additionally,
<code>ar.p.fit</code> is fed to <code>cable.ar.p.resid</code> to extract the
fitted residuals and innovations, which are then plotted in
separate panels that again show the estimated transition and
confidence interval. Finally, four panels show ACF and PACF
diagnostics for the fitted residuals and innovations, via the
built-in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> functions <code>acf</code> and <code>pacf</code>.
</p>


<h3>Warning</h3>

<p>See the warnings from <code>cable.ar.p.plot</code> and
<code>cable.ar.p.resid</code>. </p>


<h3>Note</h3>

<p>This function is intended for internal use by <code>bentcable.ar</code>.
</p>


<h3>Author(s)</h3>

<p> Grace Chiu </p>


<h3>References</h3>

<p> See the <code>bentcableAR</code> package references. </p>


<h3>See Also</h3>

 <p><code>cable.lines</code>, <code>plot</code>, <code>par</code>,
<code>acf</code>, <code>pacf</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">data(sockeye)

# AR(2) cable fit
fit.ar2 &lt;- cable.ar.p.iter( c(13,.1,-.5,11,4,.5,-.5),
	sockeye$logReturns, tol=1e-4 )
cable.ar.p.diag( fit.ar2, main="bent cable", main.all="Sockeye",
	ctp.ci=cable.change.conf( fit.ar2, .9 ) )
		# compare to this:
		# fit.ar2 &lt;- bentcable.ar( sockeye$logReturns,
		#	init.cable=c(13,.1,-.5,11,4), p=2, main="Sockeye bent cable",
		#	ci.level=.9 )

# AR(4) stick fit
fit.ar4 &lt;- cable.ar.p.iter( c(13,.1,-.5,11,.5,-.5,.5,-.5),
	sockeye$logReturns, tol=1e-4, stick=TRUE )
cable.ar.p.diag( fit.ar4, ctp.ci=cable.change.conf( fit.ar4, .95 ) )
		# compare to this:
		# fit.ar4 &lt;- bentcable.ar( sockeye$logReturns,
		#	init.cable=c(13,.1,-.5,11), p=4, stick=TRUE )
</code></pre>


</div>