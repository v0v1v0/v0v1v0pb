<div class="container">

<table style="width: 100%;"><tr>
<td>plot.critFun</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Functions for plotting a partitioned matrix (representing the network)</h2>

<h3>Description</h3>

<p>The main function <code>plot.mat</code> or <code>plotMat</code> plots a (optionally partitioned) matrix.
If the matrix is partitioned, the rows and columns of the matrix are rearranged according to the partitions.
Other functions are only wrappers for <code>plot.mat</code> or <code>plotMat</code> for convenience when plotting the results of the corresponding functions.
The <code>plotMatNm</code> plots two matrices based on M, normalized by rows and columns, next to each other. The <code>plotArray</code> plots an array. <code>plot.mat.nm</code> has been replaced by <code>plotMatNm</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'critFun'
plot(x, main = NULL, ...)

## S3 method for class 'crit.fun'
plot(x, main = NULL, ...)

plotMatNm(
  M = x,
  x = M,
  ...,
  main.title = NULL,
  title.row = "Row normalized",
  title.col = "Column normalized",
  main.title.line = -2,
  par.set = list(mfrow = c(1, 2))
)

## S3 method for class 'optMorePar'
plot(x, main = NULL, which = 1, ...)

## S3 method for class 'opt.more.par'
plot(x, main = NULL, which = 1, ...)

## S3 method for class 'optMoreParMode'
plot(x, main = NULL, which = 1, ...)

## S3 method for class 'opt.more.par.mode'
plot(x, main = NULL, which = 1, ...)

## S3 method for class 'optPar'
plot(x, main = NULL, which = 1, ...)

## S3 method for class 'opt.par'
plot(x, main = NULL, which = 1, ...)

## S3 method for class 'optParMode'
plot(x, main = NULL, which = 1, ...)

## S3 method for class 'opt.par.mode'
plot(x, main = NULL, which = 1, ...)

plotMat(
  x = M,
  clu = NULL,
  orderClu = FALSE,
  M = x,
  ylab = "",
  xlab = "",
  main = NULL,
  print.val = !length(table(M)) &lt;= 2,
  print.0 = FALSE,
  plot.legend = !print.val &amp;&amp; !length(table(M)) &lt;= 2,
  print.legend.val = "out",
  print.digits.legend = 2,
  print.digits.cells = 2,
  print.cells.mf = NULL,
  outer.title = FALSE,
  title.line = ifelse(outer.title, -1.5, 7),
  mar = c(0.5, 7, 8.5, 0) + 0.1,
  cex.val = "default",
  val.y.coor.cor = 0,
  val.x.coor.cor = 0,
  cex.legend = 1,
  legend.title = "Legend",
  cex.axes = "default",
  print.axes.val = NULL,
  print.x.axis.val = !is.null(colnames(M)),
  print.y.axis.val = !is.null(rownames(M)),
  x.axis.val.pos = 1.01,
  y.axis.val.pos = -0.01,
  cex.main = par()$cex.main,
  cex.lab = par()$cex.lab,
  yaxis.line = -1.5,
  xaxis.line = -1,
  legend.left = 0.4,
  legend.up = 0.03,
  legend.size = 1/min(dim(M)),
  legend.text.hor.pos = 0.5,
  par.line.width = 3,
  par.line.width.newSet = par.line.width[1] * 2,
  par.line.col = "blue",
  par.line.col.newSet = "red",
  IM.dens = NULL,
  IM = NULL,
  wnet = NULL,
  wIM = NULL,
  use.IM = length(dim(IM)) == length(dim(M)) | !is.null(wIM),
  dens.leg = c(null = 100, nul = 100),
  blackdens = 70,
  plotLines = FALSE,
  frameMatrix = TRUE,
  x0ParLine = -0.1,
  x1ParLine = 1,
  y0ParLine = 0,
  y1ParLine = 1.1,
  colByUnits = NULL,
  colByRow = NULL,
  colByCol = NULL,
  mulCol = 2,
  joinColOperator = "+",
  colTies = FALSE,
  maxValPlot = NULL,
  printMultipliedMessage = TRUE,
  replaceNAdiagWith0 = TRUE,
  colLabels = FALSE,
  MplotValues = NULL,
  ...
)

plotArray(
  x = M,
  M = x,
  IM = NULL,
  ...,
  main.title = NULL,
  main.title.line = -2,
  mfrow = NULL
)

## S3 method for class 'mat'
plot(
  x = M,
  clu = NULL,
  orderClu = FALSE,
  M = x,
  ylab = "",
  xlab = "",
  main = NULL,
  print.val = !length(table(M)) &lt;= 2,
  print.0 = FALSE,
  plot.legend = !print.val &amp;&amp; !length(table(M)) &lt;= 2,
  print.legend.val = "out",
  print.digits.legend = 2,
  print.digits.cells = 2,
  print.cells.mf = NULL,
  outer.title = FALSE,
  title.line = ifelse(outer.title, -1.5, 7),
  mar = c(0.5, 7, 8.5, 0) + 0.1,
  cex.val = "default",
  val.y.coor.cor = 0,
  val.x.coor.cor = 0,
  cex.legend = 1,
  legend.title = "Legend",
  cex.axes = "default",
  print.axes.val = NULL,
  print.x.axis.val = !is.null(colnames(M)),
  print.y.axis.val = !is.null(rownames(M)),
  x.axis.val.pos = 1.01,
  y.axis.val.pos = -0.01,
  cex.main = par()$cex.main,
  cex.lab = par()$cex.lab,
  yaxis.line = -1.5,
  xaxis.line = -1,
  legend.left = 0.4,
  legend.up = 0.03,
  legend.size = 1/min(dim(M)),
  legend.text.hor.pos = 0.5,
  par.line.width = 3,
  par.line.width.newSet = par.line.width[1] * 2,
  par.line.col = "blue",
  par.line.col.newSet = "red",
  IM.dens = NULL,
  IM = NULL,
  wnet = NULL,
  wIM = NULL,
  use.IM = length(dim(IM)) == length(dim(M)) | !is.null(wIM),
  dens.leg = c(null = 100, nul = 100),
  blackdens = 70,
  plotLines = FALSE,
  frameMatrix = TRUE,
  x0ParLine = -0.1,
  x1ParLine = 1,
  y0ParLine = 0,
  y1ParLine = 1.1,
  colByUnits = NULL,
  colByRow = NULL,
  colByCol = NULL,
  mulCol = 2,
  joinColOperator = "+",
  colTies = FALSE,
  maxValPlot = NULL,
  printMultipliedMessage = TRUE,
  replaceNAdiagWith0 = TRUE,
  colLabels = FALSE,
  MplotValues = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A result from a corresponding function or a matrix or similar object representing a network.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>Main title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to <code>plot.default</code> for <code>plotMat</code> and also to <code>plotMat</code> for other functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>A matrix or similar object representing a network - either <code>x</code> or <code>M</code> must be supplied - both are here to make the code compatible with generic and with older functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main.title</code></td>
<td>
<p>Main title in <code>plotArray</code> version.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title.row</code></td>
<td>
<p>Title for the row-normalized matrix in nm version</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title.col</code></td>
<td>
<p>Title for the column-normalized matrix in nm version</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main.title.line</code></td>
<td>
<p>The line in which main title is printed in <code>plotArray</code> version.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>par.set</code></td>
<td>
<p>A list of possible plotting parameters (to <code>par</code>) to be used in nm version</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>Which (if there are more than one) of optimal solutions to plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clu</code></td>
<td>
<p>A partition. Each unique value represents one cluster. If the network is one-mode,
then this should be a vector, else a list of vectors, one for each mode/set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>orderClu</code></td>
<td>
<p>Should the partition be ordered before plotting. <code>FALSE</code> by default. If <code>TRUE</code>, <code>orderClu</code> is used (using default arguments) to order the clusters in a partition in "decreasing" (see <code>orderClu</code> for interpretation) order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>Label for y axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>Label for x axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.val</code></td>
<td>
<p>Should the values be printed in the matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.0</code></td>
<td>
<p>If <code>print.val = TRUE</code> Should the 0s be printed in the matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.legend</code></td>
<td>
<p>Should the legend for shades be plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.legend.val</code></td>
<td>
<p>Should the values be printed in the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.digits.legend</code></td>
<td>
<p>The number of digits that should appear in the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.digits.cells</code></td>
<td>
<p>The number of digits that should appear in the cells (of the matrix and/or legend).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.cells.mf</code></td>
<td>
<p>If not <code>NULL</code>, the above argument is ignored, the cell values are printed as the cell are multiplied by this factor and rounded.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer.title</code></td>
<td>
<p>Should the title be printed on the 'inner' or 'outer' margin of the plot, default is 'inner' margin.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title.line</code></td>
<td>
<p>The line (from the top) where the title should be printed. The suitable values depend heavily on the displayed type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mar</code></td>
<td>
<p>A numerical vector of the form <code>c(bottom, left, top, right)</code> which gives the lines of margin to be specified on the four sides of the plot.
The R default for ordinary  plots is <code>c(5, 4, 4, 2) + 0.1</code>, while this function default is <code>c(0.5, 7, 8.5, 0) + 0.1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.val</code></td>
<td>
<p>The size of the values printed. The default is <code>10 / 'number of units'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>val.y.coor.cor</code></td>
<td>
<p>Correction for centering the values in the squares in y direction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>val.x.coor.cor</code></td>
<td>
<p>Correction for centering the values in the squares in x direction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.legend</code></td>
<td>
<p>Size of the text in the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.title</code></td>
<td>
<p>The title of the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.axes</code></td>
<td>
<p>Size of the characters in axes. Default makes the cex so small that all categories can be printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.axes.val</code></td>
<td>
<p>Should the axes values be printed. Default prints each axis if <code>rownames</code> or <code>colnames</code> is not <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.x.axis.val</code></td>
<td>
<p>Should the x axis values be printed. Default prints each axis if <code>rownames</code> or <code>colnames</code> is not <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.y.axis.val</code></td>
<td>
<p>Should the y axis values be printed. Default prints each axis if <code>rownames</code> or <code>colnames</code> is not <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.axis.val.pos</code></td>
<td>
<p>The x coordinate of the y axis values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.axis.val.pos</code></td>
<td>
<p>The y coordinate of the x axis values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.main</code></td>
<td>
<p>Size of the text in the main title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.lab</code></td>
<td>
<p>Size of the text in matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yaxis.line</code></td>
<td>
<p>The position of the y axis (the argument 'line').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xaxis.line</code></td>
<td>
<p>The position of the x axis (the argument 'line').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.left</code></td>
<td>
<p>How much left should the legend be from the matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.up</code></td>
<td>
<p>How much up should the legend be from the matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.size</code></td>
<td>
<p>Relative legend size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.text.hor.pos</code></td>
<td>
<p>Horizontal position of the legend text (bottom) - 0 = bottom, 0.5 = middle,...</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>par.line.width</code></td>
<td>
<p>The width of the line that separates  the partitions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>par.line.width.newSet</code></td>
<td>
<p>The width of the line that separates  that separates the sets/modes - only used when <code>clu</code> is a list and <code>par.line.width</code> has length 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>par.line.col</code></td>
<td>
<p>The color of the line that separates the partitions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>par.line.col.newSet</code></td>
<td>
<p>The color of the line that separates  that separates the sets/modes - only used when <code>clu</code> is a list and <code>par.line.col</code> has length 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IM.dens</code></td>
<td>
<p>The density of shading lines in each block.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IM</code></td>
<td>
<p>The image (as obtained  with <code>critFunC</code>) of the blockmodel. <code>dens.leg</code> is used to translate this image into <code>IM.dens</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wnet</code></td>
<td>
<p>Specifies which matrix (if more) should be plotted  - used if <code>M</code> is an array.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wIM</code></td>
<td>
<p>Specifies which <code>IM</code> (if more) should be used for plotting. The default value is set to <code>wnet</code>) - used if <code>IM</code> is an array.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.IM</code></td>
<td>
<p>Specifies if <code>IM</code> should be used for plotting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dens.leg</code></td>
<td>
<p>It is used to translate the <code>IM</code> into <code>IM.dens</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blackdens</code></td>
<td>
<p>At which density should the values on dark colors  of lines be printed in white.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotLines</code></td>
<td>
<p>Should the lines in the matrix be printed. The default value is set to <code>FALSE</code>, best set to <code>TRUE</code> for very small networks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frameMatrix</code></td>
<td>
<p>Should the matrix be framed (if <code>plotLines</code> is <code>FALSE</code>). The default value is set to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x0ParLine</code></td>
<td>
<p>Coordinates for lines separating clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x1ParLine</code></td>
<td>
<p>Coordinates for lines separating clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y0ParLine</code></td>
<td>
<p>Coordinates for lines separating clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y1ParLine</code></td>
<td>
<p>Coordinates for lines separating clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colByUnits</code></td>
<td>
<p>Coloring units. It should be a vector of unit length.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colByRow</code></td>
<td>
<p>Coloring units by rows. It should be a vector of unit length.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colByCol</code></td>
<td>
<p>Coloring units by columns. It should be a vector of unit length.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mulCol</code></td>
<td>
<p>Multiply color when joining with row, column. Only used when when <code>colByUnits</code> is not <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>joinColOperator</code></td>
<td>
<p>Function to join <code>colByRow</code> and <code>colByCol</code>. The default value is set to <code>"+"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colTies</code></td>
<td>
<p>If <code>TRUE</code>, ties are colored, if <code>FALSE</code>, 0-ties are colored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxValPlot</code></td>
<td>
<p>The value to use as a maximum when computing colors (ties with maximal positive value are plotted  as black).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>printMultipliedMessage</code></td>
<td>
<p>Should the message '* all values in cells were multiplied by' be printed on the plot. The default value is set to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replaceNAdiagWith0</code></td>
<td>
<p>If <code>replaceNAdiagWith0 = TRUE</code> Should the <code>NA</code> values on the diagonal of a matrix be replaced with 0s.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colLabels</code></td>
<td>
<p>Should the labels of units be colored. If <code>FALSE</code>, these are not colored, if <code>TRUE</code>, they are colored with colors of clusters as defined by palette.
This can be also a vector of colors (or integers) for one-mode networks or a list of two such vectors for two-mode networks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MplotValues</code></td>
<td>
<p>A matrix to strings to plot in cells. Only to be used if other values than those in the original matrix (<code>x</code> or <code>M</code> arguments) should be used. Defaults to <code>NULL</code>, in which case the valued from original matrix are plotted (if this is not prevented by some other arguments). Overrides all other arguments that deal with cell values (e.g. <code>print.digits.cells</code>). Sets <code>print.val</code> to <code>TRUE</code> and <code>plot.legend</code> to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mfrow</code></td>
<td>
<p><code>mfrow</code> Argument to <code>par</code> - number of row and column plots to be plotted on one figure.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The functions are used for their side effect - plotting.
</p>


<h3>Author(s)</h3>

<p>Aleš Žiberna
</p>


<h3>References</h3>

<p>Žiberna, A. (2007). Generalized Blockmodeling of Valued Networks. Social Networks, 29(1), 105-126. doi: 10.1016/j.socnet.2006.04.002
</p>
<p>Žiberna, A. (2008). Direct and indirect approaches to blockmodeling of valued networks in terms of regular equivalence. Journal of Mathematical Sociology, 32(1), 57-84. doi: 10.1080/00222500701790207
</p>


<h3>See Also</h3>

<p><code>critFunC</code>, <code>optRandomParC</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Generation of the network
n &lt;- 20
net &lt;- matrix(NA, ncol = n, nrow = n)
clu &lt;- rep(1:2, times = c(5, 15))
tclu &lt;- table(clu)
net[clu == 1, clu == 1] &lt;- rnorm(n = tclu[1] * tclu[1], mean = 0, sd = 1)
net[clu == 1, clu == 2] &lt;- rnorm(n = tclu[1] * tclu[2], mean = 4, sd = 1)
net[clu == 2, clu == 1] &lt;- rnorm(n = tclu[2] * tclu[1], mean = 0, sd = 1)
net[clu == 2, clu == 2] &lt;- rnorm(n = tclu[2] * tclu[2], mean = 0, sd = 1)

# Ploting the network
plotMat(M = net, clu = clu, print.digits.cells = 3)
class(net) &lt;- "mat"
plot(net, clu = clu)
# See corresponding functions for examples for other ploting
# functions
# presented, that are essentially only the wrappers for "plot.max"
</code></pre>


</div>