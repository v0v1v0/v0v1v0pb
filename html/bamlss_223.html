<div class="container">

<table style="width: 100%;"><tr>
<td>randomize</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Transform Smooth Constructs to Random Effects
</h2>

<h3>Description</h3>

<p>The transformer function takes a <code>bamlss.frame</code> object and transforms all
<code>smooth.construct</code>s into a random effects representation. Note that this
is only possible for smooth terms with a single smoothing variance. The function
is based on function <code>smooth2random</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">trans_random(x)
randomize(x)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Object returned from function <code>bamlss.frame</code>.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>The decomposition is achieved by a spectral decomposition of the penalty and design matrix by
finding a basis of the null space of the penalty matrix. This feature is used, e.g., for the
<code>JAGS</code> sampler function. For more details see also <code>jagam</code>.
</p>


<h3>Value</h3>

<p>A transformed <code>bamlss.frame</code>. To each <code>smooth.construct</code> model term
an element named <code>"Xf"</code>, the fixed effects design matrix, and an element <code>"rand$Xr"</code>,
the random effects design matrix, is added. In addition, for re-transforming parameters elements
<code>"trans.U"</code> and <code>"trans.D"</code> are supplied. See also function
<code>smooth2random</code>.
</p>


<h3>References</h3>

<p>Fahrmeir L, Kneib T, Lang S, Marx B (2013). Regression - Models, Methods and Applications.
Springer-Verlag, Berlin. ISBN 978-3-642-34332-2.
</p>
<p>Wood S.N. (2006). Generalized Additive Models: An Introduction with
<span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>. Chapman and Hall/CRC.
</p>


<h3>See Also</h3>

<p><code>bamlss.frame</code>, <code>bamlss</code>, <code>smooth2random</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Simulate data.
d &lt;- GAMart()

## Create a "bamlss.frame".
bf &lt;- bamlss.frame(num ~ s(x1) + s(x2) + s(x3) + s(lon,lat), data = d)

## Structure of the "s(x1)" smooth.construct.
str(bf$x$mu$smooth.construct[["s(x1)"]])

## Transform.
bf &lt;- randomize(bf)

## New structure adding fixed
## and random effect matrices.
str(bf$x$mu$smooth.construct[["s(x1)"]])
</code></pre>


</div>