<div class="container">

<table style="width: 100%;"><tr>
<td>print.bm_bitmap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Print bitmap objects</h2>

<h3>Description</h3>

<p><code>print.bm_bitmap()</code> prints a representation of bitmap objects to the terminal.
It is a wrapper around <code>format.bm_bitmap()</code> which converts bitmap objects
to a character vector.
<code>px_unicode</code> and <code>px_ascii</code> are builtin character vectors intended for use with the <code>px</code>
argument (the former contains Unicode “Block Elements” while the latter is purely ASCII).
<code>px_auto()</code> chooses which character vector to use based on whether <code>cli::is_utf8_output()</code> is <code>TRUE</code> or not.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'bm_bitmap'
print(
  x,
  ...,
  px = getOption("bittermelon.px", px_auto()),
  fg = getOption("bittermelon.fg", FALSE),
  bg = getOption("bittermelon.bg", FALSE),
  compress = getOption("bittermelon.compress", "none"),
  downscale = getOption("bittermelon.downscale", FALSE)
)

## S3 method for class 'bm_bitmap'
format(
  x,
  ...,
  px = getOption("bittermelon.px", px_auto()),
  fg = getOption("bittermelon.fg", FALSE),
  bg = getOption("bittermelon.bg", FALSE),
  compress = getOption("bittermelon.compress", "none"),
  downscale = getOption("bittermelon.downscale", FALSE)
)

px_unicode

px_ascii

px_auto(unicode = px_unicode, ascii = px_ascii)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>bm_bitmap()</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>px</code></td>
<td>
<p>Character vector of the pixel to use for each integer value i.e.
The first character for integer <code>0L</code>,
the second character for integer <code>1L</code>, and so on.
Will be recycled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fg</code></td>
<td>
<p>R color strings of foreground colors to use and/or cli ANSI style functions of class <code>cli_ansi_style</code>.
<code>FALSE</code> (default) for no foreground colors.
Will be recycled and passed to <code>cli::make_ansi_style()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg</code></td>
<td>
<p>R color strings of background colors to use and/or cli ANSI style functions of class <code>cli_ansi_style</code>.
<code>FALSE</code> (default) for no background colors.
Will be recycled and passed to <code>cli::make_ansi_style()</code> with <code>bg = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compress</code></td>
<td>
<p>If "none" (default) or "n" don't compress first with <code>bm_compress()</code>.
Otherwise compress first with <code>bm_compress()</code> passing
the value of <code>compress</code> as its <code>direction</code> argument
(i.e. either "vertical" or "v", "horizontal" or "h",
OR "both" or "b").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>downscale</code></td>
<td>
<p>If <code>TRUE</code> and the printed bitmap will be wider than <code>getOption("width")</code>
then shrink the image to fit <code>getOption("width")</code> using <code>bm_downscale()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unicode</code></td>
<td>
<p>Character vector to use if <code>cli::is_utf8_output()</code> is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ascii</code></td>
<td>
<p>Character vector to use if <code>cli::is_utf8_output()</code> is <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Format</h3>

<p>An object of class <code>character</code> of length 20.
</p>
<p>An object of class <code>character</code> of length 20.
</p>


<h3>Value</h3>

<p>A character vector of the string representation (<code>print.bm_bitmap()</code> does this invisibly).
As a side effect <code>print.bm_bitmap()</code> prints out the string representation to the terminal.
</p>


<h3>Fonts and terminal settings</h3>

<p>Printing bitmaps/pixmaps may or may not look great
in your terminal depending on a variety of factors:
</p>

<ul>
<li>
<p> The terminal should support the Unicode - UTF-8 encoding.
We use <code>cli::is_utf8_output()</code> to guess Unicode support
which in turn looks at <code>getOption("cli.unicode")</code> and <code>l10n_info()</code>.
</p>
</li>
<li>
<p> The terminal should support ANSI sequences and if it does
it should support many colors.
</p>

<ul><li>
<p> We use <code>cli::num_ansi_colors()</code> to detect number of colors supported.
<code>num_ansi_colors()</code> detection algorithm is complicated but it first looks at
<code>getOption("cli.num_colors")</code>.
</p>
</li></ul>
<ul><li>
<p> If <code>cli::num_ansi_colors()</code> equals 16777216 then your terminal
supports 24-bit ANSI colors.
</p>
</li></ul>
<ul><li>
<p> If using the Windows Command Prompt window you may need to enable
ANSI sequences support by doing <code style="white-space: pre;">⁠REG ADD HKCU\CONSOLE /f /v VirtualTerminalLevel /t REG_DWORD /d 1⁠</code>
from the command-line or running <code>regedit</code> (Registry Editor) and go to
<code style="white-space: pre;">⁠Computer\HKEY_CURRENT_USER\Console⁠</code> and set <code>VirtualTerminalLevel</code> to <code>1</code>.
</p>
</li></ul>
</li>
<li>
<p> The font used by the terminal should be a monoscale font that supports the
<a href="https://en.wikipedia.org/wiki/Block_Elements">Block Elements</a> Unicode block.
</p>
</li>
<li>
<p> The terminal text settings should have a cell spacing around 1.00 times width and 1.00 times height.
For terminals configured by CSS styles this means a <code>line-height</code> of around <code>1.0</code>.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>bm_bitmap()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)
bm_R &lt;- font[[str2ucp("R")]]
print(bm_R)

if (cli::is_utf8_output())
  print(bm_R, px = px_unicode, compress = "vertical")

bm_8 &lt;- font[[str2ucp("8")]]
bm_8_with_border &lt;- bm_extend(bm_extend(bm_8, left = 1L),
                              sides = 1L, value = 2L)
print(bm_8_with_border, px = c(".", "@", "X"))

if (cli::num_ansi_colors() &gt;= 16L) {
  print(bm_8_with_border, px = " ",
        bg = c(cli::bg_br_white, cli::bg_blue, cli::bg_red))
}
</code></pre>


</div>